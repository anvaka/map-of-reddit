(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00b4":function(e,t,r){"use strict";r("ac1f");var n=r("23e7"),i=r("861d"),a=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),o=/./.test;n({target:"RegExp",proto:!0,forced:!a},{test:function(e){if("function"!==typeof this.exec)return o.call(this,e);var t=this.exec(e);if(null!==t&&!i(t))throw new Error("RegExp exec method returned something other than an Object or null");return!!t}})},"00c7":function(e,t){function r(e){var t=Object.create(null);return{on:function(r,n,i){if("function"!==typeof n)throw new Error("callback is expected to be a function");var a=t[r];return a||(a=t[r]=[]),a.push({callback:n,ctx:i}),e},off:function(r,n){var i="undefined"===typeof r;if(i)return t=Object.create(null),e;if(t[r]){var a="function"!==typeof n;if(a)delete t[r];else for(var o=t[r],s=0;s<o.length;++s)o[s].callback===n&&o.splice(s,1)}return e},fire:function(r){var n,i=t[r];if(!i)return e;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var a=0;a<i.length;++a){var o=i[a];o.callback.apply(o.ctx,n)}return e}}}function n(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}e.exports=function(e){n(e);var t=r(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},"00ee":function(e,t,r){var n=r("b622"),i=n("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},"0366":function(e,t,r){var n=r("1c0b");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},"0481":function(e,t,r){"use strict";var n=r("23e7"),i=r("a2bf"),a=r("7b0b"),o=r("50c4"),s=r("a691"),u=r("65f0");n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t.length),n=u(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},"04cd":function(e,t){function r(e){var t=[],r=e;return{dispose:a,onChanged:o,set:i,get:n};function n(){return r}function i(e){r=e,setTimeout((function(){s(e)}),0)}function a(){t=[]}function o(e){if("function"!==typeof e)throw new Error("changeCallback should be a function");t.push(e)}function s(e){t.forEach((function(t){t(e)}))}}e.exports=r},"0538":function(e,t,r){"use strict";var n=r("1c0b"),i=r("861d"),a=[].slice,o={},s=function(e,t,r){if(!(t in o)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";o[t]=Function("C,a","return new C("+n.join(",")+")")}return o[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),o=function(){var n=r.concat(a.call(arguments));return this instanceof o?s(t,n.length,n):t.apply(e,n)};return i(t.prototype)&&(o.prototype=t.prototype),o}},"057f":function(e,t,r){var n=r("fc6a"),i=r("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(n(e))}},"06c5":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("fb6a"),r("d3b7"),r("25f0"),r("b0c0"),r("a630"),r("3ca3"),r("ac1f"),r("00b4");function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},"06cf":function(e,t,r){var n=r("83ab"),i=r("d1e7"),a=r("5c6c"),o=r("fc6a"),s=r("c04e"),u=r("5135"),l=r("0cfb"),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(r){}if(u(e,t))return a(!i.f.call(e,t),e[t])}},"0acc":function(e,t,r){const n=r("28d9");function i(e){let t=a(e),{Body:r}=new Function(t)();return r}function a(e){let t=n(e),r=t("{var}",{join:", "}),i=`\nfunction Vector(${r}) {\n  if (typeof arguments[0] === 'object') {\n    // could be another vector\n    let v = arguments[0];\n    ${t('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}\n    ${t("this.{var} = v.{var};",{indent:4})}\n  } else {\n    ${t('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}\n  }\n}\n\nVector.prototype.reset = function () {\n  ${t("this.{var} = ",{join:""})}0;\n};\n\nfunction Body(${r}) {\n  this.isPinned = false;\n  this.pos = new Vector(${r});\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (${r}) {\n  ${t("this.pos.{var} = {var} || 0;",{indent:2})}\n};\n\nreturn {Body: Body, Vector: Vector};\n`;return i}e.exports=i,e.exports.generateCreateBodyFunctionBody=a},"0b25":function(e,t,r){var n=r("a691"),i=r("50c4");e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}},"0cb2":function(e,t,r){var n=r("7b0b"),i=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,u,l,c){var f=r+e.length,d=u.length,h=s;return void 0!==l&&(l=n(l),h=o),a.call(c,h,(function(n,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(f);case"<":o=l[a.slice(1,-1)];break;default:var s=+a;if(0===s)return n;if(s>d){var c=i(s/10);return 0===c?n:c<=d?void 0===u[c-1]?a.charAt(1):u[c-1]+a.charAt(1):n}o=u[s-1]}return void 0===o?"":o}))}},"0cfb":function(e,t,r){var n=r("83ab"),i=r("d039"),a=r("cc12");e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"0d3b":function(e,t,r){var n=r("d039"),i=r("b622"),a=r("c430"),o=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"131a":function(e,t,r){var n=r("23e7"),i=r("d2bb");n({target:"Object",stat:!0},{setPrototypeOf:i})},1448:function(e,t,r){var n=r("ebb5").aTypedArrayConstructor,i=r("4840");e.exports=function(e,t){var r=i(e,e.constructor),a=0,o=t.length,s=new(n(r))(o);while(o>a)s[a]=t[a++];return s}},"145e":function(e,t,r){"use strict";var n=r("7b0b"),i=r("23cb"),a=r("50c4"),o=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),s=a(r.length),u=i(e,s),l=i(t,s),c=arguments.length>2?arguments[2]:void 0,f=o((void 0===c?s:i(c,s))-l,s-u),d=1;l<u&&u<l+f&&(d=-1,l+=f-1,u+=f-1);while(f-- >0)l in r?r[u]=r[l]:delete r[u],u+=d,l+=d;return r}},"148d":function(e,t,r){e.exports=i;var n=r("00c7");function i(e){if(e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId),void 0===e.multigraph&&(e.multigraph=!1),"function"!==typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,r=[],i={},c=0,f=e.multigraph?R:A,d=[],h=F,p=F,g=F,m=F,v={addNode:_,addLink:S,removeLink:N,removeNode:w,getNode:T,getNodeCount:I,getLinkCount:C,getLinksCount:C,getNodesCount:I,getLinks:D,forEachNode:U,forEachLinkedNode:P,forEachLink:O,beginUpdate:g,endUpdate:m,clear:M,hasLink:x,hasNode:T,getLink:x};return n(v),y(),v;function y(){var e=v.on;function t(){return v.beginUpdate=g=j,v.endUpdate=m=B,h=b,p=E,v.on=e,e.apply(v,arguments)}v.on=t}function b(e,t){d.push({link:e,changeType:t})}function E(e,t){d.push({node:e,changeType:t})}function _(e,r){if(void 0===e)throw new Error("Invalid node identifier");g();var n=T(e);return n?(n.data=r,p(n,"update")):(n=new o(e,r),p(n,"add")),t.set(e,n),m(),n}function T(e){return t.get(e)}function w(e){var r=T(e);if(!r)return!1;g();var n=r.links;if(n){r.links=null;for(var i=0;i<n.length;++i)N(n[i])}return t.delete(e),p(r,"remove"),m(),!0}function S(e,t,n){g();var i=T(e)||_(e),a=T(t)||_(t),o=f(e,t,n);return r.push(o),s(i,o),e!==t&&s(a,o),h(o,"add"),m(),o}function A(e,t,r){var n=l(e,t);return new u(e,t,r,n)}function R(e,t,r){var n=l(e,t),a=i.hasOwnProperty(n);if(a||x(e,t)){a||(i[n]=0);var o="@"+ ++i[n];n=l(e+o,t+o)}return new u(e,t,r,n)}function I(){return t.size}function C(){return r.length}function D(e){var t=T(e);return t?t.links:null}function N(e){if(!e)return!1;var t=a(e,r);if(t<0)return!1;g(),r.splice(t,1);var n=T(e.fromId),i=T(e.toId);return n&&(t=a(e,n.links),t>=0&&n.links.splice(t,1)),i&&(t=a(e,i.links),t>=0&&i.links.splice(t,1)),h(e,"remove"),m(),!0}function x(e,t){var r,n=T(e);if(!n||!n.links)return null;for(r=0;r<n.links.length;++r){var i=n.links[r];if(i.fromId===e&&i.toId===t)return i}return null}function M(){g(),U((function(e){w(e.id)})),m()}function O(e){var t,n;if("function"===typeof e)for(t=0,n=r.length;t<n;++t)e(r[t])}function P(e,t,r){var n=T(e);if(n&&n.links&&"function"===typeof t)return r?k(n.links,e,t):L(n.links,e,t)}function L(e,r,n){for(var i,a=0;a<e.length;++a){var o=e[a],s=o.fromId===r?o.toId:o.fromId;if(i=n(t.get(s),o),i)return!0}}function k(e,r,n){for(var i,a=0;a<e.length;++a){var o=e[a];if(o.fromId===r&&(i=n(t.get(o.toId),o),i))return!0}}function F(){}function j(){c+=1}function B(){c-=1,0===c&&d.length>0&&(v.fire("changed",d),d.length=0)}function U(e){if("function"!==typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);var r=t.values(),n=r.next();while(!n.done){if(e(n.value))return!0;n=r.next()}}}function a(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var r,n=t.length;for(r=0;r<n;r+=1)if(t[r]===e)return r;return-1}function o(e,t){this.id=e,this.links=null,this.data=t}function s(e,t){e.links?e.links.push(t):e.links=[t]}function u(e,t,r,n){this.fromId=e,this.toId=t,this.data=r,this.id=n}function l(e,t){return e.toString()+"👉 "+t.toString()}},"14c3":function(e,t,r){var n=r("c6b6"),i=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var a=r.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,r){var n=r("da84"),i=r("fdbc"),a=r("17c2"),o=r("9112");for(var s in i){var u=n[s],l=u&&u.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(c){l.forEach=a}}},"170b":function(e,t,r){"use strict";var n=r("ebb5"),i=r("50c4"),a=r("23cb"),o=r("4840"),s=n.aTypedArray,u=n.exportTypedArrayMethod;u("subarray",(function(e,t){var r=s(this),n=r.length,u=a(e,n);return new(o(r,r.constructor))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,i((void 0===t?n:a(t,n))-u))}))},1748:function(e,t,r){e.exports=a;var n=r("04cd"),i=r("462d");function a(e,t){if("undefined"===typeof window)return n(e);var r=[],a=t&&t.useSearch,o=a?"?":"#?";return t.rewriteHashToSearch&&u(),s(),{onChanged:c,dispose:f,set:l,get:p,rewriteHashToSearch:u};function s(){var t=p(),r=!1;"object"===typeof e&&e&&Object.keys(e).forEach((function(n){n in t||(t[n]=e[n],r=!0)})),r&&l(t)}function u(){var e=Object.create(null),t=window.location.search;t&&(e=Object.assign(e,i.parse(t.substr(1))));var r=window.location.hash;r&&(e=Object.assign(e,i.parse(r.substr(2)))),l(e)}function l(e){var t=o+i.stringify(e);a&&window.location.hash&&(t+=window.location.hash),window.history?window.history.replaceState(void 0,void 0,t):window.location.replace(t)}function c(e){if("function"!==typeof e)throw new Error("changeCallback needs to be a function");0===r.length&&window.addEventListener("hashchange",d,!1),r.push(e)}function f(){0!==r.length&&(r=[],window.removeEventListener("hashchange",d,!1))}function d(){var e=p();h(e)}function h(e){for(var t=0;t<r.length;++t){var n=r[t];n(e)}}function p(){var e=a?window.location.search:window.location.hash,t=(e||o).substr(o.length);return i.parse(t)}}},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,i=r("a640"),a=i("forEach");e.exports=a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"182d":function(e,t,r){var n=r("f8cd");e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},"19aa":function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},"1a2d":function(e,t,r){const n=r("de34"),i=r("4e79"),a=r("cfbe"),o=r("83fb");e.exports={createStreamingSVGParser:n,getPointsFromPathData:i,NumberParser:a,getElementFillColor:o}},"1be4":function(e,t,r){var n=r("d066");e.exports=n("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,r){var n=r("b622"),i=n("iterator"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(u){}return r}},"1cdc":function(e,t,r){var n=r("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,r){var n=r("d039"),i=r("b622"),a=r("2d00"),o=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2015:function(e,t){e.exports=function(e){return 0===e?"x":1===e?"y":2===e?"z":"c"+(e+1)}},"20e7":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i}));var n={};r.r(n),r.d(n,"create",(function(){return l})),r.d(n,"clone",(function(){return c})),r.d(n,"copy",(function(){return f})),r.d(n,"fromValues",(function(){return d})),r.d(n,"set",(function(){return h})),r.d(n,"identity",(function(){return p})),r.d(n,"transpose",(function(){return g})),r.d(n,"invert",(function(){return m})),r.d(n,"adjoint",(function(){return v})),r.d(n,"determinant",(function(){return y})),r.d(n,"multiply",(function(){return b})),r.d(n,"translate",(function(){return E})),r.d(n,"scale",(function(){return _})),r.d(n,"rotate",(function(){return T})),r.d(n,"rotateX",(function(){return w})),r.d(n,"rotateY",(function(){return S})),r.d(n,"rotateZ",(function(){return A})),r.d(n,"fromTranslation",(function(){return R})),r.d(n,"fromScaling",(function(){return I})),r.d(n,"fromRotation",(function(){return C})),r.d(n,"fromXRotation",(function(){return D})),r.d(n,"fromYRotation",(function(){return N})),r.d(n,"fromZRotation",(function(){return x})),r.d(n,"fromRotationTranslation",(function(){return M})),r.d(n,"fromQuat2",(function(){return O})),r.d(n,"getTranslation",(function(){return P})),r.d(n,"getScaling",(function(){return L})),r.d(n,"getRotation",(function(){return k})),r.d(n,"fromRotationTranslationScale",(function(){return F})),r.d(n,"fromRotationTranslationScaleOrigin",(function(){return j})),r.d(n,"fromQuat",(function(){return B})),r.d(n,"frustum",(function(){return U})),r.d(n,"perspectiveNO",(function(){return q})),r.d(n,"perspective",(function(){return G})),r.d(n,"perspectiveZO",(function(){return V})),r.d(n,"perspectiveFromFieldOfView",(function(){return H})),r.d(n,"orthoNO",(function(){return Y})),r.d(n,"ortho",(function(){return z})),r.d(n,"orthoZO",(function(){return K})),r.d(n,"lookAt",(function(){return W})),r.d(n,"targetTo",(function(){return $})),r.d(n,"str",(function(){return X})),r.d(n,"frob",(function(){return Q})),r.d(n,"add",(function(){return Z})),r.d(n,"subtract",(function(){return J})),r.d(n,"multiplyScalar",(function(){return ee})),r.d(n,"multiplyScalarAndAdd",(function(){return te})),r.d(n,"exactEquals",(function(){return re})),r.d(n,"equals",(function(){return ne})),r.d(n,"mul",(function(){return ie})),r.d(n,"sub",(function(){return ae}));var i={};r.r(i),r.d(i,"create",(function(){return se})),r.d(i,"clone",(function(){return ue})),r.d(i,"length",(function(){return le})),r.d(i,"fromValues",(function(){return ce})),r.d(i,"copy",(function(){return fe})),r.d(i,"set",(function(){return de})),r.d(i,"add",(function(){return he})),r.d(i,"subtract",(function(){return pe})),r.d(i,"multiply",(function(){return ge})),r.d(i,"divide",(function(){return me})),r.d(i,"ceil",(function(){return ve})),r.d(i,"floor",(function(){return ye})),r.d(i,"min",(function(){return be})),r.d(i,"max",(function(){return Ee})),r.d(i,"round",(function(){return _e})),r.d(i,"scale",(function(){return Te})),r.d(i,"scaleAndAdd",(function(){return we})),r.d(i,"distance",(function(){return Se})),r.d(i,"squaredDistance",(function(){return Ae})),r.d(i,"squaredLength",(function(){return Re})),r.d(i,"negate",(function(){return Ie})),r.d(i,"inverse",(function(){return Ce})),r.d(i,"normalize",(function(){return De})),r.d(i,"dot",(function(){return Ne})),r.d(i,"cross",(function(){return xe})),r.d(i,"lerp",(function(){return Me})),r.d(i,"hermite",(function(){return Oe})),r.d(i,"bezier",(function(){return Pe})),r.d(i,"random",(function(){return Le})),r.d(i,"transformMat4",(function(){return ke})),r.d(i,"transformMat3",(function(){return Fe})),r.d(i,"transformQuat",(function(){return je})),r.d(i,"rotateX",(function(){return Be})),r.d(i,"rotateY",(function(){return Ue})),r.d(i,"rotateZ",(function(){return qe})),r.d(i,"angle",(function(){return Ge})),r.d(i,"zero",(function(){return Ve})),r.d(i,"str",(function(){return He})),r.d(i,"exactEquals",(function(){return Ye})),r.d(i,"equals",(function(){return ze})),r.d(i,"sub",(function(){return Ke})),r.d(i,"mul",(function(){return We})),r.d(i,"div",(function(){return $e})),r.d(i,"dist",(function(){return Xe})),r.d(i,"sqrDist",(function(){return Qe})),r.d(i,"len",(function(){return Ze})),r.d(i,"sqrLen",(function(){return Je})),r.d(i,"forEach",(function(){return et}));var a={};r.r(a),r.d(a,"create",(function(){return gt})),r.d(a,"identity",(function(){return mt})),r.d(a,"setAxisAngle",(function(){return vt})),r.d(a,"getAxisAngle",(function(){return yt})),r.d(a,"getAngle",(function(){return bt})),r.d(a,"multiply",(function(){return Et})),r.d(a,"rotateX",(function(){return _t})),r.d(a,"rotateY",(function(){return Tt})),r.d(a,"rotateZ",(function(){return wt})),r.d(a,"calculateW",(function(){return St})),r.d(a,"exp",(function(){return At})),r.d(a,"ln",(function(){return Rt})),r.d(a,"pow",(function(){return It})),r.d(a,"slerp",(function(){return Ct})),r.d(a,"random",(function(){return Dt})),r.d(a,"invert",(function(){return Nt})),r.d(a,"conjugate",(function(){return xt})),r.d(a,"fromMat3",(function(){return Mt})),r.d(a,"fromEuler",(function(){return Ot})),r.d(a,"str",(function(){return Pt})),r.d(a,"clone",(function(){return Lt})),r.d(a,"fromValues",(function(){return kt})),r.d(a,"copy",(function(){return Ft})),r.d(a,"set",(function(){return jt})),r.d(a,"add",(function(){return Bt})),r.d(a,"mul",(function(){return Ut})),r.d(a,"scale",(function(){return qt})),r.d(a,"dot",(function(){return Gt})),r.d(a,"lerp",(function(){return Vt})),r.d(a,"length",(function(){return Ht})),r.d(a,"len",(function(){return Yt})),r.d(a,"squaredLength",(function(){return zt})),r.d(a,"sqrLen",(function(){return Kt})),r.d(a,"normalize",(function(){return Wt})),r.d(a,"exactEquals",(function(){return $t})),r.d(a,"equals",(function(){return Xt})),r.d(a,"rotationTo",(function(){return Qt})),r.d(a,"sqlerp",(function(){return Zt})),r.d(a,"setAxes",(function(){return Jt}));var o=1e-6,s="undefined"!==typeof Float32Array?Float32Array:Array,u=Math.random;Math.PI;function l(){var e=new s(16);return s!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function c(e){var t=new s(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function d(e,t,r,n,i,a,o,u,l,c,f,d,h,p,g,m){var v=new s(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=i,v[5]=a,v[6]=o,v[7]=u,v[8]=l,v[9]=c,v[10]=f,v[11]=d,v[12]=h,v[13]=p,v[14]=g,v[15]=m,v}function h(e,t,r,n,i,a,o,s,u,l,c,f,d,h,p,g,m){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=g,e[15]=m,e}function p(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function m(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=r*s-n*o,b=r*u-i*o,E=r*l-a*o,_=n*u-i*s,T=n*l-a*s,w=i*l-a*u,S=c*g-f*p,A=c*m-d*p,R=c*v-h*p,I=f*m-d*g,C=f*v-h*g,D=d*v-h*m,N=y*D-b*C+E*I+_*R-T*A+w*S;return N?(N=1/N,e[0]=(s*D-u*C+l*I)*N,e[1]=(i*C-n*D-a*I)*N,e[2]=(g*w-m*T+v*_)*N,e[3]=(d*T-f*w-h*_)*N,e[4]=(u*R-o*D-l*A)*N,e[5]=(r*D-i*R+a*A)*N,e[6]=(m*E-p*w-v*b)*N,e[7]=(c*w-d*E+h*b)*N,e[8]=(o*C-s*R+l*S)*N,e[9]=(n*R-r*C-a*S)*N,e[10]=(p*T-g*E+v*y)*N,e[11]=(f*E-c*T-h*y)*N,e[12]=(s*A-o*I-u*S)*N,e[13]=(r*I-n*A+i*S)*N,e[14]=(g*b-p*_-m*y)*N,e[15]=(c*_-f*b+d*y)*N,e):null}function v(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15];return e[0]=s*(d*v-h*m)-f*(u*v-l*m)+g*(u*h-l*d),e[1]=-(n*(d*v-h*m)-f*(i*v-a*m)+g*(i*h-a*d)),e[2]=n*(u*v-l*m)-s*(i*v-a*m)+g*(i*l-a*u),e[3]=-(n*(u*h-l*d)-s*(i*h-a*d)+f*(i*l-a*u)),e[4]=-(o*(d*v-h*m)-c*(u*v-l*m)+p*(u*h-l*d)),e[5]=r*(d*v-h*m)-c*(i*v-a*m)+p*(i*h-a*d),e[6]=-(r*(u*v-l*m)-o*(i*v-a*m)+p*(i*l-a*u)),e[7]=r*(u*h-l*d)-o*(i*h-a*d)+c*(i*l-a*u),e[8]=o*(f*v-h*g)-c*(s*v-l*g)+p*(s*h-l*f),e[9]=-(r*(f*v-h*g)-c*(n*v-a*g)+p*(n*h-a*f)),e[10]=r*(s*v-l*g)-o*(n*v-a*g)+p*(n*l-a*s),e[11]=-(r*(s*h-l*f)-o*(n*h-a*f)+c*(n*l-a*s)),e[12]=-(o*(f*m-d*g)-c*(s*m-u*g)+p*(s*d-u*f)),e[13]=r*(f*m-d*g)-c*(n*m-i*g)+p*(n*d-i*f),e[14]=-(r*(s*m-u*g)-o*(n*m-i*g)+p*(n*u-i*s)),e[15]=r*(s*d-u*f)-o*(n*d-i*f)+c*(n*u-i*s),e}function y(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],g=e[14],m=e[15],v=t*o-r*a,y=t*s-n*a,b=t*u-i*a,E=r*s-n*o,_=r*u-i*o,T=n*u-i*s,w=l*p-c*h,S=l*g-f*h,A=l*m-d*h,R=c*g-f*p,I=c*m-d*p,C=f*m-d*g;return v*C-y*I+b*R+E*A-_*S+T*w}function b(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=r[0],E=r[1],_=r[2],T=r[3];return e[0]=b*n+E*s+_*f+T*g,e[1]=b*i+E*u+_*d+T*m,e[2]=b*a+E*l+_*h+T*v,e[3]=b*o+E*c+_*p+T*y,b=r[4],E=r[5],_=r[6],T=r[7],e[4]=b*n+E*s+_*f+T*g,e[5]=b*i+E*u+_*d+T*m,e[6]=b*a+E*l+_*h+T*v,e[7]=b*o+E*c+_*p+T*y,b=r[8],E=r[9],_=r[10],T=r[11],e[8]=b*n+E*s+_*f+T*g,e[9]=b*i+E*u+_*d+T*m,e[10]=b*a+E*l+_*h+T*v,e[11]=b*o+E*c+_*p+T*y,b=r[12],E=r[13],_=r[14],T=r[15],e[12]=b*n+E*s+_*f+T*g,e[13]=b*i+E*u+_*d+T*m,e[14]=b*a+E*l+_*h+T*v,e[15]=b*o+E*c+_*p+T*y,e}function E(e,t,r){var n,i,a,o,s,u,l,c,f,d,h,p,g=r[0],m=r[1],v=r[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=n*g+s*m+f*v+t[12],e[13]=i*g+u*m+d*v+t[13],e[14]=a*g+l*m+h*v+t[14],e[15]=o*g+c*m+p*v+t[15]),e}function _(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function T(e,t,r,n){var i,a,s,u,l,c,f,d,h,p,g,m,v,y,b,E,_,T,w,S,A,R,I,C,D=n[0],N=n[1],x=n[2],M=Math.hypot(D,N,x);return M<o?null:(M=1/M,D*=M,N*=M,x*=M,i=Math.sin(r),a=Math.cos(r),s=1-a,u=t[0],l=t[1],c=t[2],f=t[3],d=t[4],h=t[5],p=t[6],g=t[7],m=t[8],v=t[9],y=t[10],b=t[11],E=D*D*s+a,_=N*D*s+x*i,T=x*D*s-N*i,w=D*N*s-x*i,S=N*N*s+a,A=x*N*s+D*i,R=D*x*s+N*i,I=N*x*s-D*i,C=x*x*s+a,e[0]=u*E+d*_+m*T,e[1]=l*E+h*_+v*T,e[2]=c*E+p*_+y*T,e[3]=f*E+g*_+b*T,e[4]=u*w+d*S+m*A,e[5]=l*w+h*S+v*A,e[6]=c*w+p*S+y*A,e[7]=f*w+g*S+b*A,e[8]=u*R+d*I+m*C,e[9]=l*R+h*I+v*C,e[10]=c*R+p*I+y*C,e[11]=f*R+g*I+b*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function w(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*n,e[5]=o*i+c*n,e[6]=s*i+f*n,e[7]=u*i+d*n,e[8]=l*i-a*n,e[9]=c*i-o*n,e[10]=f*i-s*n,e[11]=d*i-u*n,e}function S(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*n,e[1]=o*i-c*n,e[2]=s*i-f*n,e[3]=u*i-d*n,e[8]=a*n+l*i,e[9]=o*n+c*i,e[10]=s*n+f*i,e[11]=u*n+d*i,e}function A(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*n,e[1]=o*i+c*n,e[2]=s*i+f*n,e[3]=u*i+d*n,e[4]=l*i-a*n,e[5]=c*i-o*n,e[6]=f*i-s*n,e[7]=d*i-u*n,e}function R(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function I(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function C(e,t,r){var n,i,a,s=r[0],u=r[1],l=r[2],c=Math.hypot(s,u,l);return c<o?null:(c=1/c,s*=c,u*=c,l*=c,n=Math.sin(t),i=Math.cos(t),a=1-i,e[0]=s*s*a+i,e[1]=u*s*a+l*n,e[2]=l*s*a-u*n,e[3]=0,e[4]=s*u*a-l*n,e[5]=u*u*a+i,e[6]=l*u*a+s*n,e[7]=0,e[8]=s*l*a+u*n,e[9]=u*l*a-s*n,e[10]=l*l*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function D(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function N(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=n+n,u=i+i,l=a+a,c=n*s,f=n*u,d=n*l,h=i*u,p=i*l,g=a*l,m=o*s,v=o*u,y=o*l;return e[0]=1-(h+g),e[1]=f+y,e[2]=d-v,e[3]=0,e[4]=f-y,e[5]=1-(c+g),e[6]=p+m,e[7]=0,e[8]=d+v,e[9]=p-m,e[10]=1-(c+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function O(e,t){var r=new s(3),n=-t[0],i=-t[1],a=-t[2],o=t[3],u=t[4],l=t[5],c=t[6],f=t[7],d=n*n+i*i+a*a+o*o;return d>0?(r[0]=2*(u*o+f*n+l*a-c*i)/d,r[1]=2*(l*o+f*i+c*n-u*a)/d,r[2]=2*(c*o+f*a+u*i-l*n)/d):(r[0]=2*(u*o+f*n+l*a-c*i),r[1]=2*(l*o+f*i+c*n-u*a),r[2]=2*(c*o+f*a+u*i-l*n)),M(e,t,r),e}function P(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function L(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],o=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(a,o,s),e[2]=Math.hypot(u,l,c),e}function k(e,t){var r=new s(3);L(r,t);var n=1/r[0],i=1/r[1],a=1/r[2],o=t[0]*n,u=t[1]*i,l=t[2]*a,c=t[4]*n,f=t[5]*i,d=t[6]*a,h=t[8]*n,p=t[9]*i,g=t[10]*a,m=o+f+g,v=0;return m>0?(v=2*Math.sqrt(m+1),e[3]=.25*v,e[0]=(d-p)/v,e[1]=(h-l)/v,e[2]=(u-c)/v):o>f&&o>g?(v=2*Math.sqrt(1+o-f-g),e[3]=(d-p)/v,e[0]=.25*v,e[1]=(u+c)/v,e[2]=(h+l)/v):f>g?(v=2*Math.sqrt(1+f-o-g),e[3]=(h-l)/v,e[0]=(u+c)/v,e[1]=.25*v,e[2]=(d+p)/v):(v=2*Math.sqrt(1+g-o-f),e[3]=(u-c)/v,e[0]=(h+l)/v,e[1]=(d+p)/v,e[2]=.25*v),e}function F(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3],u=i+i,l=a+a,c=o+o,f=i*u,d=i*l,h=i*c,p=a*l,g=a*c,m=o*c,v=s*u,y=s*l,b=s*c,E=n[0],_=n[1],T=n[2];return e[0]=(1-(p+m))*E,e[1]=(d+b)*E,e[2]=(h-y)*E,e[3]=0,e[4]=(d-b)*_,e[5]=(1-(f+m))*_,e[6]=(g+v)*_,e[7]=0,e[8]=(h+y)*T,e[9]=(g-v)*T,e[10]=(1-(f+p))*T,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function j(e,t,r,n,i){var a=t[0],o=t[1],s=t[2],u=t[3],l=a+a,c=o+o,f=s+s,d=a*l,h=a*c,p=a*f,g=o*c,m=o*f,v=s*f,y=u*l,b=u*c,E=u*f,_=n[0],T=n[1],w=n[2],S=i[0],A=i[1],R=i[2],I=(1-(g+v))*_,C=(h+E)*_,D=(p-b)*_,N=(h-E)*T,x=(1-(d+v))*T,M=(m+y)*T,O=(p+b)*w,P=(m-y)*w,L=(1-(d+g))*w;return e[0]=I,e[1]=C,e[2]=D,e[3]=0,e[4]=N,e[5]=x,e[6]=M,e[7]=0,e[8]=O,e[9]=P,e[10]=L,e[11]=0,e[12]=r[0]+S-(I*S+N*A+O*R),e[13]=r[1]+A-(C*S+x*A+P*R),e[14]=r[2]+R-(D*S+M*A+L*R),e[15]=1,e}function B(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,u=i+i,l=r*o,c=n*o,f=n*s,d=i*o,h=i*s,p=i*u,g=a*o,m=a*s,v=a*u;return e[0]=1-f-p,e[1]=c+v,e[2]=d-m,e[3]=0,e[4]=c-v,e[5]=1-l-p,e[6]=h+g,e[7]=0,e[8]=d+m,e[9]=h-g,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function U(e,t,r,n,i,a,o){var s=1/(r-t),u=1/(i-n),l=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}function q(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e}Math.hypot||(Math.hypot=function(){var e=0,t=arguments.length;while(t--)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var G=q;function V(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=i*a,e[14]=i*n*a):(e[10]=-1,e[14]=-n),e}function H(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(i+a);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(i-a)*l*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function Y(e,t,r,n,i,a,o){var s=1/(t-r),u=1/(n-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(o+a)*l,e[15]=1,e}var z=Y;function K(e,t,r,n,i,a,o){var s=1/(t-r),u=1/(n-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=l,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=a*l,e[15]=1,e}function W(e,t,r,n){var i,a,s,u,l,c,f,d,h,g,m=t[0],v=t[1],y=t[2],b=n[0],E=n[1],_=n[2],T=r[0],w=r[1],S=r[2];return Math.abs(m-T)<o&&Math.abs(v-w)<o&&Math.abs(y-S)<o?p(e):(f=m-T,d=v-w,h=y-S,g=1/Math.hypot(f,d,h),f*=g,d*=g,h*=g,i=E*h-_*d,a=_*f-b*h,s=b*d-E*f,g=Math.hypot(i,a,s),g?(g=1/g,i*=g,a*=g,s*=g):(i=0,a=0,s=0),u=d*s-h*a,l=h*i-f*s,c=f*a-d*i,g=Math.hypot(u,l,c),g?(g=1/g,u*=g,l*=g,c*=g):(u=0,l=0,c=0),e[0]=i,e[1]=u,e[2]=f,e[3]=0,e[4]=a,e[5]=l,e[6]=d,e[7]=0,e[8]=s,e[9]=c,e[10]=h,e[11]=0,e[12]=-(i*m+a*v+s*y),e[13]=-(u*m+l*v+c*y),e[14]=-(f*m+d*v+h*y),e[15]=1,e)}function $(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=n[0],u=n[1],l=n[2],c=i-r[0],f=a-r[1],d=o-r[2],h=c*c+f*f+d*d;h>0&&(h=1/Math.sqrt(h),c*=h,f*=h,d*=h);var p=u*d-l*f,g=l*c-s*d,m=s*f-u*c;return h=p*p+g*g+m*m,h>0&&(h=1/Math.sqrt(h),p*=h,g*=h,m*=h),e[0]=p,e[1]=g,e[2]=m,e[3]=0,e[4]=f*m-d*g,e[5]=d*p-c*m,e[6]=c*g-f*p,e[7]=0,e[8]=c,e[9]=f,e[10]=d,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}function X(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Q(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Z(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function J(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function ee(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function te(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function re(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function ne(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=e[9],h=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=t[0],E=t[1],_=t[2],T=t[3],w=t[4],S=t[5],A=t[6],R=t[7],I=t[8],C=t[9],D=t[10],N=t[11],x=t[12],M=t[13],O=t[14],P=t[15];return Math.abs(r-b)<=o*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-E)<=o*Math.max(1,Math.abs(n),Math.abs(E))&&Math.abs(i-_)<=o*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-T)<=o*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(s-w)<=o*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-S)<=o*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(l-A)<=o*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-R)<=o*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(f-I)<=o*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-C)<=o*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(h-D)<=o*Math.max(1,Math.abs(h),Math.abs(D))&&Math.abs(p-N)<=o*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(g-x)<=o*Math.max(1,Math.abs(g),Math.abs(x))&&Math.abs(m-M)<=o*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(v-O)<=o*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(y-P)<=o*Math.max(1,Math.abs(y),Math.abs(P))}var ie=b,ae=J;function oe(){var e=new s(9);return s!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function se(){var e=new s(3);return s!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function ue(e){var t=new s(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function le(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function ce(e,t,r){var n=new s(3);return n[0]=e,n[1]=t,n[2]=r,n}function fe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function de(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function he(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function pe(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function ge(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function me(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function ve(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function ye(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function be(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function Ee(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function _e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Te(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function we(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function Se(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.hypot(r,n,i)}function Ae(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function Re(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function Ie(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Ce(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function De(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function Ne(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function xe(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],u=r[2];return e[0]=i*u-a*s,e[1]=a*o-n*u,e[2]=n*s-i*o,e}function Me(e,t,r,n){var i=t[0],a=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e}function Oe(e,t,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,l=o*(a-1),c=o*(3-2*a);return e[0]=t[0]*s+r[0]*u+n[0]*l+i[0]*c,e[1]=t[1]*s+r[1]*u+n[1]*l+i[1]*c,e[2]=t[2]*s+r[2]*u+n[2]*l+i[2]*c,e}function Pe(e,t,r,n,i,a){var o=1-a,s=o*o,u=a*a,l=s*o,c=3*a*s,f=3*u*o,d=u*a;return e[0]=t[0]*l+r[0]*c+n[0]*f+i[0]*d,e[1]=t[1]*l+r[1]*c+n[1]*f+i[1]*d,e[2]=t[2]*l+r[2]*c+n[2]*f+i[2]*d,e}function Le(e,t){t=t||1;var r=2*u()*Math.PI,n=2*u()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e}function ke(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,e}function Fe(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e}function je(e,t,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=t[0],u=t[1],l=t[2],c=i*l-a*u,f=a*s-n*l,d=n*u-i*s,h=i*d-a*f,p=a*c-n*d,g=n*f-i*c,m=2*o;return c*=m,f*=m,d*=m,h*=2,p*=2,g*=2,e[0]=s+c+h,e[1]=u+f+p,e[2]=l+d+g,e}function Be(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function Ue(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function qe(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function Ge(e,t){var r=e[0],n=e[1],i=e[2],a=t[0],o=t[1],s=t[2],u=Math.sqrt(r*r+n*n+i*i),l=Math.sqrt(a*a+o*o+s*s),c=u*l,f=c&&Ne(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}function Ve(e){return e[0]=0,e[1]=0,e[2]=0,e}function He(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Ye(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function ze(e,t){var r=e[0],n=e[1],i=e[2],a=t[0],s=t[1],u=t[2];return Math.abs(r-a)<=o*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=o*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=o*Math.max(1,Math.abs(i),Math.abs(u))}var Ke=pe,We=ge,$e=me,Xe=Se,Qe=Ae,Ze=le,Je=Re,et=function(){var e=se();return function(t,r,n,i,a,o){var s,u;for(r||(r=3),n||(n=0),u=i?Math.min(i*r+n,t.length):t.length,s=n;s<u;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();function tt(){var e=new s(4);return s!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function rt(e){var t=new s(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function nt(e,t,r,n){var i=new s(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function it(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function at(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function ot(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function st(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function ut(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function lt(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function ct(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=a*o,e}function ft(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function dt(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e}function ht(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function pt(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],s=t[0],u=t[1],l=t[2],c=t[3];return Math.abs(r-s)<=o*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-u)<=o*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-l)<=o*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-c)<=o*Math.max(1,Math.abs(a),Math.abs(c))}(function(){var e=tt()})();function gt(){var e=new s(4);return s!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function mt(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function vt(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function yt(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>o?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function bt(e,t){var r=Gt(e,t);return Math.acos(2*r*r-1)}function Et(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],u=r[1],l=r[2],c=r[3];return e[0]=n*c+o*s+i*l-a*u,e[1]=i*c+o*u+a*s-n*l,e[2]=a*c+o*l+n*u-i*s,e[3]=o*c-n*s-i*u-a*l,e}function _t(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+o*s,e[1]=i*u+a*s,e[2]=a*u-i*s,e[3]=o*u-n*s,e}function Tt(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-a*s,e[1]=i*u+o*s,e[2]=a*u+n*s,e[3]=o*u-i*s,e}function wt(e,t,r){r*=.5;var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=i*u-n*s,e[2]=a*u+o*s,e[3]=o*u-a*s,e}function St(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e}function At(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=Math.sqrt(r*r+n*n+i*i),s=Math.exp(a),u=o>0?s*Math.sin(o)/o:0;return e[0]=r*u,e[1]=n*u,e[2]=i*u,e[3]=s*Math.cos(o),e}function Rt(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=Math.sqrt(r*r+n*n+i*i),s=o>0?Math.atan2(o,a)/o:0;return e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=.5*Math.log(r*r+n*n+i*i+a*a),e}function It(e,t,r){return Rt(e,t),qt(e,e,r),At(e,e),e}function Ct(e,t,r,n){var i,a,s,u,l,c=t[0],f=t[1],d=t[2],h=t[3],p=r[0],g=r[1],m=r[2],v=r[3];return a=c*p+f*g+d*m+h*v,a<0&&(a=-a,p=-p,g=-g,m=-m,v=-v),1-a>o?(i=Math.acos(a),s=Math.sin(i),u=Math.sin((1-n)*i)/s,l=Math.sin(n*i)/s):(u=1-n,l=n),e[0]=u*c+l*p,e[1]=u*f+l*g,e[2]=u*d+l*m,e[3]=u*h+l*v,e}function Dt(e){var t=u(),r=u(),n=u(),i=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*r),e[1]=i*Math.cos(2*Math.PI*r),e[2]=a*Math.sin(2*Math.PI*n),e[3]=a*Math.cos(2*Math.PI*n),e}function Nt(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=a*s,e}function xt(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Mt(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*a+o]-t[3*o+a])*r,e[a]=(t[3*a+i]+t[3*i+a])*r,e[o]=(t[3*o+i]+t[3*i+o])*r}return e}function Ot(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var a=Math.sin(t),o=Math.cos(t),s=Math.sin(r),u=Math.cos(r),l=Math.sin(n),c=Math.cos(n);return e[0]=a*u*c-o*s*l,e[1]=o*s*c+a*u*l,e[2]=o*u*l-a*s*c,e[3]=o*u*c+a*s*l,e}function Pt(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Lt=rt,kt=nt,Ft=it,jt=at,Bt=ot,Ut=Et,qt=st,Gt=ft,Vt=dt,Ht=ut,Yt=Ht,zt=lt,Kt=zt,Wt=ct,$t=ht,Xt=pt,Qt=function(){var e=se(),t=ce(1,0,0),r=ce(0,1,0);return function(n,i,a){var o=Ne(i,a);return o<-.999999?(xe(e,t,i),Ze(e)<1e-6&&xe(e,r,i),De(e,e),vt(n,e,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(xe(e,i,a),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+o,Wt(n,n))}}(),Zt=function(){var e=gt(),t=gt();return function(r,n,i,a,o,s){return Ct(e,n,o,s),Ct(t,i,a,s),Ct(r,e,t,2*s*(1-s)),r}}(),Jt=function(){var e=oe();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],Wt(t,Mt(t,e))}}()},"219c":function(e,t,r){"use strict";var n=r("ebb5"),i=n.aTypedArray,a=n.exportTypedArrayMethod,o=[].sort;a("sort",(function(e){return o.call(i(this),e)}))},2266:function(e,t,r){var n=r("825a"),i=r("e95a"),a=r("50c4"),o=r("0366"),s=r("35a1"),u=r("2a62"),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var c,f,d,h,p,g,m,v=r&&r.that,y=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),_=o(t,v,1+y+E),T=function(e){return c&&u(c),new l(!0,e)},w=function(e){return y?(n(e),E?_(e[0],e[1],T):_(e[0],e[1])):E?_(e,T):_(e)};if(b)c=e;else{if(f=s(e),"function"!=typeof f)throw TypeError("Target is not iterable");if(i(f)){for(d=0,h=a(e.length);h>d;d++)if(p=w(e[d]),p&&p instanceof l)return p;return new l(!1)}c=f.call(e)}g=c.next;while(!(m=g.call(c)).done){try{p=w(m.value)}catch(S){throw u(c),S}if("object"==typeof p&&p&&p instanceof l)return p}return new l(!1)}},"23cb":function(e,t,r){var n=r("a691"),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},"23e7":function(e,t,r){var n=r("da84"),i=r("06cf").f,a=r("9112"),o=r("6eeb"),s=r("ce4e"),u=r("e893"),l=r("94ca");e.exports=function(e,t){var r,c,f,d,h,p,g=e.target,m=e.global,v=e.stat;if(c=m?n:v?n[g]||s(g,{}):(n[g]||{}).prototype,c)for(f in t){if(h=t[f],e.noTargetGet?(p=i(c,f),d=p&&p.value):d=c[f],r=l(m?f:g+(v?".":"#")+f,e.forced),!r&&void 0!==d){if(typeof h===typeof d)continue;u(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),o(c,f,h,e)}}},"241c":function(e,t,r){var n=r("ca84"),i=r("7839"),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},"25a1":function(e,t,r){"use strict";var n=r("ebb5"),i=r("d58f").right,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("reduceRight",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"25a5":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";function e(e,n,i,a,o){!function e(r,n,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,u=n-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),d=Math.max(i,Math.floor(n-u*c/s+f)),h=Math.min(a,Math.floor(n+(s-u)*c/s+f));e(r,n,d,h,o)}var p=r[n],g=i,m=a;for(t(r,i,n),o(r[a],p)>0&&t(r,i,a);g<m;){for(t(r,g,m),g++,m--;o(r[g],p)<0;)g++;for(;o(r[m],p)>0;)m--}0===o(r[i],p)?t(r,i,m):t(r,++m,a),m<=n&&(i=m+1),n<=m&&(a=m-1)}}(e,n,i||0,a||e.length-1,o||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function a(e,t){o(e,0,e.children.length,t,e)}function o(e,t,r,n,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a=t;a<r;a++){var o=e.children[a];s(i,e.leaf?n(o):o)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,r,n,i,a){for(var o=[r,n];o.length;)if(!((n=o.pop())-(r=o.pop())<=i)){var s=r+Math.ceil((n-r)/i/2)*i;e(t,s,r,n,a),o.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!h(e,t))return r;for(var n=this.toBBox,i=[];t;){for(var a=0;a<t.children.length;a++){var o=t.children[a],s=t.leaf?n(o):o;h(e,s)&&(t.leaf?r.push(o):d(e,s)?this._all(o,r):i.push(o))}t=i.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!h(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var i=t.children[n],a=t.leaf?this.toBBox(i):i;if(h(e,a)){if(t.leaf||d(e,a))return!0;r.push(i)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=p([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,a,o=this.data,s=this.toBBox(e),u=[],l=[];o||u.length;){if(o||(o=u.pop(),n=u[u.length-1],r=l.pop(),a=!0),o.leaf){var c=i(e,o.children,t);if(-1!==c)return o.children.splice(c,1),u.push(o),this._condense(u),this}a||o.leaf||!d(o,s)?n?(r++,o=n.children[r],a=!1):o=null:(u.push(o),l.push(r),r=0,n=o,o=o.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var i,o=r-t+1,s=this._maxEntries;if(o<=s)return a(i=p(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(i=p([])).leaf=!1,i.height=n;var u=Math.ceil(o/s),l=u*Math.ceil(Math.sqrt(s));g(e,t,r,l,this.compareMinX);for(var c=t;c<=r;c+=l){var f=Math.min(c+l-1,r);g(e,c,f,u,this.compareMinY);for(var d=c;d<=f;d+=u){var h=Math.min(d+u-1,f);i.children.push(this._build(e,d,h,n-1))}}return a(i,this.toBBox),i},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var i=1/0,a=1/0,o=void 0,s=0;s<t.children.length;s++){var u=t.children[s],l=c(u),f=(d=e,h=u,(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-l);f<a?(a=f,i=l<i?l:i,o=u):f===a&&l<i&&(i=l,o=u)}t=o||t.children[0]}var d,h;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),i=[],a=this._chooseSubtree(n,this.data,t,i);for(a.children.push(e),s(a,n);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),s=p(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,a(r,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,i,a,s,u,l,f,d=1/0,h=1/0,p=t;p<=r-t;p++){var g=o(e,0,p,this.toBBox),m=o(e,p,r,this.toBBox),v=(i=g,a=m,s=void 0,u=void 0,l=void 0,f=void 0,s=Math.max(i.minX,a.minX),u=Math.max(i.minY,a.minY),l=Math.min(i.maxX,a.maxX),f=Math.min(i.maxY,a.maxY),Math.max(0,l-s)*Math.max(0,f-u)),y=c(g)+c(m);v<d?(d=v,n=p,h=y<h?y:h):v===d&&y<h&&(h=y,n=p)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var i=this.toBBox,a=o(e,0,t,i),u=o(e,r-t,r,i),l=f(a)+f(u),c=t;c<r-t;c++){var d=e.children[c];s(a,e.leaf?i(d):d),l+=f(a)}for(var h=r-t-1;h>=t;h--){var p=e.children[h];s(u,e.leaf?i(p):p),l+=f(u)}return l},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},n}))},"25f0":function(e,t,r){"use strict";var n=r("6eeb"),i=r("825a"),a=r("d039"),o=r("ad6d"),s="toString",u=RegExp.prototype,l=u[s],c=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=s;(c||f)&&n(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),r=e.flags,n=String(void 0===r&&e instanceof RegExp&&!("flags"in u)?o.call(e):r);return"/"+t+"/"+n}),{unsafe:!0})},2626:function(e,t,r){"use strict";var n=r("d066"),i=r("9bf2"),a=r("b622"),o=r("83ab"),s=a("species");e.exports=function(e){var t=n(e),r=i.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},"262e":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("131a");function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}},2877:function(e,t,r){"use strict";function n(e,t,r,n,i,a,o,s){var u,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=u):i&&(u=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(e,t){return u.call(t),c(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:l}}r.d(t,"a",(function(){return n}))},"28d9":function(e,t,r){const n=r("2015");e.exports=function(e){return t;function t(t,r){let i=r&&r.indent||0,a=r&&void 0!==r.join?r.join:"\n",o=Array(i+1).join(" "),s=[];for(let u=0;u<e;++u){let e=n(u),r=0===u?"":o;s.push(r+t.replace(/{var}/g,e))}return s.join(a)}}},2954:function(e,t,r){"use strict";var n=r("ebb5"),i=r("4840"),a=r("d039"),o=n.aTypedArray,s=n.aTypedArrayConstructor,u=n.exportTypedArrayMethod,l=[].slice,c=a((function(){new Int8Array(1).slice()}));u("slice",(function(e,t){var r=l.call(o(this),e,t),n=i(this,this.constructor),a=0,u=r.length,c=new(s(n))(u);while(u>a)c[a]=r[a++];return c}),c)},"2a62":function(e,t,r){var n=r("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return n(t.call(e)).value}},"2b0e":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return Zn}));
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({}),i=Array.isArray;function a(e){return void 0===e||null===e}function o(e){return void 0!==e&&null!==e}function s(e){return!0===e}function u(e){return!1===e}function l(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return"function"===typeof e}function f(e){return null!==e&&"object"===typeof e}var d=Object.prototype.toString;function h(e){return"[object Object]"===d.call(e)}function p(e){return"[object RegExp]"===d.call(e)}function g(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function m(e){return o(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function v(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===d?JSON.stringify(e,y,2):String(e)}function y(e,t){return t&&t.__v_isRef?t.value:t}function b(e){var t=parseFloat(e);return isNaN(t)?e:t}function E(e,t){for(var r=Object.create(null),n=e.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}E("slot,component",!0);var _=E("key,ref,slot,slot-scope,is");function T(e,t){var r=e.length;if(r){if(t===e[r-1])return void(e.length=r-1);var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function S(e,t){return w.call(e,t)}function A(e){var t=Object.create(null);return function(r){var n=t[r];return n||(t[r]=e(r))}}var R=/-(\w)/g,I=A((function(e){return e.replace(R,(function(e,t){return t?t.toUpperCase():""}))})),C=A((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),D=/\B([A-Z])/g,N=A((function(e){return e.replace(D,"-$1").toLowerCase()}));function x(e,t){function r(r){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return r._length=e.length,r}function M(e,t){return e.bind(t)}var O=Function.prototype.bind?M:x;function P(e,t){t=t||0;var r=e.length-t,n=new Array(r);while(r--)n[r]=e[r+t];return n}function L(e,t){for(var r in t)e[r]=t[r];return e}function k(e){for(var t={},r=0;r<e.length;r++)e[r]&&L(t,e[r]);return t}function F(e,t,r){}var j=function(e,t,r){return!1},B=function(e){return e};function U(e,t){if(e===t)return!0;var r=f(e),n=f(t);if(!r||!n)return!r&&!n&&String(e)===String(t);try{var i=Array.isArray(e),a=Array.isArray(t);if(i&&a)return e.length===t.length&&e.every((function(e,r){return U(e,t[r])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||a)return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every((function(r){return U(e[r],t[r])}))}catch(u){return!1}}function q(e,t){for(var r=0;r<e.length;r++)if(U(e[r],t))return r;return-1}function G(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function V(e,t){return e===t?0===e&&1/e!==1/t:e===e||t===t}var H="data-server-rendered",Y=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],K={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:F,parsePlatformTagName:B,mustUseProp:j,async:!0,_lifecycleHooks:z},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function $(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function X(e,t,r,n){Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var Q=new RegExp("[^".concat(W.source,".$_\\d]"));function Z(e){if(!Q.test(e)){var t=e.split(".");return function(e){for(var r=0;r<t.length;r++){if(!e)return;e=e[t[r]]}return e}}}var J="__proto__"in{},ee="undefined"!==typeof window,te=ee&&window.navigator.userAgent.toLowerCase(),re=te&&/msie|trident/.test(te),ne=te&&te.indexOf("msie 9.0")>0,ie=te&&te.indexOf("edge/")>0;te&&te.indexOf("android");var ae=te&&/iphone|ipad|ipod|ios/.test(te);te&&/chrome\/\d+/.test(te),te&&/phantomjs/.test(te);var oe,se=te&&te.match(/firefox\/(\d+)/),ue={}.watch,le=!1;if(ee)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){le=!0}}),window.addEventListener("test-passive",null,ce)}catch(Jo){}var fe=function(){return void 0===oe&&(oe=!ee&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),oe},de=ee&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function he(e){return"function"===typeof e&&/native code/.test(e.toString())}var pe,ge="undefined"!==typeof Symbol&&he(Symbol)&&"undefined"!==typeof Reflect&&he(Reflect.ownKeys);pe="undefined"!==typeof Set&&he(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var me=null;function ve(e){void 0===e&&(e=null),e||me&&me._scope.off(),me=e,e&&e._scope.on()}var ye=function(){function e(e,t,r,n,i,a,o,s){this.tag=e,this.data=t,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),be=function(e){void 0===e&&(e="");var t=new ye;return t.text=e,t.isComment=!0,t};function Ee(e){return new ye(void 0,void 0,void 0,String(e))}function _e(e){var t=new ye(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}"function"===typeof SuppressedError&&SuppressedError;var Te=0,we=[],Se=function(){for(var e=0;e<we.length;e++){var t=we[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}we.length=0},Ae=function(){function e(){this._pending=!1,this.id=Te++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,we.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var t=this.subs.filter((function(e){return e}));for(var r=0,n=t.length;r<n;r++){var i=t[r];0,i.update()}},e}();Ae.target=null;var Re=[];function Ie(e){Re.push(e),Ae.target=e}function Ce(){Re.pop(),Ae.target=Re[Re.length-1]}var De=Array.prototype,Ne=Object.create(De),xe=["push","pop","shift","unshift","splice","sort","reverse"];xe.forEach((function(e){var t=De[e];X(Ne,e,(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i,a=t.apply(this,r),o=this.__ob__;switch(e){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2);break}return i&&o.observeArray(i),o.dep.notify(),a}))}));var Me=Object.getOwnPropertyNames(Ne),Oe={},Pe=!0;function Le(e){Pe=e}var ke={notify:F,depend:F,addSub:F,removeSub:F},Fe=function(){function e(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!1),this.value=e,this.shallow=t,this.mock=r,this.dep=r?ke:new Ae,this.vmCount=0,X(e,"__ob__",this),i(e)){if(!r)if(J)e.__proto__=Ne;else for(var n=0,a=Me.length;n<a;n++){var o=Me[n];X(e,o,Ne[o])}t||this.observeArray(e)}else{var s=Object.keys(e);for(n=0;n<s.length;n++){o=s[n];Be(e,o,Oe,void 0,t,r)}}}return e.prototype.observeArray=function(e){for(var t=0,r=e.length;t<r;t++)je(e[t],!1,this.mock)},e}();function je(e,t,r){return e&&S(e,"__ob__")&&e.__ob__ instanceof Fe?e.__ob__:!Pe||!r&&fe()||!i(e)&&!h(e)||!Object.isExtensible(e)||e.__v_skip||ze(e)||e instanceof ye?void 0:new Fe(e,t,r)}function Be(e,t,r,n,a,o,s){void 0===s&&(s=!1);var u=new Ae,l=Object.getOwnPropertyDescriptor(e,t);if(!l||!1!==l.configurable){var c=l&&l.get,f=l&&l.set;c&&!f||r!==Oe&&2!==arguments.length||(r=e[t]);var d=a?r&&r.__ob__:je(r,!1,o);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=c?c.call(e):r;return Ae.target&&(u.depend(),d&&(d.dep.depend(),i(t)&&Ge(t))),ze(t)&&!a?t.value:t},set:function(t){var n=c?c.call(e):r;if(V(n,t)){if(f)f.call(e,t);else{if(c)return;if(!a&&ze(n)&&!ze(t))return void(n.value=t);r=t}d=a?t&&t.__ob__:je(t,!1,o),u.notify()}}}),u}}function Ue(e,t,r){if(!Ye(e)){var n=e.__ob__;return i(e)&&g(t)?(e.length=Math.max(e.length,t),e.splice(t,1,r),n&&!n.shallow&&n.mock&&je(r,!1,!0),r):t in e&&!(t in Object.prototype)?(e[t]=r,r):e._isVue||n&&n.vmCount?r:n?(Be(n.value,t,r,void 0,n.shallow,n.mock),n.dep.notify(),r):(e[t]=r,r)}}function qe(e,t){if(i(e)&&g(t))e.splice(t,1);else{var r=e.__ob__;e._isVue||r&&r.vmCount||Ye(e)||S(e,t)&&(delete e[t],r&&r.dep.notify())}}function Ge(e){for(var t=void 0,r=0,n=e.length;r<n;r++)t=e[r],t&&t.__ob__&&t.__ob__.dep.depend(),i(t)&&Ge(t)}function Ve(e){return He(e,!0),X(e,"__v_isShallow",!0),e}function He(e,t){if(!Ye(e)){je(e,t,fe());0}}function Ye(e){return!(!e||!e.__v_isReadonly)}function ze(e){return!(!e||!0!==e.__v_isRef)}function Ke(e,t,r){Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:function(){var e=t[r];if(ze(e))return e.value;var n=e&&e.__ob__;return n&&n.dep.depend(),e},set:function(e){var n=t[r];ze(n)&&!ze(e)?n.value=e:t[r]=e}})}var We="watcher";"".concat(We," callback"),"".concat(We," getter"),"".concat(We," cleanup");var $e;var Xe=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=$e,!e&&$e&&(this.index=($e.scopes||($e.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=$e;try{return $e=this,e()}finally{$e=t}}else 0},e.prototype.on=function(){$e=this},e.prototype.off=function(){$e=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,r=void 0;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].teardown();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Qe(e,t){void 0===t&&(t=$e),t&&t.active&&t.effects.push(e)}function Ze(){return $e}function Je(e){var t=e._provided,r=e.$parent&&e.$parent._provided;return r===t?e._provided=Object.create(r):t}var et=A((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var r="~"===e.charAt(0);e=r?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:r,capture:n,passive:t}}));function tt(e,t){function r(){var e=r.fns;if(!i(e))return Qt(e,null,arguments,t,"v-on handler");for(var n=e.slice(),a=0;a<n.length;a++)Qt(n[a],null,arguments,t,"v-on handler")}return r.fns=e,r}function rt(e,t,r,n,i,o){var u,l,c,f;for(u in e)l=e[u],c=t[u],f=et(u),a(l)||(a(c)?(a(l.fns)&&(l=e[u]=tt(l,o)),s(f.once)&&(l=e[u]=i(f.name,l,f.capture)),r(f.name,l,f.capture,f.passive,f.params)):l!==c&&(c.fns=l,e[u]=c));for(u in t)a(e[u])&&(f=et(u),n(f.name,t[u],f.capture))}function nt(e,t,r){var n;e instanceof ye&&(e=e.data.hook||(e.data.hook={}));var i=e[t];function u(){r.apply(this,arguments),T(n.fns,u)}a(i)?n=tt([u]):o(i.fns)&&s(i.merged)?(n=i,n.fns.push(u)):n=tt([i,u]),n.merged=!0,e[t]=n}function it(e,t,r){var n=t.options.props;if(!a(n)){var i={},s=e.attrs,u=e.props;if(o(s)||o(u))for(var l in n){var c=N(l);at(i,u,l,c,!0)||at(i,s,l,c,!1)}return i}}function at(e,t,r,n,i){if(o(t)){if(S(t,r))return e[r]=t[r],i||delete t[r],!0;if(S(t,n))return e[r]=t[n],i||delete t[n],!0}return!1}function ot(e){for(var t=0;t<e.length;t++)if(i(e[t]))return Array.prototype.concat.apply([],e);return e}function st(e){return l(e)?[Ee(e)]:i(e)?lt(e):void 0}function ut(e){return o(e)&&o(e.text)&&u(e.isComment)}function lt(e,t){var r,n,u,c,f=[];for(r=0;r<e.length;r++)n=e[r],a(n)||"boolean"===typeof n||(u=f.length-1,c=f[u],i(n)?n.length>0&&(n=lt(n,"".concat(t||"","_").concat(r)),ut(n[0])&&ut(c)&&(f[u]=Ee(c.text+n[0].text),n.shift()),f.push.apply(f,n)):l(n)?ut(c)?f[u]=Ee(c.text+n):""!==n&&f.push(Ee(n)):ut(n)&&ut(c)?f[u]=Ee(c.text+n.text):(s(e._isVList)&&o(n.tag)&&a(n.key)&&o(t)&&(n.key="__vlist".concat(t,"_").concat(r,"__")),f.push(n)));return f}function ct(e,t){var r,n,a,s,u=null;if(i(e)||"string"===typeof e)for(u=new Array(e.length),r=0,n=e.length;r<n;r++)u[r]=t(e[r],r);else if("number"===typeof e)for(u=new Array(e),r=0;r<e;r++)u[r]=t(r+1,r);else if(f(e))if(ge&&e[Symbol.iterator]){u=[];var l=e[Symbol.iterator](),c=l.next();while(!c.done)u.push(t(c.value,u.length)),c=l.next()}else for(a=Object.keys(e),u=new Array(a.length),r=0,n=a.length;r<n;r++)s=a[r],u[r]=t(e[s],s,r);return o(u)||(u=[]),u._isVList=!0,u}function ft(e,t,r,n){var i,a=this.$scopedSlots[e];a?(r=r||{},n&&(r=L(L({},n),r)),i=a(r)||(c(t)?t():t)):i=this.$slots[e]||(c(t)?t():t);var o=r&&r.slot;return o?this.$createElement("template",{slot:o},i):i}function dt(e){return An(this.$options,"filters",e,!0)||B}function ht(e,t){return i(e)?-1===e.indexOf(t):e!==t}function pt(e,t,r,n,i){var a=K.keyCodes[t]||r;return i&&n&&!K.keyCodes[t]?ht(i,n):a?ht(a,e):n?N(n)!==t:void 0===e}function gt(e,t,r,n,a){if(r)if(f(r)){i(r)&&(r=k(r));var o=void 0,s=function(i){if("class"===i||"style"===i||_(i))o=e;else{var s=e.attrs&&e.attrs.type;o=n||K.mustUseProp(t,s,i)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=I(i),l=N(i);if(!(u in o)&&!(l in o)&&(o[i]=r[i],a)){var c=e.on||(e.on={});c["update:".concat(i)]=function(e){r[i]=e}}};for(var u in r)s(u)}else;return e}function mt(e,t){var r=this._staticTrees||(this._staticTrees=[]),n=r[e];return n&&!t||(n=r[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),yt(n,"__static__".concat(e),!1)),n}function vt(e,t,r){return yt(e,"__once__".concat(t).concat(r?"_".concat(r):""),!0),e}function yt(e,t,r){if(i(e))for(var n=0;n<e.length;n++)e[n]&&"string"!==typeof e[n]&&bt(e[n],"".concat(t,"_").concat(n),r);else bt(e,t,r)}function bt(e,t,r){e.isStatic=!0,e.key=t,e.isOnce=r}function Et(e,t){if(t)if(h(t)){var r=e.on=e.on?L({},e.on):{};for(var n in t){var i=r[n],a=t[n];r[n]=i?[].concat(i,a):a}}else;return e}function _t(e,t,r,n){t=t||{$stable:!r};for(var a=0;a<e.length;a++){var o=e[a];i(o)?_t(o,t,r):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return n&&(t.$key=n),t}function Tt(e,t){for(var r=0;r<t.length;r+=2){var n=t[r];"string"===typeof n&&n&&(e[t[r]]=t[r+1])}return e}function wt(e,t){return"string"===typeof e?t+e:e}function St(e){e._o=vt,e._n=b,e._s=v,e._l=ct,e._t=ft,e._q=U,e._i=q,e._m=mt,e._f=dt,e._k=pt,e._b=gt,e._v=Ee,e._e=be,e._u=_t,e._g=Et,e._d=Tt,e._p=wt}function At(e,t){if(!e||!e.length)return{};for(var r={},n=0,i=e.length;n<i;n++){var a=e[n],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==t&&a.fnContext!==t||!o||null==o.slot)(r.default||(r.default=[])).push(a);else{var s=o.slot,u=r[s]||(r[s]=[]);"template"===a.tag?u.push.apply(u,a.children||[]):u.push(a)}}for(var l in r)r[l].every(Rt)&&delete r[l];return r}function Rt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function It(e){return e.isComment&&e.asyncFactory}function Ct(e,t,r,i){var a,o=Object.keys(r).length>0,s=t?!!t.$stable:!o,u=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&i&&i!==n&&u===i.$key&&!o&&!i.$hasNormal)return i;for(var l in a={},t)t[l]&&"$"!==l[0]&&(a[l]=Dt(e,r,l,t[l]))}else a={};for(var c in r)c in a||(a[c]=Nt(r,c));return t&&Object.isExtensible(t)&&(t._normalized=a),X(a,"$stable",s),X(a,"$key",u),X(a,"$hasNormal",o),a}function Dt(e,t,r,n){var a=function(){var t=me;ve(e);var r=arguments.length?n.apply(null,arguments):n({});r=r&&"object"===typeof r&&!i(r)?[r]:st(r);var a=r&&r[0];return ve(t),r&&(!a||1===r.length&&a.isComment&&!It(a))?void 0:r};return n.proxy&&Object.defineProperty(t,r,{get:a,enumerable:!0,configurable:!0}),a}function Nt(e,t){return function(){return e[t]}}function xt(e){var t=e.$options,r=t.setup;if(r){var n=e._setupContext=Mt(e);ve(e),Ie();var i=Qt(r,null,[e._props||Ve({}),n],e,"setup");if(Ce(),ve(),c(i))t.render=i;else if(f(i))if(e._setupState=i,i.__sfc){var a=e._setupProxy={};for(var o in i)"__sfc"!==o&&Ke(a,i,o)}else for(var o in i)$(o)||Ke(e,i,o);else 0}}function Mt(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};X(t,"_v_attr_proxy",!0),Ot(t,e.$attrs,n,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){var t=e._listenersProxy={};Ot(t,e.$listeners,n,e,"$listeners")}return e._listenersProxy},get slots(){return Lt(e)},emit:O(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(r){return Ke(e,t,r)}))}}}function Ot(e,t,r,n,i){var a=!1;for(var o in t)o in e?t[o]!==r[o]&&(a=!0):(a=!0,Pt(e,o,n,i));for(var o in e)o in t||(a=!0,delete e[o]);return a}function Pt(e,t,r,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return r[n][t]}})}function Lt(e){return e._slotsProxy||kt(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function kt(e,t){for(var r in t)e[r]=t[r];for(var r in e)r in t||delete e[r]}function Ft(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=At(t._renderChildren,i),e.$scopedSlots=r?Ct(e.$parent,r.data.scopedSlots,e.$slots):n,e._c=function(t,r,n,i){return zt(e,t,r,n,i,!1)},e.$createElement=function(t,r,n,i){return zt(e,t,r,n,i,!0)};var a=r&&r.data;Be(e,"$attrs",a&&a.attrs||n,null,!0),Be(e,"$listeners",t._parentListeners||n,null,!0)}var jt=null;function Bt(e){St(e.prototype),e.prototype.$nextTick=function(e){return lr(e,this)},e.prototype._render=function(){var e=this,t=e.$options,r=t.render,n=t._parentVnode;n&&e._isMounted&&(e.$scopedSlots=Ct(e.$parent,n.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&kt(e._slotsProxy,e.$scopedSlots)),e.$vnode=n;var a,o=me,s=jt;try{ve(e),jt=e,a=r.call(e._renderProxy,e.$createElement)}catch(Jo){Xt(Jo,e,"render"),a=e._vnode}finally{jt=s,ve(o)}return i(a)&&1===a.length&&(a=a[0]),a instanceof ye||(a=be()),a.parent=n,a}}function Ut(e,t){return(e.__esModule||ge&&"Module"===e[Symbol.toStringTag])&&(e=e.default),f(e)?t.extend(e):e}function qt(e,t,r,n,i){var a=be();return a.asyncFactory=e,a.asyncMeta={data:t,context:r,children:n,tag:i},a}function Gt(e,t){if(s(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;var r=jt;if(r&&o(e.owners)&&-1===e.owners.indexOf(r)&&e.owners.push(r),s(e.loading)&&o(e.loadingComp))return e.loadingComp;if(r&&!o(e.owners)){var n=e.owners=[r],i=!0,u=null,l=null;r.$on("hook:destroyed",(function(){return T(n,r)}));var c=function(e){for(var t=0,r=n.length;t<r;t++)n[t].$forceUpdate();e&&(n.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},d=G((function(r){e.resolved=Ut(r,t),i?n.length=0:c(!0)})),h=G((function(t){o(e.errorComp)&&(e.error=!0,c(!0))})),p=e(d,h);return f(p)&&(m(p)?a(e.resolved)&&p.then(d,h):m(p.component)&&(p.component.then(d,h),o(p.error)&&(e.errorComp=Ut(p.error,t)),o(p.loading)&&(e.loadingComp=Ut(p.loading,t),0===p.delay?e.loading=!0:u=setTimeout((function(){u=null,a(e.resolved)&&a(e.error)&&(e.loading=!0,c(!1))}),p.delay||200)),o(p.timeout)&&(l=setTimeout((function(){l=null,a(e.resolved)&&h(null)}),p.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}function Vt(e){if(i(e))for(var t=0;t<e.length;t++){var r=e[t];if(o(r)&&(o(r.componentOptions)||It(r)))return r}}var Ht=1,Yt=2;function zt(e,t,r,n,a,o){return(i(r)||l(r))&&(a=n,n=r,r=void 0),s(o)&&(a=Yt),Kt(e,t,r,n,a)}function Kt(e,t,r,n,a){if(o(r)&&o(r.__ob__))return be();if(o(r)&&o(r.is)&&(t=r.is),!t)return be();var s,u;if(i(n)&&c(n[0])&&(r=r||{},r.scopedSlots={default:n[0]},n.length=0),a===Yt?n=st(n):a===Ht&&(n=ot(n)),"string"===typeof t){var l=void 0;u=e.$vnode&&e.$vnode.ns||K.getTagNamespace(t),s=K.isReservedTag(t)?new ye(K.parsePlatformTagName(t),r,n,void 0,void 0,e):r&&r.pre||!o(l=An(e.$options,"components",t))?new ye(t,r,n,void 0,void 0,e):un(l,r,e,n,t)}else s=un(t,r,e,n);return i(s)?s:o(s)?(o(u)&&Wt(s,u),o(r)&&$t(r),s):be()}function Wt(e,t,r){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0),o(e.children))for(var n=0,i=e.children.length;n<i;n++){var u=e.children[n];o(u.tag)&&(a(u.ns)||s(r)&&"svg"!==u.tag)&&Wt(u,t,r)}}function $t(e){f(e.style)&&pr(e.style),f(e.class)&&pr(e.class)}function Xt(e,t,r){Ie();try{if(t){var n=t;while(n=n.$parent){var i=n.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{var o=!1===i[a].call(n,e,t,r);if(o)return}catch(Jo){Zt(Jo,n,"errorCaptured hook")}}}Zt(e,t,r)}finally{Ce()}}function Qt(e,t,r,n,i){var a;try{a=r?e.apply(t,r):e.call(t),a&&!a._isVue&&m(a)&&!a._handled&&(a.catch((function(e){return Xt(e,n,i+" (Promise/async)")})),a._handled=!0)}catch(Jo){Xt(Jo,n,i)}return a}function Zt(e,t,r){if(K.errorHandler)try{return K.errorHandler.call(null,e,t,r)}catch(Jo){Jo!==e&&Jt(Jo,null,"config.errorHandler")}Jt(e,t,r)}function Jt(e,t,r){if(!ee||"undefined"===typeof console)throw e;console.error(e)}var er,tr=!1,rr=[],nr=!1;function ir(){nr=!1;var e=rr.slice(0);rr.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&he(Promise)){var ar=Promise.resolve();er=function(){ar.then(ir),ae&&setTimeout(F)},tr=!0}else if(re||"undefined"===typeof MutationObserver||!he(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())er="undefined"!==typeof setImmediate&&he(setImmediate)?function(){setImmediate(ir)}:function(){setTimeout(ir,0)};else{var or=1,sr=new MutationObserver(ir),ur=document.createTextNode(String(or));sr.observe(ur,{characterData:!0}),er=function(){or=(or+1)%2,ur.data=String(or)},tr=!0}function lr(e,t){var r;if(rr.push((function(){if(e)try{e.call(t)}catch(Jo){Xt(Jo,t,"nextTick")}else r&&r(t)})),nr||(nr=!0,er()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){r=e}))}function cr(e){return function(t,r){if(void 0===r&&(r=me),r)return fr(r,e,t)}}function fr(e,t,r){var n=e.$options;n[t]=vn(n[t],r)}cr("beforeMount"),cr("mounted"),cr("beforeUpdate"),cr("updated"),cr("beforeDestroy"),cr("destroyed"),cr("activated"),cr("deactivated"),cr("serverPrefetch"),cr("renderTracked"),cr("renderTriggered"),cr("errorCaptured");var dr="2.7.16";var hr=new pe;function pr(e){return gr(e,hr),hr.clear(),e}function gr(e,t){var r,n,a=i(e);if(!(!a&&!f(e)||e.__v_skip||Object.isFrozen(e)||e instanceof ye)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(a){r=e.length;while(r--)gr(e[r],t)}else if(ze(e))gr(e.value,t);else{n=Object.keys(e),r=n.length;while(r--)gr(e[n[r]],t)}}}var mr,vr=0,yr=function(){function e(e,t,r,n,i){Qe(this,$e&&!$e._vm?$e:e?e._scope:void 0),(this.vm=e)&&i&&(e._watcher=this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++vr,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pe,this.newDepIds=new pe,this.expression="",c(t)?this.getter=t:(this.getter=Z(t),this.getter||(this.getter=F)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;Ie(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Jo){if(!this.user)throw Jo;Xt(Jo,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&pr(e),Ce(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Xr(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||f(e)||this.deep){var t=this.value;if(this.value=e,this.user){var r='callback for watcher "'.concat(this.expression,'"');Qt(this.cb,this.vm,[e,t],this.vm,r)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&T(this.vm._scope.effects,this),this.active){var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function br(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&wr(e,t)}function Er(e,t){mr.$on(e,t)}function _r(e,t){mr.$off(e,t)}function Tr(e,t){var r=mr;return function n(){var i=t.apply(null,arguments);null!==i&&r.$off(e,n)}}function wr(e,t,r){mr=e,rt(t,r||{},Er,_r,Tr,e),mr=void 0}function Sr(e){var t=/^hook:/;e.prototype.$on=function(e,r){var n=this;if(i(e))for(var a=0,o=e.length;a<o;a++)n.$on(e[a],r);else(n._events[e]||(n._events[e]=[])).push(r),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){var r=this;function n(){r.$off(e,n),t.apply(r,arguments)}return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(i(e)){for(var n=0,a=e.length;n<a;n++)r.$off(e[n],t);return r}var o,s=r._events[e];if(!s)return r;if(!t)return r._events[e]=null,r;var u=s.length;while(u--)if(o=s[u],o===t||o.fn===t){s.splice(u,1);break}return r},e.prototype.$emit=function(e){var t=this,r=t._events[e];if(r){r=r.length>1?P(r):r;for(var n=P(arguments,1),i='event handler for "'.concat(e,'"'),a=0,o=r.length;a<o;a++)Qt(r[a],t,n,t,i)}return t}}var Ar=null;function Rr(e){var t=Ar;return Ar=e,function(){Ar=t}}function Ir(e){var t=e.$options,r=t.parent;if(r&&!t.abstract){while(r.$options.abstract&&r.$parent)r=r.$parent;r.$children.push(e)}e.$parent=r,e.$root=r?r.$root:e,e.$children=[],e.$refs={},e._provided=r?r._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Cr(e){e.prototype._update=function(e,t){var r=this,n=r.$el,i=r._vnode,a=Rr(r);r._vnode=e,r.$el=i?r.__patch__(i,e):r.__patch__(r.$el,e,t,!1),a(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r);var o=r;while(o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode)o.$parent.$el=o.$el,o=o.$parent},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Pr(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||T(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Pr(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Dr(e,t,r){var n;e.$el=t,e.$options.render||(e.$options.render=be),Pr(e,"beforeMount"),n=function(){e._update(e._render(),r)};var i={before:function(){e._isMounted&&!e._isDestroyed&&Pr(e,"beforeUpdate")}};new yr(e,n,F,i,!0),r=!1;var a=e._preWatchers;if(a)for(var o=0;o<a.length;o++)a[o].run();return null==e.$vnode&&(e._isMounted=!0,Pr(e,"mounted")),e}function Nr(e,t,r,i,a){var o=i.data.scopedSlots,s=e.$scopedSlots,u=!!(o&&!o.$stable||s!==n&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key||!o&&e.$scopedSlots.$key),l=!!(a||e.$options._renderChildren||u),c=e.$vnode;e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=a;var f=i.data.attrs||n;e._attrsProxy&&Ot(e._attrsProxy,f,c.data&&c.data.attrs||n,e,"$attrs")&&(l=!0),e.$attrs=f,r=r||n;var d=e.$options._parentListeners;if(e._listenersProxy&&Ot(e._listenersProxy,r,d||n,e,"$listeners"),e.$listeners=e.$options._parentListeners=r,wr(e,r,d),t&&e.$options.props){Le(!1);for(var h=e._props,p=e.$options._propKeys||[],g=0;g<p.length;g++){var m=p[g],v=e.$options.props;h[m]=Rn(m,v,t,e)}Le(!0),e.$options.propsData=t}l&&(e.$slots=At(a,i.context),e.$forceUpdate())}function xr(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Mr(e,t){if(t){if(e._directInactive=!1,xr(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var r=0;r<e.$children.length;r++)Mr(e.$children[r]);Pr(e,"activated")}}function Or(e,t){if((!t||(e._directInactive=!0,!xr(e)))&&!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)Or(e.$children[r]);Pr(e,"deactivated")}}function Pr(e,t,r,n){void 0===n&&(n=!0),Ie();var i=me,a=Ze();n&&ve(e);var o=e.$options[t],s="".concat(t," hook");if(o)for(var u=0,l=o.length;u<l;u++)Qt(o[u],e,r||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),n&&(ve(i),a&&a.on()),Ce()}var Lr=[],kr=[],Fr={},jr=!1,Br=!1,Ur=0;function qr(){Ur=Lr.length=kr.length=0,Fr={},jr=Br=!1}var Gr=0,Vr=Date.now;if(ee&&!re){var Hr=window.performance;Hr&&"function"===typeof Hr.now&&Vr()>document.createEvent("Event").timeStamp&&(Vr=function(){return Hr.now()})}var Yr=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function zr(){var e,t;for(Gr=Vr(),Br=!0,Lr.sort(Yr),Ur=0;Ur<Lr.length;Ur++)e=Lr[Ur],e.before&&e.before(),t=e.id,Fr[t]=null,e.run();var r=kr.slice(),n=Lr.slice();qr(),$r(r),Kr(n),Se(),de&&K.devtools&&de.emit("flush")}function Kr(e){var t=e.length;while(t--){var r=e[t],n=r.vm;n&&n._watcher===r&&n._isMounted&&!n._isDestroyed&&Pr(n,"updated")}}function Wr(e){e._inactive=!1,kr.push(e)}function $r(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Mr(e[t],!0)}function Xr(e){var t=e.id;if(null==Fr[t]&&(e!==Ae.target||!e.noRecurse)){if(Fr[t]=!0,Br){var r=Lr.length-1;while(r>Ur&&Lr[r].id>e.id)r--;Lr.splice(r+1,0,e)}else Lr.push(e);jr||(jr=!0,lr(zr))}}function Qr(e){var t=e.$options.provide;if(t){var r=c(t)?t.call(e):t;if(!f(r))return;for(var n=Je(e),i=ge?Reflect.ownKeys(r):Object.keys(r),a=0;a<i.length;a++){var o=i[a];Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o))}}}function Zr(e){var t=Jr(e.$options.inject,e);t&&(Le(!1),Object.keys(t).forEach((function(r){Be(e,r,t[r])})),Le(!0))}function Jr(e,t){if(e){for(var r=Object.create(null),n=ge?Reflect.ownKeys(e):Object.keys(e),i=0;i<n.length;i++){var a=n[i];if("__ob__"!==a){var o=e[a].from;if(o in t._provided)r[a]=t._provided[o];else if("default"in e[a]){var s=e[a].default;r[a]=c(s)?s.call(t):s}else 0}}return r}}function en(e,t,r,a,o){var u,l=this,c=o.options;S(a,"_uid")?(u=Object.create(a),u._original=a):(u=a,a=a._original);var f=s(c._compiled),d=!f;this.data=e,this.props=t,this.children=r,this.parent=a,this.listeners=e.on||n,this.injections=Jr(c.inject,a),this.slots=function(){return l.$slots||Ct(a,e.scopedSlots,l.$slots=At(r,a)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ct(a,e.scopedSlots,this.slots())}}),f&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Ct(a,e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,r,n){var o=zt(u,e,t,r,n,d);return o&&!i(o)&&(o.fnScopeId=c._scopeId,o.fnContext=a),o}:this._c=function(e,t,r,n){return zt(u,e,t,r,n,d)}}function tn(e,t,r,a,s){var u=e.options,l={},c=u.props;if(o(c))for(var f in c)l[f]=Rn(f,c,t||n);else o(r.attrs)&&nn(l,r.attrs),o(r.props)&&nn(l,r.props);var d=new en(r,l,s,a,e),h=u.render.call(null,d._c,d);if(h instanceof ye)return rn(h,r,d.parent,u,d);if(i(h)){for(var p=st(h)||[],g=new Array(p.length),m=0;m<p.length;m++)g[m]=rn(p[m],r,d.parent,u,d);return g}}function rn(e,t,r,n,i){var a=_e(e);return a.fnContext=r,a.fnOptions=n,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function nn(e,t){for(var r in t)e[I(r)]=t[r]}function an(e){return e.name||e.__name||e._componentTag}St(en.prototype);var on={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var r=e;on.prepatch(r,r)}else{var n=e.componentInstance=ln(e,Ar);n.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var r=t.componentOptions,n=t.componentInstance=e.componentInstance;Nr(n,r.propsData,r.listeners,t,r.children)},insert:function(e){var t=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,Pr(r,"mounted")),e.data.keepAlive&&(t._isMounted?Wr(r):Mr(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Or(t,!0):t.$destroy())}},sn=Object.keys(on);function un(e,t,r,n,i){if(!a(e)){var u=r.$options._base;if(f(e)&&(e=u.extend(e)),"function"===typeof e){var l;if(a(e.cid)&&(l=e,e=Gt(l,u),void 0===e))return qt(l,t,r,n,i);t=t||{},Xn(e),o(t.model)&&dn(e.options,t);var c=it(t,e,i);if(s(e.options.functional))return tn(e,c,t,r,n);var d=t.on;if(t.on=t.nativeOn,s(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}cn(t);var p=an(e.options)||i,g=new ye("vue-component-".concat(e.cid).concat(p?"-".concat(p):""),t,void 0,void 0,void 0,r,{Ctor:e,propsData:c,listeners:d,tag:i,children:n},l);return g}}}function ln(e,t){var r={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return o(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(r)}function cn(e){for(var t=e.hook||(e.hook={}),r=0;r<sn.length;r++){var n=sn[r],i=t[n],a=on[n];i===a||i&&i._merged||(t[n]=i?fn(a,i):a)}}function fn(e,t){var r=function(r,n){e(r,n),t(r,n)};return r._merged=!0,r}function dn(e,t){var r=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[r]=t.model.value;var a=t.on||(t.on={}),s=a[n],u=t.model.callback;o(s)?(i(s)?-1===s.indexOf(u):s!==u)&&(a[n]=[u].concat(s)):a[n]=u}var hn=F,pn=K.optionMergeStrategies;function gn(e,t,r){if(void 0===r&&(r=!0),!t)return e;for(var n,i,a,o=ge?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(i=e[n],a=t[n],r&&S(e,n)?i!==a&&h(i)&&h(a)&&gn(i,a):Ue(e,n,a));return e}function mn(e,t,r){return r?function(){var n=c(t)?t.call(r,r):t,i=c(e)?e.call(r,r):e;return n?gn(n,i):i}:t?e?function(){return gn(c(t)?t.call(this,this):t,c(e)?e.call(this,this):e)}:t:e}function vn(e,t){var r=t?e?e.concat(t):i(t)?t:[t]:e;return r?yn(r):r}function yn(e){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}function bn(e,t,r,n){var i=Object.create(e||null);return t?L(i,t):i}pn.data=function(e,t,r){return r?mn(e,t,r):t&&"function"!==typeof t?e:mn(e,t)},z.forEach((function(e){pn[e]=vn})),Y.forEach((function(e){pn[e+"s"]=bn})),pn.watch=function(e,t,r,n){if(e===ue&&(e=void 0),t===ue&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var a={};for(var o in L(a,e),t){var s=a[o],u=t[o];s&&!i(s)&&(s=[s]),a[o]=s?s.concat(u):i(u)?u:[u]}return a},pn.props=pn.methods=pn.inject=pn.computed=function(e,t,r,n){if(!e)return t;var i=Object.create(null);return L(i,e),t&&L(i,t),i},pn.provide=function(e,t){return e?function(){var r=Object.create(null);return gn(r,c(e)?e.call(this):e),t&&gn(r,c(t)?t.call(this):t,!1),r}:t};var En=function(e,t){return void 0===t?e:t};function _n(e,t){var r=e.props;if(r){var n,a,o,s={};if(i(r)){n=r.length;while(n--)a=r[n],"string"===typeof a&&(o=I(a),s[o]={type:null})}else if(h(r))for(var u in r)a=r[u],o=I(u),s[o]=h(a)?a:{type:a};else 0;e.props=s}}function Tn(e,t){var r=e.inject;if(r){var n=e.inject={};if(i(r))for(var a=0;a<r.length;a++)n[r[a]]={from:r[a]};else if(h(r))for(var o in r){var s=r[o];n[o]=h(s)?L({from:o},s):{from:s}}else 0}}function wn(e){var t=e.directives;if(t)for(var r in t){var n=t[r];c(n)&&(t[r]={bind:n,update:n})}}function Sn(e,t,r){if(c(t)&&(t=t.options),_n(t,r),Tn(t,r),wn(t),!t._base&&(t.extends&&(e=Sn(e,t.extends,r)),t.mixins))for(var n=0,i=t.mixins.length;n<i;n++)e=Sn(e,t.mixins[n],r);var a,o={};for(a in e)s(a);for(a in t)S(e,a)||s(a);function s(n){var i=pn[n]||En;o[n]=i(e[n],t[n],r,n)}return o}function An(e,t,r,n){if("string"===typeof r){var i=e[t];if(S(i,r))return i[r];var a=I(r);if(S(i,a))return i[a];var o=C(a);if(S(i,o))return i[o];var s=i[r]||i[a]||i[o];return s}}function Rn(e,t,r,n){var i=t[e],a=!S(r,e),o=r[e],s=xn(Boolean,i.type);if(s>-1)if(a&&!S(i,"default"))o=!1;else if(""===o||o===N(e)){var u=xn(String,i.type);(u<0||s<u)&&(o=!0)}if(void 0===o){o=In(n,i,e);var l=Pe;Le(!0),je(o),Le(l)}return o}function In(e,t,r){if(S(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[r]&&void 0!==e._props[r]?e._props[r]:c(n)&&"Function"!==Dn(t.type)?n.call(e):n}}var Cn=/^\s*function (\w+)/;function Dn(e){var t=e&&e.toString().match(Cn);return t?t[1]:""}function Nn(e,t){return Dn(e)===Dn(t)}function xn(e,t){if(!i(t))return Nn(t,e)?0:-1;for(var r=0,n=t.length;r<n;r++)if(Nn(t[r],e))return r;return-1}var Mn={enumerable:!0,configurable:!0,get:F,set:F};function On(e,t,r){Mn.get=function(){return this[t][r]},Mn.set=function(e){this[t][r]=e},Object.defineProperty(e,r,Mn)}function Pn(e){var t=e.$options;if(t.props&&Ln(e,t.props),xt(e),t.methods&&Vn(e,t.methods),t.data)kn(e);else{var r=je(e._data={});r&&r.vmCount++}t.computed&&Bn(e,t.computed),t.watch&&t.watch!==ue&&Hn(e,t.watch)}function Ln(e,t){var r=e.$options.propsData||{},n=e._props=Ve({}),i=e.$options._propKeys=[],a=!e.$parent;a||Le(!1);var o=function(a){i.push(a);var o=Rn(a,t,r,e);Be(n,a,o,void 0,!0),a in e||On(e,"_props",a)};for(var s in t)o(s);Le(!0)}function kn(e){var t=e.$options.data;t=e._data=c(t)?Fn(t,e):t||{},h(t)||(t={});var r=Object.keys(t),n=e.$options.props,i=(e.$options.methods,r.length);while(i--){var a=r[i];0,n&&S(n,a)||$(a)||On(e,"_data",a)}var o=je(t);o&&o.vmCount++}function Fn(e,t){Ie();try{return e.call(t,t)}catch(Jo){return Xt(Jo,t,"data()"),{}}finally{Ce()}}var jn={lazy:!0};function Bn(e,t){var r=e._computedWatchers=Object.create(null),n=fe();for(var i in t){var a=t[i],o=c(a)?a:a.get;0,n||(r[i]=new yr(e,o||F,F,jn)),i in e||Un(e,i,a)}}function Un(e,t,r){var n=!fe();c(r)?(Mn.get=n?qn(t):Gn(r),Mn.set=F):(Mn.get=r.get?n&&!1!==r.cache?qn(t):Gn(r.get):F,Mn.set=r.set||F),Object.defineProperty(e,t,Mn)}function qn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Ae.target&&t.depend(),t.value}}function Gn(e){return function(){return e.call(this,this)}}function Vn(e,t){e.$options.props;for(var r in t)e[r]="function"!==typeof t[r]?F:O(t[r],e)}function Hn(e,t){for(var r in t){var n=t[r];if(i(n))for(var a=0;a<n.length;a++)Yn(e,r,n[a]);else Yn(e,r,n)}}function Yn(e,t,r,n){return h(r)&&(n=r,r=r.handler),"string"===typeof r&&(r=e[r]),e.$watch(t,r,n)}function zn(e){var t={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",r),e.prototype.$set=Ue,e.prototype.$delete=qe,e.prototype.$watch=function(e,t,r){var n=this;if(h(t))return Yn(n,e,t,r);r=r||{},r.user=!0;var i=new yr(n,e,t,r);if(r.immediate){var a='callback for immediate watcher "'.concat(i.expression,'"');Ie(),Qt(t,n,[i.value],n,a),Ce()}return function(){i.teardown()}}}var Kn=0;function Wn(e){e.prototype._init=function(e){var t=this;t._uid=Kn++,t._isVue=!0,t.__v_skip=!0,t._scope=new Xe(!0),t._scope.parent=void 0,t._scope._vm=!0,e&&e._isComponent?$n(t,e):t.$options=Sn(Xn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Ir(t),br(t),Ft(t),Pr(t,"beforeCreate",void 0,!1),Zr(t),Pn(t),Qr(t),Pr(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function $n(e,t){var r=e.$options=Object.create(e.constructor.options),n=t._parentVnode;r.parent=t.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,t.render&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns)}function Xn(e){var t=e.options;if(e.super){var r=Xn(e.super),n=e.superOptions;if(r!==n){e.superOptions=r;var i=Qn(e);i&&L(e.extendOptions,i),t=e.options=Sn(r,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Qn(e){var t,r=e.options,n=e.sealedOptions;for(var i in r)r[i]!==n[i]&&(t||(t={}),t[i]=r[i]);return t}function Zn(e){this._init(e)}function Jn(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var r=P(arguments,1);return r.unshift(this),c(e.install)?e.install.apply(e,r):c(e)&&e.apply(null,r),t.push(e),this}}function ei(e){e.mixin=function(e){return this.options=Sn(this.options,e),this}}function ti(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var r=this,n=r.cid,i=e._Ctor||(e._Ctor={});if(i[n])return i[n];var a=an(e)||an(r.options);var o=function(e){this._init(e)};return o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.cid=t++,o.options=Sn(r.options,e),o["super"]=r,o.options.props&&ri(o),o.options.computed&&ni(o),o.extend=r.extend,o.mixin=r.mixin,o.use=r.use,Y.forEach((function(e){o[e]=r[e]})),a&&(o.options.components[a]=o),o.superOptions=r.options,o.extendOptions=e,o.sealedOptions=L({},o.options),i[n]=o,o}}function ri(e){var t=e.options.props;for(var r in t)On(e.prototype,"_props",r)}function ni(e){var t=e.options.computed;for(var r in t)Un(e.prototype,r,t[r])}function ii(e){Y.forEach((function(t){e[t]=function(e,r){return r?("component"===t&&h(r)&&(r.name=r.name||e,r=this.options._base.extend(r)),"directive"===t&&c(r)&&(r={bind:r,update:r}),this.options[t+"s"][e]=r,r):this.options[t+"s"][e]}}))}function ai(e){return e&&(an(e.Ctor.options)||e.tag)}function oi(e,t){return i(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!p(e)&&e.test(t)}function si(e,t){var r=e.cache,n=e.keys,i=e._vnode,a=e.$vnode;for(var o in r){var s=r[o];if(s){var u=s.name;u&&!t(u)&&ui(r,o,n,i)}}a.componentOptions.children=void 0}function ui(e,t,r,n){var i=e[t];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),e[t]=null,T(r,t)}Wn(Zn),zn(Zn),Sr(Zn),Cr(Zn),Bt(Zn);var li=[String,RegExp,Array],ci={name:"keep-alive",abstract:!0,props:{include:li,exclude:li,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,r=e.keys,n=e.vnodeToCache,i=e.keyToCache;if(n){var a=n.tag,o=n.componentInstance,s=n.componentOptions;t[i]={name:ai(s),tag:a,componentInstance:o},r.push(i),this.max&&r.length>parseInt(this.max)&&ui(t,r[0],r,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)ui(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){si(e,(function(e){return oi(t,e)}))})),this.$watch("exclude",(function(t){si(e,(function(e){return!oi(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Vt(e),r=t&&t.componentOptions;if(r){var n=ai(r),i=this,a=i.include,o=i.exclude;if(a&&(!n||!oi(a,n))||o&&n&&oi(o,n))return t;var s=this,u=s.cache,l=s.keys,c=null==t.key?r.Ctor.cid+(r.tag?"::".concat(r.tag):""):t.key;u[c]?(t.componentInstance=u[c].componentInstance,T(l,c),l.push(c)):(this.vnodeToCache=t,this.keyToCache=c),t.data.keepAlive=!0}return t||e&&e[0]}},fi={KeepAlive:ci};function di(e){var t={get:function(){return K}};Object.defineProperty(e,"config",t),e.util={warn:hn,extend:L,mergeOptions:Sn,defineReactive:Be},e.set=Ue,e.delete=qe,e.nextTick=lr,e.observable=function(e){return je(e),e},e.options=Object.create(null),Y.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,L(e.options.components,fi),Jn(e),ei(e),ti(e),ii(e)}di(Zn),Object.defineProperty(Zn.prototype,"$isServer",{get:fe}),Object.defineProperty(Zn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Zn,"FunctionalRenderContext",{value:en}),Zn.version=dr;var hi=E("style,class"),pi=E("input,textarea,option,select,progress"),gi=function(e,t,r){return"value"===r&&pi(e)&&"button"!==t||"selected"===r&&"option"===e||"checked"===r&&"input"===e||"muted"===r&&"video"===e},mi=E("contenteditable,draggable,spellcheck"),vi=E("events,caret,typing,plaintext-only"),yi=function(e,t){return wi(t)||"false"===t?"false":"contenteditable"===e&&vi(t)?t:"true"},bi=E("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Ei="http://www.w3.org/1999/xlink",_i=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ti=function(e){return _i(e)?e.slice(6,e.length):""},wi=function(e){return null==e||!1===e};function Si(e){var t=e.data,r=e,n=e;while(o(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(t=Ai(n.data,t));while(o(r=r.parent))r&&r.data&&(t=Ai(t,r.data));return Ri(t.staticClass,t.class)}function Ai(e,t){return{staticClass:Ii(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function Ri(e,t){return o(e)||o(t)?Ii(e,Ci(t)):""}function Ii(e,t){return e?t?e+" "+t:e:t||""}function Ci(e){return Array.isArray(e)?Di(e):f(e)?Ni(e):"string"===typeof e?e:""}function Di(e){for(var t,r="",n=0,i=e.length;n<i;n++)o(t=Ci(e[n]))&&""!==t&&(r&&(r+=" "),r+=t);return r}function Ni(e){var t="";for(var r in e)e[r]&&(t&&(t+=" "),t+=r);return t}var xi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Mi=E("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Oi=E("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Pi=function(e){return Mi(e)||Oi(e)};function Li(e){return Oi(e)?"svg":"math"===e?"math":void 0}var ki=Object.create(null);function Fi(e){if(!ee)return!0;if(Pi(e))return!1;if(e=e.toLowerCase(),null!=ki[e])return ki[e];var t=document.createElement(e);return e.indexOf("-")>-1?ki[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ki[e]=/HTMLUnknownElement/.test(t.toString())}var ji=E("text,number,password,search,email,tel,url");function Bi(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Ui(e,t){var r=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r}function qi(e,t){return document.createElementNS(xi[e],t)}function Gi(e){return document.createTextNode(e)}function Vi(e){return document.createComment(e)}function Hi(e,t,r){e.insertBefore(t,r)}function Yi(e,t){e.removeChild(t)}function zi(e,t){e.appendChild(t)}function Ki(e){return e.parentNode}function Wi(e){return e.nextSibling}function $i(e){return e.tagName}function Xi(e,t){e.textContent=t}function Qi(e,t){e.setAttribute(t,"")}var Zi=Object.freeze({__proto__:null,createElement:Ui,createElementNS:qi,createTextNode:Gi,createComment:Vi,insertBefore:Hi,removeChild:Yi,appendChild:zi,parentNode:Ki,nextSibling:Wi,tagName:$i,setTextContent:Xi,setStyleScope:Qi}),Ji={create:function(e,t){ea(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ea(e,!0),ea(t))},destroy:function(e){ea(e,!0)}};function ea(e,t){var r=e.data.ref;if(o(r)){var n=e.context,a=e.componentInstance||e.elm,s=t?null:a,u=t?void 0:a;if(c(r))Qt(r,n,[s],n,"template ref function");else{var l=e.data.refInFor,f="string"===typeof r||"number"===typeof r,d=ze(r),h=n.$refs;if(f||d)if(l){var p=f?h[r]:r.value;t?i(p)&&T(p,a):i(p)?p.includes(a)||p.push(a):f?(h[r]=[a],ta(n,r,h[r])):r.value=[a]}else if(f){if(t&&h[r]!==a)return;h[r]=u,ta(n,r,s)}else if(d){if(t&&r.value!==a)return;r.value=s}else 0}}}function ta(e,t,r){var n=e._setupState;n&&S(n,t)&&(ze(n[t])?n[t].value=r:n[t]=r)}var ra=new ye("",{},[]),na=["create","activate","update","remove","destroy"];function ia(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&aa(e,t)||s(e.isAsyncPlaceholder)&&a(t.asyncFactory.error))}function aa(e,t){if("input"!==e.tag)return!0;var r,n=o(r=e.data)&&o(r=r.attrs)&&r.type,i=o(r=t.data)&&o(r=r.attrs)&&r.type;return n===i||ji(n)&&ji(i)}function oa(e,t,r){var n,i,a={};for(n=t;n<=r;++n)i=e[n].key,o(i)&&(a[i]=n);return a}function sa(e){var t,r,n={},u=e.modules,c=e.nodeOps;for(t=0;t<na.length;++t)for(n[na[t]]=[],r=0;r<u.length;++r)o(u[r][na[t]])&&n[na[t]].push(u[r][na[t]]);function f(e){return new ye(c.tagName(e).toLowerCase(),{},[],void 0,e)}function d(e,t){function r(){0===--r.listeners&&h(e)}return r.listeners=t,r}function h(e){var t=c.parentNode(e);o(t)&&c.removeChild(t,e)}function p(e,t,r,n,i,a,u){if(o(e.elm)&&o(a)&&(e=a[u]=_e(e)),e.isRootInsert=!i,!g(e,t,r,n)){var l=e.data,f=e.children,d=e.tag;o(d)?(e.elm=e.ns?c.createElementNS(e.ns,d):c.createElement(d,e),w(e),b(e,f,t),o(l)&&T(e,t),y(r,e.elm,n)):s(e.isComment)?(e.elm=c.createComment(e.text),y(r,e.elm,n)):(e.elm=c.createTextNode(e.text),y(r,e.elm,n))}}function g(e,t,r,n){var i=e.data;if(o(i)){var a=o(e.componentInstance)&&i.keepAlive;if(o(i=i.hook)&&o(i=i.init)&&i(e,!1),o(e.componentInstance))return m(e,t),y(r,e.elm,n),s(a)&&v(e,t,r,n),!0}}function m(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,_(e)?(T(e,t),w(e)):(ea(e),t.push(e))}function v(e,t,r,i){var a,s=e;while(s.componentInstance)if(s=s.componentInstance._vnode,o(a=s.data)&&o(a=a.transition)){for(a=0;a<n.activate.length;++a)n.activate[a](ra,s);t.push(s);break}y(r,e.elm,i)}function y(e,t,r){o(e)&&(o(r)?c.parentNode(r)===e&&c.insertBefore(e,t,r):c.appendChild(e,t))}function b(e,t,r){if(i(t)){0;for(var n=0;n<t.length;++n)p(t[n],r,e.elm,null,!0,t,n)}else l(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function _(e){while(e.componentInstance)e=e.componentInstance._vnode;return o(e.tag)}function T(e,r){for(var i=0;i<n.create.length;++i)n.create[i](ra,e);t=e.data.hook,o(t)&&(o(t.create)&&t.create(ra,e),o(t.insert)&&r.push(e))}function w(e){var t;if(o(t=e.fnScopeId))c.setStyleScope(e.elm,t);else{var r=e;while(r)o(t=r.context)&&o(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),r=r.parent}o(t=Ar)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function S(e,t,r,n,i,a){for(;n<=i;++n)p(r[n],a,e,t,!1,r,n)}function A(e){var t,r,i=e.data;if(o(i))for(o(t=i.hook)&&o(t=t.destroy)&&t(e),t=0;t<n.destroy.length;++t)n.destroy[t](e);if(o(t=e.children))for(r=0;r<e.children.length;++r)A(e.children[r])}function R(e,t,r){for(;t<=r;++t){var n=e[t];o(n)&&(o(n.tag)?(I(n),A(n)):h(n.elm))}}function I(e,t){if(o(t)||o(e.data)){var r,i=n.remove.length+1;for(o(t)?t.listeners+=i:t=d(e.elm,i),o(r=e.componentInstance)&&o(r=r._vnode)&&o(r.data)&&I(r,t),r=0;r<n.remove.length;++r)n.remove[r](e,t);o(r=e.data.hook)&&o(r=r.remove)?r(e,t):t()}else h(e.elm)}function C(e,t,r,n,i){var s,u,l,f,d=0,h=0,g=t.length-1,m=t[0],v=t[g],y=r.length-1,b=r[0],E=r[y],_=!i;while(d<=g&&h<=y)a(m)?m=t[++d]:a(v)?v=t[--g]:ia(m,b)?(N(m,b,n,r,h),m=t[++d],b=r[++h]):ia(v,E)?(N(v,E,n,r,y),v=t[--g],E=r[--y]):ia(m,E)?(N(m,E,n,r,y),_&&c.insertBefore(e,m.elm,c.nextSibling(v.elm)),m=t[++d],E=r[--y]):ia(v,b)?(N(v,b,n,r,h),_&&c.insertBefore(e,v.elm,m.elm),v=t[--g],b=r[++h]):(a(s)&&(s=oa(t,d,g)),u=o(b.key)?s[b.key]:D(b,t,d,g),a(u)?p(b,n,e,m.elm,!1,r,h):(l=t[u],ia(l,b)?(N(l,b,n,r,h),t[u]=void 0,_&&c.insertBefore(e,l.elm,m.elm)):p(b,n,e,m.elm,!1,r,h)),b=r[++h]);d>g?(f=a(r[y+1])?null:r[y+1].elm,S(e,f,r,h,y,n)):h>y&&R(t,d,g)}function D(e,t,r,n){for(var i=r;i<n;i++){var a=t[i];if(o(a)&&ia(e,a))return i}}function N(e,t,r,i,u,l){if(e!==t){o(t.elm)&&o(i)&&(t=i[u]=_e(t));var f=t.elm=e.elm;if(s(e.isAsyncPlaceholder))o(t.asyncFactory.resolved)?O(e.elm,t,r):t.isAsyncPlaceholder=!0;else if(s(t.isStatic)&&s(e.isStatic)&&t.key===e.key&&(s(t.isCloned)||s(t.isOnce)))t.componentInstance=e.componentInstance;else{var d,h=t.data;o(h)&&o(d=h.hook)&&o(d=d.prepatch)&&d(e,t);var p=e.children,g=t.children;if(o(h)&&_(t)){for(d=0;d<n.update.length;++d)n.update[d](e,t);o(d=h.hook)&&o(d=d.update)&&d(e,t)}a(t.text)?o(p)&&o(g)?p!==g&&C(f,p,g,r,l):o(g)?(o(e.text)&&c.setTextContent(f,""),S(f,null,g,0,g.length-1,r)):o(p)?R(p,0,p.length-1):o(e.text)&&c.setTextContent(f,""):e.text!==t.text&&c.setTextContent(f,t.text),o(h)&&o(d=h.hook)&&o(d=d.postpatch)&&d(e,t)}}}function x(e,t,r){if(s(r)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var M=E("attrs,class,staticClass,staticStyle,key");function O(e,t,r,n){var i,a=t.tag,u=t.data,l=t.children;if(n=n||u&&u.pre,t.elm=e,s(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(u)&&(o(i=u.hook)&&o(i=i.init)&&i(t,!0),o(i=t.componentInstance)))return m(t,r),!0;if(o(a)){if(o(l))if(e.hasChildNodes())if(o(i=u)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var c=!0,f=e.firstChild,d=0;d<l.length;d++){if(!f||!O(f,l[d],r,n)){c=!1;break}f=f.nextSibling}if(!c||f)return!1}else b(t,l,r);if(o(u)){var h=!1;for(var p in u)if(!M(p)){h=!0,T(t,r);break}!h&&u["class"]&&pr(u["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,r,i){if(!a(t)){var u=!1,l=[];if(a(e))u=!0,p(t,l);else{var d=o(e.nodeType);if(!d&&ia(e,t))N(e,t,l,null,null,i);else{if(d){if(1===e.nodeType&&e.hasAttribute(H)&&(e.removeAttribute(H),r=!0),s(r)&&O(e,t,l))return x(t,l,!0),e;e=f(e)}var h=e.elm,g=c.parentNode(h);if(p(t,l,h._leaveCb?null:g,c.nextSibling(h)),o(t.parent)){var m=t.parent,v=_(t);while(m){for(var y=0;y<n.destroy.length;++y)n.destroy[y](m);if(m.elm=t.elm,v){for(var b=0;b<n.create.length;++b)n.create[b](ra,m);var E=m.data.hook.insert;if(E.merged)for(var T=E.fns.slice(1),w=0;w<T.length;w++)T[w]()}else ea(m);m=m.parent}}o(g)?R([e],0,0):o(e.tag)&&A(e)}}return x(t,l,u),t.elm}o(e)&&A(e)}}var ua={create:la,update:la,destroy:function(e){la(e,ra)}};function la(e,t){(e.data.directives||t.data.directives)&&ca(e,t)}function ca(e,t){var r,n,i,a=e===ra,o=t===ra,s=da(e.data.directives,e.context),u=da(t.data.directives,t.context),l=[],c=[];for(r in u)n=s[r],i=u[r],n?(i.oldValue=n.value,i.oldArg=n.arg,pa(i,"update",t,e),i.def&&i.def.componentUpdated&&c.push(i)):(pa(i,"bind",t,e),i.def&&i.def.inserted&&l.push(i));if(l.length){var f=function(){for(var r=0;r<l.length;r++)pa(l[r],"inserted",t,e)};a?nt(t,"insert",f):f()}if(c.length&&nt(t,"postpatch",(function(){for(var r=0;r<c.length;r++)pa(c[r],"componentUpdated",t,e)})),!a)for(r in s)u[r]||pa(s[r],"unbind",e,e,o)}var fa=Object.create(null);function da(e,t){var r,n,i=Object.create(null);if(!e)return i;for(r=0;r<e.length;r++){if(n=e[r],n.modifiers||(n.modifiers=fa),i[ha(n)]=n,t._setupState&&t._setupState.__sfc){var a=n.def||An(t,"_setupState","v-"+n.name);n.def="function"===typeof a?{bind:a,update:a}:a}n.def=n.def||An(t.$options,"directives",n.name,!0)}return i}function ha(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function pa(e,t,r,n,i){var a=e.def&&e.def[t];if(a)try{a(r.elm,e,r,n,i)}catch(Jo){Xt(Jo,r.context,"directive ".concat(e.name," ").concat(t," hook"))}}var ga=[Ji,ua];function ma(e,t){var r=t.componentOptions;if((!o(r)||!1!==r.Ctor.options.inheritAttrs)&&(!a(e.data.attrs)||!a(t.data.attrs))){var n,i,u,l=t.elm,c=e.data.attrs||{},f=t.data.attrs||{};for(n in(o(f.__ob__)||s(f._v_attr_proxy))&&(f=t.data.attrs=L({},f)),f)i=f[n],u=c[n],u!==i&&va(l,n,i,t.data.pre);for(n in(re||ie)&&f.value!==c.value&&va(l,"value",f.value),c)a(f[n])&&(_i(n)?l.removeAttributeNS(Ei,Ti(n)):mi(n)||l.removeAttribute(n))}}function va(e,t,r,n){n||e.tagName.indexOf("-")>-1?ya(e,t,r):bi(t)?wi(r)?e.removeAttribute(t):(r="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,r)):mi(t)?e.setAttribute(t,yi(t,r)):_i(t)?wi(r)?e.removeAttributeNS(Ei,Ti(t)):e.setAttributeNS(Ei,t,r):ya(e,t,r)}function ya(e,t,r){if(wi(r))e.removeAttribute(t);else{if(re&&!ne&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==r&&!e.__ieph){var n=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,r)}}var ba={create:ma,update:ma};function Ea(e,t){var r=t.elm,n=t.data,i=e.data;if(!(a(n.staticClass)&&a(n.class)&&(a(i)||a(i.staticClass)&&a(i.class)))){var s=Si(t),u=r._transitionClasses;o(u)&&(s=Ii(s,Ci(u))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}var _a,Ta={create:Ea,update:Ea},wa="__r",Sa="__c";function Aa(e){if(o(e[wa])){var t=re?"change":"input";e[t]=[].concat(e[wa],e[t]||[]),delete e[wa]}o(e[Sa])&&(e.change=[].concat(e[Sa],e.change||[]),delete e[Sa])}function Ra(e,t,r){var n=_a;return function i(){var a=t.apply(null,arguments);null!==a&&Da(e,i,r,n)}}var Ia=tr&&!(se&&Number(se[1])<=53);function Ca(e,t,r,n){if(Ia){var i=Gr,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}_a.addEventListener(e,t,le?{capture:r,passive:n}:r)}function Da(e,t,r,n){(n||_a).removeEventListener(e,t._wrapper||t,r)}function Na(e,t){if(!a(e.data.on)||!a(t.data.on)){var r=t.data.on||{},n=e.data.on||{};_a=t.elm||e.elm,Aa(r),rt(r,n,Ca,Da,Ra,t.context),_a=void 0}}var xa,Ma={create:Na,update:Na,destroy:function(e){return Na(e,ra)}};function Oa(e,t){if(!a(e.data.domProps)||!a(t.data.domProps)){var r,n,i=t.elm,u=e.data.domProps||{},l=t.data.domProps||{};for(r in(o(l.__ob__)||s(l._v_attr_proxy))&&(l=t.data.domProps=L({},l)),u)r in l||(i[r]="");for(r in l){if(n=l[r],"textContent"===r||"innerHTML"===r){if(t.children&&(t.children.length=0),n===u[r])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===r&&"PROGRESS"!==i.tagName){i._value=n;var c=a(n)?"":String(n);Pa(i,c)&&(i.value=c)}else if("innerHTML"===r&&Oi(i.tagName)&&a(i.innerHTML)){xa=xa||document.createElement("div"),xa.innerHTML="<svg>".concat(n,"</svg>");var f=xa.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(f.firstChild)i.appendChild(f.firstChild)}else if(n!==u[r])try{i[r]=n}catch(Jo){}}}}function Pa(e,t){return!e.composing&&("OPTION"===e.tagName||La(e,t)||ka(e,t))}function La(e,t){var r=!0;try{r=document.activeElement!==e}catch(Jo){}return r&&e.value!==t}function ka(e,t){var r=e.value,n=e._vModifiers;if(o(n)){if(n.number)return b(r)!==b(t);if(n.trim)return r.trim()!==t.trim()}return r!==t}var Fa={create:Oa,update:Oa},ja=A((function(e){var t={},r=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(r).forEach((function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}));function Ba(e){var t=Ua(e.style);return e.staticStyle?L(e.staticStyle,t):t}function Ua(e){return Array.isArray(e)?k(e):"string"===typeof e?ja(e):e}function qa(e,t){var r,n={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(r=Ba(i.data))&&L(n,r)}(r=Ba(e.data))&&L(n,r);var a=e;while(a=a.parent)a.data&&(r=Ba(a.data))&&L(n,r);return n}var Ga,Va=/^--/,Ha=/\s*!important$/,Ya=function(e,t,r){if(Va.test(t))e.style.setProperty(t,r);else if(Ha.test(r))e.style.setProperty(N(t),r.replace(Ha,""),"important");else{var n=Ka(t);if(Array.isArray(r))for(var i=0,a=r.length;i<a;i++)e.style[n]=r[i];else e.style[n]=r}},za=["Webkit","Moz","ms"],Ka=A((function(e){if(Ga=Ga||document.createElement("div").style,e=I(e),"filter"!==e&&e in Ga)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<za.length;r++){var n=za[r]+t;if(n in Ga)return n}}));function Wa(e,t){var r=t.data,n=e.data;if(!(a(r.staticStyle)&&a(r.style)&&a(n.staticStyle)&&a(n.style))){var i,s,u=t.elm,l=n.staticStyle,c=n.normalizedStyle||n.style||{},f=l||c,d=Ua(t.data.style)||{};t.data.normalizedStyle=o(d.__ob__)?L({},d):d;var h=qa(t,!0);for(s in f)a(h[s])&&Ya(u,s,"");for(s in h)i=h[s],Ya(u,s,null==i?"":i)}}var $a={create:Wa,update:Wa},Xa=/\s+/;function Qa(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Xa).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var r=" ".concat(e.getAttribute("class")||""," ");r.indexOf(" "+t+" ")<0&&e.setAttribute("class",(r+t).trim())}}function Za(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Xa).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var r=" ".concat(e.getAttribute("class")||""," "),n=" "+t+" ";while(r.indexOf(n)>=0)r=r.replace(n," ");r=r.trim(),r?e.setAttribute("class",r):e.removeAttribute("class")}}function Ja(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&L(t,eo(e.name||"v")),L(t,e),t}return"string"===typeof e?eo(e):void 0}}var eo=A((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),to=ee&&!ne,ro="transition",no="animation",io="transition",ao="transitionend",oo="animation",so="animationend";to&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(io="WebkitTransition",ao="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(oo="WebkitAnimation",so="webkitAnimationEnd"));var uo=ee?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function lo(e){uo((function(){uo(e)}))}function co(e,t){var r=e._transitionClasses||(e._transitionClasses=[]);r.indexOf(t)<0&&(r.push(t),Qa(e,t))}function fo(e,t){e._transitionClasses&&T(e._transitionClasses,t),Za(e,t)}function ho(e,t,r){var n=go(e,t),i=n.type,a=n.timeout,o=n.propCount;if(!i)return r();var s=i===ro?ao:so,u=0,l=function(){e.removeEventListener(s,c),r()},c=function(t){t.target===e&&++u>=o&&l()};setTimeout((function(){u<o&&l()}),a+1),e.addEventListener(s,c)}var po=/\b(transform|all)(,|$)/;function go(e,t){var r,n=window.getComputedStyle(e),i=(n[io+"Delay"]||"").split(", "),a=(n[io+"Duration"]||"").split(", "),o=mo(i,a),s=(n[oo+"Delay"]||"").split(", "),u=(n[oo+"Duration"]||"").split(", "),l=mo(s,u),c=0,f=0;t===ro?o>0&&(r=ro,c=o,f=a.length):t===no?l>0&&(r=no,c=l,f=u.length):(c=Math.max(o,l),r=c>0?o>l?ro:no:null,f=r?r===ro?a.length:u.length:0);var d=r===ro&&po.test(n[io+"Property"]);return{type:r,timeout:c,propCount:f,hasTransform:d}}function mo(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,r){return vo(t)+vo(e[r])})))}function vo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function yo(e,t){var r=e.elm;o(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var n=Ja(e.data.transition);if(!a(n)&&!o(r._enterCb)&&1===r.nodeType){var i=n.css,s=n.type,u=n.enterClass,l=n.enterToClass,d=n.enterActiveClass,h=n.appearClass,p=n.appearToClass,g=n.appearActiveClass,m=n.beforeEnter,v=n.enter,y=n.afterEnter,E=n.enterCancelled,_=n.beforeAppear,T=n.appear,w=n.afterAppear,S=n.appearCancelled,A=n.duration,R=Ar,I=Ar.$vnode;while(I&&I.parent)R=I.context,I=I.parent;var C=!R._isMounted||!e.isRootInsert;if(!C||T||""===T){var D=C&&h?h:u,N=C&&g?g:d,x=C&&p?p:l,M=C&&_||m,O=C&&c(T)?T:v,P=C&&w||y,L=C&&S||E,k=b(f(A)?A.enter:A);0;var F=!1!==i&&!ne,j=_o(O),B=r._enterCb=G((function(){F&&(fo(r,x),fo(r,N)),B.cancelled?(F&&fo(r,D),L&&L(r)):P&&P(r),r._enterCb=null}));e.data.show||nt(e,"insert",(function(){var t=r.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),O&&O(r,B)})),M&&M(r),F&&(co(r,D),co(r,N),lo((function(){fo(r,D),B.cancelled||(co(r,x),j||(Eo(k)?setTimeout(B,k):ho(r,s,B)))}))),e.data.show&&(t&&t(),O&&O(r,B)),F||j||B()}}}function bo(e,t){var r=e.elm;o(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var n=Ja(e.data.transition);if(a(n)||1!==r.nodeType)return t();if(!o(r._leaveCb)){var i=n.css,s=n.type,u=n.leaveClass,l=n.leaveToClass,c=n.leaveActiveClass,d=n.beforeLeave,h=n.leave,p=n.afterLeave,g=n.leaveCancelled,m=n.delayLeave,v=n.duration,y=!1!==i&&!ne,E=_o(h),_=b(f(v)?v.leave:v);0;var T=r._leaveCb=G((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),y&&(fo(r,l),fo(r,c)),T.cancelled?(y&&fo(r,u),g&&g(r)):(t(),p&&p(r)),r._leaveCb=null}));m?m(w):w()}function w(){T.cancelled||(!e.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),d&&d(r),y&&(co(r,u),co(r,c),lo((function(){fo(r,u),T.cancelled||(co(r,l),E||(Eo(_)?setTimeout(T,_):ho(r,s,T)))}))),h&&h(r,T),y||E||T())}}function Eo(e){return"number"===typeof e&&!isNaN(e)}function _o(e){if(a(e))return!1;var t=e.fns;return o(t)?_o(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function To(e,t){!0!==t.data.show&&yo(t)}var wo=ee?{create:To,activate:To,remove:function(e,t){!0!==e.data.show?bo(e,t):t()}}:{},So=[ba,Ta,Ma,Fa,$a,wo],Ao=So.concat(ga),Ro=sa({nodeOps:Zi,modules:Ao});ne&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Po(e,"input")}));var Io={inserted:function(e,t,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?nt(r,"postpatch",(function(){Io.componentUpdated(e,t,r)})):Co(e,t,r.context),e._vOptions=[].map.call(e.options,xo)):("textarea"===r.tag||ji(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Mo),e.addEventListener("compositionend",Oo),e.addEventListener("change",Oo),ne&&(e.vmodel=!0)))},componentUpdated:function(e,t,r){if("select"===r.tag){Co(e,t,r.context);var n=e._vOptions,i=e._vOptions=[].map.call(e.options,xo);if(i.some((function(e,t){return!U(e,n[t])}))){var a=e.multiple?t.value.some((function(e){return No(e,i)})):t.value!==t.oldValue&&No(t.value,i);a&&Po(e,"change")}}}};function Co(e,t,r){Do(e,t,r),(re||ie)&&setTimeout((function(){Do(e,t,r)}),0)}function Do(e,t,r){var n=t.value,i=e.multiple;if(!i||Array.isArray(n)){for(var a,o,s=0,u=e.options.length;s<u;s++)if(o=e.options[s],i)a=q(n,xo(o))>-1,o.selected!==a&&(o.selected=a);else if(U(xo(o),n))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function No(e,t){return t.every((function(t){return!U(t,e)}))}function xo(e){return"_value"in e?e._value:e.value}function Mo(e){e.target.composing=!0}function Oo(e){e.target.composing&&(e.target.composing=!1,Po(e.target,"input"))}function Po(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}function Lo(e){return!e.componentInstance||e.data&&e.data.transition?e:Lo(e.componentInstance._vnode)}var ko={bind:function(e,t,r){var n=t.value;r=Lo(r);var i=r.data&&r.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&i?(r.data.show=!0,yo(r,(function(){e.style.display=a}))):e.style.display=n?a:"none"},update:function(e,t,r){var n=t.value,i=t.oldValue;if(!n!==!i){r=Lo(r);var a=r.data&&r.data.transition;a?(r.data.show=!0,n?yo(r,(function(){e.style.display=e.__vOriginalDisplay})):bo(r,(function(){e.style.display="none"}))):e.style.display=n?e.__vOriginalDisplay:"none"}},unbind:function(e,t,r,n,i){i||(e.style.display=e.__vOriginalDisplay)}},Fo={model:Io,show:ko},jo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Bo(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Bo(Vt(t.children)):e}function Uo(e){var t={},r=e.$options;for(var n in r.propsData)t[n]=e[n];var i=r._parentListeners;for(var n in i)t[I(n)]=i[n];return t}function qo(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Go(e){while(e=e.parent)if(e.data.transition)return!0}function Vo(e,t){return t.key===e.key&&t.tag===e.tag}var Ho=function(e){return e.tag||It(e)},Yo=function(e){return"show"===e.name},zo={name:"transition",props:jo,abstract:!0,render:function(e){var t=this,r=this.$slots.default;if(r&&(r=r.filter(Ho),r.length)){0;var n=this.mode;0;var i=r[0];if(Go(this.$vnode))return i;var a=Bo(i);if(!a)return i;if(this._leaving)return qo(e,i);var o="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?o+"comment":o+a.tag:l(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var s=(a.data||(a.data={})).transition=Uo(this),u=this._vnode,c=Bo(u);if(a.data.directives&&a.data.directives.some(Yo)&&(a.data.show=!0),c&&c.data&&!Vo(a,c)&&!It(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var f=c.data.transition=L({},s);if("out-in"===n)return this._leaving=!0,nt(f,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),qo(e,i);if("in-out"===n){if(It(a))return u;var d,h=function(){d()};nt(s,"afterEnter",h),nt(s,"enterCancelled",h),nt(f,"delayLeave",(function(e){d=e}))}}return i}}},Ko=L({tag:String,moveClass:String},jo);delete Ko.mode;var Wo={props:Ko,beforeMount:function(){var e=this,t=this._update;this._update=function(r,n){var i=Rr(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,r,n)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=Uo(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),r[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(n){var l=[],c=[];for(s=0;s<n.length;s++){u=n[s];u.data.transition=o,u.data.pos=u.elm.getBoundingClientRect(),r[u.key]?l.push(u):c.push(u)}this.kept=e(t,null,l),this.removed=c}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach($o),e.forEach(Xo),e.forEach(Qo),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var r=e.elm,n=r.style;co(r,t),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(ao,r._moveCb=function e(n){n&&n.target!==r||n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(ao,e),r._moveCb=null,fo(r,t))})}})))},methods:{hasMove:function(e,t){if(!to)return!1;if(this._hasMove)return this._hasMove;var r=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Za(r,e)})),Qa(r,t),r.style.display="none",this.$el.appendChild(r);var n=go(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}};function $o(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Xo(e){e.data.newPos=e.elm.getBoundingClientRect()}function Qo(e){var t=e.data.pos,r=e.data.newPos,n=t.left-r.left,i=t.top-r.top;if(n||i){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate(".concat(n,"px,").concat(i,"px)"),a.transitionDuration="0s"}}var Zo={Transition:zo,TransitionGroup:Wo};Zn.config.mustUseProp=gi,Zn.config.isReservedTag=Pi,Zn.config.isReservedAttr=hi,Zn.config.getTagNamespace=Li,Zn.config.isUnknownElement=Fi,L(Zn.options.directives,Fo),L(Zn.options.components,Zo),Zn.prototype.__patch__=ee?Ro:F,Zn.prototype.$mount=function(e,t){return e=e&&ee?Bi(e):void 0,Dr(this,e,t)},ee&&setTimeout((function(){K.devtools&&de&&de.emit("init",Zn)}),0)}).call(this,r("c8ba"))},"2b3d":function(e,t,r){"use strict";r("3ca3");var n,i=r("23e7"),a=r("83ab"),o=r("0d3b"),s=r("da84"),u=r("37e8"),l=r("6eeb"),c=r("19aa"),f=r("5135"),d=r("60da"),h=r("4df4"),p=r("6547").codeAt,g=r("5fb2"),m=r("d44e"),v=r("9861"),y=r("69f3"),b=s.URL,E=v.URLSearchParams,_=v.getState,T=y.set,w=y.getterFor("URL"),S=Math.floor,A=Math.pow,R="Invalid authority",I="Invalid scheme",C="Invalid host",D="Invalid port",N=/[A-Za-z]/,x=/[\d+-.A-Za-z]/,M=/\d/,O=/^(0x|0X)/,P=/^[0-7]+$/,L=/^\d+$/,k=/^[\dA-Fa-f]+$/,F=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,j=/[\u0000\t\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\t\u000A\u000D]/g,q=function(e,t){var r,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return C;if(r=V(t.slice(1,-1)),!r)return C;e.host=r}else if(Z(e)){if(t=g(t),F.test(t))return C;if(r=G(t),null===r)return C;e.host=r}else{if(j.test(t))return C;for(r="",n=h(t),i=0;i<n.length;i++)r+=X(n[i],z);e.host=r}},G=function(e){var t,r,n,i,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(r=[],n=0;n<t;n++){if(i=u[n],""==i)return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=O.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?L:8==a?P:k).test(i))return e;o=parseInt(i,a)}r.push(o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=A(256,5-t))return null}else if(o>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*A(256,3-n);return s},V=function(e){var t,r,n,i,a,o,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l++,c=l}while(d()){if(8==l)return;if(":"!=d()){t=r=0;while(r<4&&k.test(d()))t=16*t+parseInt(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,l>6)return;n=0;while(d()){if(i=null,n>0){if(!("."==d()&&n<4))return;f++}if(!M.test(d()))return;while(M.test(d())){if(a=parseInt(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}u[l]=256*u[l]+i,n++,2!=n&&4!=n||l++}if(4!=n)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[l++]=t}else{if(null!==c)return;f++,l++,c=l}}if(null!==c){o=l-c,l=7;while(0!=l&&o>0)s=u[l],u[l--]=u[c+o-1],u[c+--o]=s}else if(8!=l)return;return u},H=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t},Y=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=H(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},z={},K=d({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),W=d({},K,{"#":1,"?":1,"{":1,"}":1}),$=d({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(e,t){var r=p(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(e){return f(Q,e.scheme)},J=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var r;return 2==e.length&&N.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},ae=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},ue={},le={},ce={},fe={},de={},he={},pe={},ge={},me={},ve={},ye={},be={},Ee={},_e={},Te={},we={},Se={},Ae={},Re={},Ie=function(e,t,r,i){var a,o,s,u,l=r||oe,c=0,d="",p=!1,g=!1,m=!1;r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(B,"")),t=t.replace(U,""),a=h(t);while(c<=a.length){switch(o=a[c],l){case oe:if(!o||!N.test(o)){if(r)return I;l=ue;continue}d+=o.toLowerCase(),l=se;break;case se:if(o&&(x.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(r)return I;d="",l=ue,c=0;continue}if(r&&(Z(e)!=f(Q,d)||"file"==d&&(J(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,r)return void(Z(e)&&Q[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?l=be:Z(e)&&i&&i.scheme==e.scheme?l=le:Z(e)?l=he:"/"==a[c+1]?(l=ce,c++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Se)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=o)return I;if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=Re;break}l="file"==i.scheme?be:fe;continue;case le:if("/"!=o||"/"!=a[c+1]){l=fe;continue}l=pe,c++;break;case ce:if("/"==o){l=ge;break}l=we;continue;case fe:if(e.scheme=i.scheme,o==n)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&Z(e))l=de;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=Ae;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=we;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Re}break;case de:if(!Z(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=we;continue}l=ge}else l=pe;break;case he:if(l=pe,"/"!=o||"/"!=d.charAt(c+1))continue;c++;break;case pe:if("/"!=o&&"\\"!=o){l=ge;continue}break;case ge:if("@"==o){p&&(d="%40"+d),p=!0,s=h(d);for(var v=0;v<s.length;v++){var y=s[v];if(":"!=y||m){var b=X(y,$);m?e.password+=b:e.username+=b}else m=!0}d=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)){if(p&&""==d)return R;c-=h(d).length+1,d="",l=me}else d+=o;break;case me:case ve:if(r&&"file"==e.scheme){l=_e;continue}if(":"!=o||g){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)){if(Z(e)&&""==d)return C;if(r&&""==d&&(J(e)||null!==e.port))return;if(u=q(e,d),u)return u;if(d="",l=Te,r)return;continue}"["==o?g=!0:"]"==o&&(g=!1),d+=o}else{if(""==d)return C;if(u=q(e,d),u)return u;if(d="",l=ye,r==ve)return}break;case ye:if(!M.test(o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)||r){if(""!=d){var E=parseInt(d,10);if(E>65535)return D;e.port=Z(e)&&E===Q[e.scheme]?null:E,d=""}if(r)return;l=Te;continue}return D}d+=o;break;case be:if(e.scheme="file","/"==o||"\\"==o)l=Ee;else{if(!i||"file"!=i.scheme){l=we;continue}if(o==n)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",l=Ae;else{if("#"!=o){re(a.slice(c).join(""))||(e.host=i.host,e.path=i.path.slice(),ne(e)),l=we;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Re}}break;case Ee:if("/"==o||"\\"==o){l=_e;break}i&&"file"==i.scheme&&!re(a.slice(c).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=we;continue;case _e:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&te(d))l=we;else if(""==d){if(e.host="",r)return;l=Te}else{if(u=q(e,d),u)return u;if("localhost"==e.host&&(e.host=""),r)return;d="",l=Te}continue}d+=o;break;case Te:if(Z(e)){if(l=we,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=n&&(l=we,"/"!=o))continue}else e.fragment="",l=Re;else e.query="",l=Ae;break;case we:if(o==n||"/"==o||"\\"==o&&Z(e)||!r&&("?"==o||"#"==o)){if(ae(d)?(ne(e),"/"==o||"\\"==o&&Z(e)||e.path.push("")):ie(d)?"/"==o||"\\"==o&&Z(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==n||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",l=Ae):"#"==o&&(e.fragment="",l=Re)}else d+=X(o,W);break;case Se:"?"==o?(e.query="",l=Ae):"#"==o?(e.fragment="",l=Re):o!=n&&(e.path[0]+=X(o,z));break;case Ae:r||"#"!=o?o!=n&&("'"==o&&Z(e)?e.query+="%27":e.query+="#"==o?"%23":X(o,z)):(e.fragment="",l=Re);break;case Re:o!=n&&(e.fragment+=X(o,K));break}c++}},Ce=function(e){var t,r,n=c(this,Ce,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=T(n,{type:"URL"});if(void 0!==i)if(i instanceof Ce)t=w(i);else if(r=Ie(t={},String(i)),r)throw TypeError(r);if(r=Ie(s,o,null,t),r)throw TypeError(r);var u=s.searchParams=new E,l=_(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},a||(n.href=Ne.call(n),n.origin=xe.call(n),n.protocol=Me.call(n),n.username=Oe.call(n),n.password=Pe.call(n),n.host=Le.call(n),n.hostname=ke.call(n),n.port=Fe.call(n),n.pathname=je.call(n),n.search=Be.call(n),n.searchParams=Ue.call(n),n.hash=qe.call(n))},De=Ce.prototype,Ne=function(){var e=w(this),t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",J(e)&&(l+=r+(n?":"+n:"")+"@"),l+=Y(i),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},xe=function(){var e=w(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&Z(e)?t+"://"+Y(e.host)+(null!==r?":"+r:""):"null"},Me=function(){return w(this).scheme+":"},Oe=function(){return w(this).username},Pe=function(){return w(this).password},Le=function(){var e=w(this),t=e.host,r=e.port;return null===t?"":null===r?Y(t):Y(t)+":"+r},ke=function(){var e=w(this).host;return null===e?"":Y(e)},Fe=function(){var e=w(this).port;return null===e?"":String(e)},je=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Be=function(){var e=w(this).query;return e?"?"+e:""},Ue=function(){return w(this).searchParams},qe=function(){var e=w(this).fragment;return e?"#"+e:""},Ge=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(De,{href:Ge(Ne,(function(e){var t=w(this),r=String(e),n=Ie(t,r);if(n)throw TypeError(n);_(t.searchParams).updateSearchParams(t.query)})),origin:Ge(xe),protocol:Ge(Me,(function(e){var t=w(this);Ie(t,String(e)+":",oe)})),username:Ge(Oe,(function(e){var t=w(this),r=h(String(e));if(!ee(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=X(r[n],$)}})),password:Ge(Pe,(function(e){var t=w(this),r=h(String(e));if(!ee(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=X(r[n],$)}})),host:Ge(Le,(function(e){var t=w(this);t.cannotBeABaseURL||Ie(t,String(e),me)})),hostname:Ge(ke,(function(e){var t=w(this);t.cannotBeABaseURL||Ie(t,String(e),ve)})),port:Ge(Fe,(function(e){var t=w(this);ee(t)||(e=String(e),""==e?t.port=null:Ie(t,e,ye))})),pathname:Ge(je,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],Ie(t,e+"",Te))})),search:Ge(Be,(function(e){var t=w(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ie(t,e,Ae)),_(t.searchParams).updateSearchParams(t.query)})),searchParams:Ge(Ue),hash:Ge(qe,(function(e){var t=w(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ie(t,e,Re)):t.fragment=null}))}),l(De,"toJSON",(function(){return Ne.call(this)}),{enumerable:!0}),l(De,"toString",(function(){return Ne.call(this)}),{enumerable:!0}),b){var Ve=b.createObjectURL,He=b.revokeObjectURL;Ve&&l(Ce,"createObjectURL",(function(e){return Ve.apply(b,arguments)})),He&&l(Ce,"revokeObjectURL",(function(e){return He.apply(b,arguments)}))}m(Ce,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Ce})},"2b44":function(e,t,r){e.exports=i,e.exports.simulator=r("82d7");var n=r("00c7");function i(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var i=t&&t.createSimulator||r("82d7"),o=i(t);if(Array.isArray(t))throw new Error("Physics settings is expected to be an object");var s=x;t&&"function"===typeof t.nodeMass&&(s=t.nodeMass);var u=new Map,l={},c=0,f=o.settings.springTransform||a;T(),b();var d=!1,h={step:function(){if(0===c)return p(!0),!0;var e=o.step();h.lastMove=e,h.fire("step");var t=e/c,r=t<=.01;return p(r),r},getNodePosition:function(e){return N(e).pos},setNodePosition:function(e){var t=N(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=l[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:g,pinNode:function(e,t){var r=N(e.id);r.isPinned=!!t},isNodePinned:function(e){return N(e.id).isPinned},dispose:function(){e.off("changed",_),h.fire("disposed")},getBody:y,getSpring:v,getForceVectorLength:m,simulator:o,graph:e,lastMove:0};return n(h),h;function p(e){d!==e&&(d=e,E(e))}function g(e){u.forEach((function(t,r){e(t,r)}))}function m(){let e=0,t=0;return g(r=>{e+=Math.abs(r.force.x),t+=Math.abs(r.force.y)}),Math.sqrt(e*e+t*t)}function v(t,r){var n;if(void 0===r)n="object"!==typeof t?t:t.id;else{var i=e.hasLink(t,r);if(!i)return;n=i.id}return l[n]}function y(e){return u.get(e)}function b(){e.on("changed",_)}function E(e){h.fire("stable",e)}function _(t){for(var r=0;r<t.length;++r){var n=t[r];"add"===n.changeType?(n.node&&w(n.node.id),n.link&&A(n.link)):"remove"===n.changeType&&(n.node&&S(n.node),n.link&&R(n.link))}c=e.getNodesCount()}function T(){c=0,e.forEachNode((function(e){w(e.id),c+=1})),e.forEachLink(A)}function w(t){var r=u.get(t);if(!r){var n=e.getNode(t);if(!n)throw new Error("initBody() was called with unknown node id");var i=n.position;if(!i){var a=I(n);i=o.getBestNewBodyPosition(a)}r=o.addBodyAt(i),r.id=t,u.set(t,r),C(t),D(n)&&(r.isPinned=!0)}}function S(e){var t=e.id,r=u.get(t);r&&(u.delete(t),o.removeBody(r))}function A(e){C(e.fromId),C(e.toId);var t=u.get(e.fromId),r=u.get(e.toId),n=o.addSpring(t,r,e.length);f(e,n),l[e.id]=n}function R(t){var r=l[t.id];if(r){var n=e.getNode(t.fromId),i=e.getNode(t.toId);n&&C(n.id),i&&C(i.id),delete l[t.id],o.removeSpring(r)}}function I(e){var t=[];if(!e.links)return t;for(var r=Math.min(e.links.length,2),n=0;n<r;++n){var i=e.links[n],a=i.fromId!==e.id?u.get(i.fromId):u.get(i.toId);a&&a.pos&&t.push(a)}return t}function C(e){var t=u.get(e);if(t.mass=s(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function D(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}function N(e){var t=u.get(e);return t||(w(e),t=u.get(e)),t}function x(t){var r=e.getLinks(t);return r?1+r.length/3:1}}function a(){}},"2caf":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));r("4ae1"),r("d3b7"),r("f8c9"),r("131a"),r("3410");function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r("a4d3"),r("e01a"),r("d28b"),r("3ca3"),r("ddb0");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function u(e){var t=i();return function(){var r,i=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return s(this,r)}}},"2cf4":function(e,t,r){var n,i,a,o=r("da84"),s=r("d039"),u=r("0366"),l=r("1be4"),c=r("cc12"),f=r("1cdc"),d=r("605d"),h=o.location,p=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,y=o.Dispatch,b=0,E={},_="onreadystatechange",T=function(e){if(E.hasOwnProperty(e)){var t=E[e];delete E[e],t()}},w=function(e){return function(){T(e)}},S=function(e){T(e.data)},A=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};p&&g||(p=function(e){var t=[],r=1;while(arguments.length>r)t.push(arguments[r++]);return E[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},g=function(e){delete E[e]},d?n=function(e){m.nextTick(w(e))}:y&&y.now?n=function(e){y.now(w(e))}:v&&!f?(i=new v,a=i.port2,i.port1.onmessage=S,n=u(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&h&&"file:"!==h.protocol&&!s(A)?(n=A,o.addEventListener("message",S,!1)):n=_ in c("script")?function(e){l.appendChild(c("script"))[_]=function(){l.removeChild(this),T(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:p,clear:g}},"2d00":function(e,t,r){var n,i,a=r("da84"),o=r("342f"),s=a.process,u=s&&s.versions,l=u&&u.v8;l?(n=l.split("."),i=n[0]+n[1]):o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(i=n[1]))),e.exports=i&&+i},3280:function(e,t,r){"use strict";var n=r("ebb5"),i=r("e58c"),a=n.aTypedArray,o=n.exportTypedArrayMethod;o("lastIndexOf",(function(e){return i.apply(a(this),arguments)}))},3410:function(e,t,r){var n=r("23e7"),i=r("d039"),a=r("7b0b"),o=r("e163"),s=r("e177"),u=i((function(){o(1)}));n({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},"342f":function(e,t,r){var n=r("d066");e.exports=n("navigator","userAgent")||""},"35a1":function(e,t,r){var n=r("f5df"),i=r("3f8c"),a=r("b622"),o=a("iterator");e.exports=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},"37e8":function(e,t,r){var n=r("83ab"),i=r("9bf2"),a=r("825a"),o=r("df75");e.exports=n?Object.defineProperties:function(e,t){a(e);var r,n=o(t),s=n.length,u=0;while(s>u)i.f(e,r=n[u++],t[r]);return e}},3835:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return s}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function i(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done);o=!0)if(a.push(n.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==r["return"]||r["return"]()}finally{if(s)throw i}}return a}}var a=r("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return n(e)||i(e,t)||Object(a["a"])(e,t)||o()}},"3a7b":function(e,t,r){"use strict";var n=r("ebb5"),i=r("b727").findIndex,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"3bbe":function(e,t,r){var n=r("861d");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3c5d":function(e,t,r){"use strict";var n=r("ebb5"),i=r("50c4"),a=r("182d"),o=r("7b0b"),s=r("d039"),u=n.aTypedArray,l=n.exportTypedArrayMethod,c=s((function(){new Int8Array(1).set({})}));l("set",(function(e){u(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=o(e),s=i(n.length),l=0;if(s+t>r)throw RangeError("Wrong length");while(l<s)this[t+l]=n[l++]}),c)},"3ca3":function(e,t,r){"use strict";var n=r("6547").charAt,i=r("69f3"),a=r("7dd0"),o="String Iterator",s=i.set,u=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},"3f6a":function(e,t,r){const n=r("28d9");function i(e){let t=a(e);return new Function("bodies","timeStep","adaptiveTimeStepWeight",t)}function a(e){let t=n(e),r=`\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ${t("var d{var} = 0, t{var} = 0;",{indent:2})}\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ${t("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}\n    ${t("var v{var} = body.velocity.{var};",{indent:4})}\n    var v = Math.sqrt(${t("v{var} * v{var}",{join:" + "})});\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ${t("body.velocity.{var} = v{var} / v;",{indent:6})}\n    }\n\n    ${t("d{var} = timeStep * body.velocity.{var};",{indent:4})}\n\n    ${t("body.pos.{var} += d{var};",{indent:4})}\n\n    ${t("t{var} += Math.abs(d{var});",{indent:4})}\n  }\n\n  return (${t("t{var} * t{var}",{join:" + "})})/length;\n`;return r}e.exports=i,e.exports.generateIntegratorFunctionBody=a},"3f8c":function(e,t){e.exports={}},"3fcc":function(e,t,r){"use strict";var n=r("ebb5"),i=r("b727").map,a=r("4840"),o=n.aTypedArray,s=n.aTypedArrayConstructor,u=n.exportTypedArrayMethod;u("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(a(e,e.constructor)))(t)}))}))},4057:function(e,t,r){var n=r("23e7"),i=Math.hypot,a=Math.abs,o=Math.sqrt,s=!!i&&i(1/0,NaN)!==1/0;n({target:"Math",stat:!0,forced:s},{hypot:function(e,t){var r,n,i=0,s=0,u=arguments.length,l=0;while(s<u)r=a(arguments[s++]),l<r?(n=l/r,i=i*n*n+1,l=r):r>0?(n=r/l,i+=n*n):i+=r;return l===1/0?1/0:l*o(i)}})},4069:function(e,t,r){var n=r("44d2");n("flat")},"428f":function(e,t,r){var n=r("da84");e.exports=n},"44ad":function(e,t,r){var n=r("d039"),i=r("c6b6"),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},"44d2":function(e,t,r){var n=r("b622"),i=r("7c73"),a=r("9bf2"),o=n("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},"44de":function(e,t,r){var n=r("da84");e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},"462d":function(e,t){function r(e){return e?Object.keys(e).map(t).join("&"):"";function t(t){var r=e[t],n=a(t);return void 0!==r&&(n+="="+i(r)),n}}function n(e){var t=Object.create(null);return e?(e.split("&").forEach(r),t):t;function r(e){if(e){var r=e.split("=");t[decodeURIComponent(r[0])]=s(r[1])}}}function i(e){e instanceof Date&&(e=e.toISOString());var t=a(e);return t}function a(e){var t=encodeURIComponent(e);return t.replace(/[()]/g,o)}function o(e){return")"===e?"%29":"("===e?"%28":e}function s(e){return e=decodeURIComponent(e),""===e?e:isNaN(e)?u(e)?"true"===e:l(e)?new Date(e):e:parseFloat(e)}function u(e){return"true"===e||"false"===e}function l(e){return e&&e.match(/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/)}e.exports={parse:n,stringify:r}},"466d":function(e,t,r){"use strict";var n=r("d784"),i=r("825a"),a=r("50c4"),o=r("1d80"),s=r("8aa5"),u=r("14c3");n("match",1,(function(e,t,r){return[function(t){var r=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=i(e),l=String(this);if(!o.global)return u(o,l);var c=o.unicode;o.lastIndex=0;var f,d=[],h=0;while(null!==(f=u(o,l))){var p=String(f[0]);d[h]=p,""===p&&(o.lastIndex=s(l,a(o.lastIndex),c)),h++}return 0===h?null:d}]}))},"471e":function(e,t,r){"use strict";var n=r("cda1");function i(e,t,r,i,s,u){var l,c,f,d,h=e.data,p=[],g=e.toBBox,m=new n(void 0,a);while(h){for(l=0;l<h.children.length;l++)c=h.children[l],f=o(t,r,h.leaf?g(c):c),(!u||f<=u*u)&&m.push({node:c,isItem:h.leaf,dist:f});while(m.length&&m.peek().isItem)if(d=m.pop().node,s&&!s(d)||p.push(d),i&&p.length===i)return p;h=m.pop(),h&&(h=h.node)}return p}function a(e,t){return e.dist-t.dist}function o(e,t,r){var n=s(e,r.minX,r.maxX),i=s(t,r.minY,r.maxY);return n*n+i*i}function s(e,t,r){return e<t?t-e:e<=r?0:e-r}e.exports=i,e.exports.default=i},4840:function(e,t,r){var n=r("825a"),i=r("1c0b"),a=r("b622"),o=a("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},4930:function(e,t,r){var n=r("605d"),i=r("2d00"),a=r("d039");e.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!Symbol.sham&&(n?38===i:i>37&&i<41)}))},"498a":function(e,t,r){"use strict";var n=r("23e7"),i=r("58a8").trim,a=r("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},"4ae1":function(e,t,r){var n=r("23e7"),i=r("d066"),a=r("1c0b"),o=r("825a"),s=r("861d"),u=r("7c73"),l=r("0538"),c=r("d039"),f=i("Reflect","construct"),d=c((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),h=!c((function(){f((function(){}))})),p=d||h;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){a(e),o(t);var r=arguments.length<3?e:a(arguments[2]);if(h&&!d)return f(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(l.apply(e,n))}var i=r.prototype,c=u(s(i)?i:Object.prototype),p=Function.apply.call(e,c,t);return s(p)?p:c}})},"4d64":function(e,t,r){var n=r("fc6a"),i=r("50c4"),a=r("23cb"),o=function(e){return function(t,r,o){var s,u=n(t),l=i(u.length),c=a(o,l);if(e&&r!=r){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"4de4":function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").filter,a=r("1dde"),o=a("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,r){"use strict";var n=r("0366"),i=r("7b0b"),a=r("9bdd"),o=r("e95a"),s=r("50c4"),u=r("8418"),l=r("35a1");e.exports=function(e){var t,r,c,f,d,h,p=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,y=void 0!==v,b=l(p),E=0;if(y&&(v=n(v,m>2?arguments[2]:void 0,2)),void 0==b||g==Array&&o(b))for(t=s(p.length),r=new g(t);t>E;E++)h=y?v(p[E],E):p[E],u(r,E,h);else for(f=b.call(p),d=f.next,r=new g;!(c=d.call(f)).done;E++)h=y?a(f,v,[c.value,E],!0):c.value,u(r,E,h);return r.length=E,r}},"4e79":function(e,t,r){const n=r("cfbe"),i={M(e,t){if(0!==e.length)throw new Error('Only one "Move" command per path is expected');for(let r=0;r<t.length;r+=2)e.push([t[r],t[r+1]])},m(e,t){let r=0,n=0;if(e.length>0){let t=e[e.length-1];r=t[0],n=t[1]}for(let i=0;i<t.length;i+=2){let a=r+t[i],o=n+t[i+1];e.push([a,o]),r=a,n=o}},L(e,t){for(let r=0;r<t.length;r+=2)e.push([t[r],t[r+1]])},l(e,t){let r=0,n=0;if(e.length>0){let t=e[e.length-1];r=t[0],n=t[1]}for(let i=0;i<t.length;i+=2){let a=r+t[i],o=n+t[i+1];e.push([a,o]),r=a,n=o}},H(e,t){let r=0;e.length>0&&(r=e[e.length-1][1]);for(let n=0;n<t.length;n+=1){let i=t[n];e.push([i,r])}},h(e,t){let r=0,n=0;e.length>0&&(n=e[e.length-1][0],r=e[e.length-1][1]);for(let i=0;i<t.length;i+=1){let a=n+t[i];e.push([a,r]),n=a}},V(e,t){let r=0;e.length>0&&(r=e[e.length-1][0]);for(let n=0;n<t.length;n+=1)e.push([r,t[n]])},v(e,t){let r=0,n=0;e.length>0&&(n=e[e.length-1][0],r=e[e.length-1][1]);for(let i=0;i<t.length;i+=1){let a=r+t[i];e.push([n,a]),r=a}}};function a(e){let t,r,a,o=new n,s=0,u=e.length,l=[];while(s<u)t=e[s],t in i?(o.hasValue&&r.push(o.getValue()),o.reset(),r&&a(l,r),a=i[t],r=[]):" "===t||","===t?o.hasValue&&(r.push(o.getValue()),o.reset()):"Z"===t||"z"===t||(o.hasValue&&"-"===t?(r.push(o.getValue()),o.reset(),o.addCharacter(t)):o.addCharacter(t)),s+=1;return o.hasValue&&r.push(o.getValue()),r&&a(l,r),l}e.exports=a},"4e82":function(e,t,r){"use strict";var n=r("23e7"),i=r("1c0b"),a=r("7b0b"),o=r("d039"),s=r("a640"),u=[],l=u.sort,c=o((function(){u.sort(void 0)})),f=o((function(){u.sort(null)})),d=s("sort"),h=c||!f||!d;n({target:"Array",proto:!0,forced:h},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),i(e))}})},"4ec9":function(e,t,r){"use strict";var n=r("6d61"),i=r("6566");e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"50c4":function(e,t,r){var n=r("a691"),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},5135:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},5319:function(e,t,r){"use strict";var n=r("d784"),i=r("825a"),a=r("50c4"),o=r("a691"),s=r("1d80"),u=r("8aa5"),l=r("0cb2"),c=r("14c3"),f=Math.max,d=Math.min,h=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var p=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=n.REPLACE_KEEPS_$0,m=p?"$":"$0";return[function(r,n){var i=s(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!p&&g||"string"===typeof n&&-1===n.indexOf(m)){var s=r(t,e,this,n);if(s.done)return s.value}var v=i(e),y=String(this),b="function"===typeof n;b||(n=String(n));var E=v.global;if(E){var _=v.unicode;v.lastIndex=0}var T=[];while(1){var w=c(v,y);if(null===w)break;if(T.push(w),!E)break;var S=String(w[0]);""===S&&(v.lastIndex=u(y,a(v.lastIndex),_))}for(var A="",R=0,I=0;I<T.length;I++){w=T[I];for(var C=String(w[0]),D=f(d(o(w.index),y.length),0),N=[],x=1;x<w.length;x++)N.push(h(w[x]));var M=w.groups;if(b){var O=[C].concat(N,D,y);void 0!==M&&O.push(M);var P=String(n.apply(void 0,O))}else P=l(C,y,D,N,M,n);D>=R&&(A+=y.slice(R,D)+P,R=D+C.length)}return A+y.slice(R)}]}))},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},5664:function(e,t,r){"use strict";function n(e,t,r){r=r||2;var n,a,s,u,l,c,d,h=t&&t.length,p=h?t[0]*r:e.length,g=i(e,0,p,r,!0),m=[];if(!g||g.next===g.prev)return m;if(h&&(g=f(e,t,g,r)),e.length>80*r){n=s=e[0],a=u=e[1];for(var v=r;v<p;v+=r)l=e[v],c=e[v+1],l<n&&(n=l),c<a&&(a=c),l>s&&(s=l),c>u&&(u=c);d=Math.max(s-n,u-a),d=0!==d?1/d:0}return o(g,m,r,n,a,d),m}function i(e,t,r,n,i){var a,o;if(i===P(e,t,r,n)>0)for(a=t;a<r;a+=n)o=x(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=x(a,e[a],e[a+1],o);return o&&w(o,o.next)&&(M(o),o=o.next),o}function a(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!w(n,n.next)&&0!==T(n.prev,n,n.next))n=n.next;else{if(M(n),n=t=n.prev,n===n.next)break;r=!0}}while(r||n!==t);return t}function o(e,t,r,n,i,f,d){if(e){!d&&f&&m(e,n,i,f);var h,p,g=e;while(e.prev!==e.next)if(h=e.prev,p=e.next,f?u(e,n,i,f):s(e))t.push(h.i/r),t.push(e.i/r),t.push(p.i/r),M(e),e=p.next,g=p.next;else if(e=p,e===g){d?1===d?(e=l(a(e),t,r),o(e,t,r,n,i,f,2)):2===d&&c(e,t,r,n,i,f):o(a(e),t,r,n,i,f,1);break}}}function s(e){var t=e.prev,r=e,n=e.next;if(T(t,r,n)>=0)return!1;var i=e.next.next;while(i!==e.prev){if(E(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&T(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,r,n){var i=e.prev,a=e,o=e.next;if(T(i,a,o)>=0)return!1;var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=y(s,u,t,r,n),d=y(l,c,t,r,n),h=e.prevZ,p=e.nextZ;while(h&&h.z>=f&&p&&p.z<=d){if(h!==e.prev&&h!==e.next&&E(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&T(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==e.prev&&p!==e.next&&E(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&T(p.prev,p,p.next)>=0)return!1;p=p.nextZ}while(h&&h.z>=f){if(h!==e.prev&&h!==e.next&&E(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&T(h.prev,h,h.next)>=0)return!1;h=h.prevZ}while(p&&p.z<=d){if(p!==e.prev&&p!==e.next&&E(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&T(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function l(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!w(i,o)&&S(i,n,n.next,o)&&C(i,o)&&C(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),M(n),M(n.next),n=e=o),n=n.next}while(n!==e);return a(n)}function c(e,t,r,n,i,s){var u=e;do{var l=u.next.next;while(l!==u.prev){if(u.i!==l.i&&_(u,l)){var c=N(u,l);return u=a(u,u.next),c=a(c,c.next),o(u,t,r,n,i,s),void o(c,t,r,n,i,s)}l=l.next}u=u.next}while(u!==e)}function f(e,t,r,n){var o,s,u,l,c,f=[];for(o=0,s=t.length;o<s;o++)u=t[o]*n,l=o<s-1?t[o+1]*n:e.length,c=i(e,u,l,n,!1),c===c.next&&(c.steiner=!0),f.push(b(c));for(f.sort(d),o=0;o<f.length;o++)h(f[o],r),r=a(r,r.next);return r}function d(e,t){return e.x-t.x}function h(e,t){if(t=p(e,t),t){var r=N(t,e);a(t,t.next),a(r,r.next)}}function p(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===o)return r;var u,l=r,c=r.x,f=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&E(a<f?i:o,a,c,f,a<f?o:i,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(i-n.x),C(n,e)&&(u<d||u===d&&(n.x>r.x||n.x===r.x&&g(r,n)))&&(r=n,d=u)),n=n.next}while(n!==l);return r}function g(e,t){return T(e.prev,e,t.prev)<0&&T(t.next,e,e.next)<0}function m(e,t,r,n){var i=e;do{null===i.z&&(i.z=y(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,v(i)}function v(e){var t,r,n,i,a,o,s,u,l=1;do{r=e,e=null,a=null,o=0;while(r){for(o++,n=r,s=0,t=0;t<l;t++)if(s++,n=n.nextZ,!n)break;u=l;while(s>0||u>0&&n)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1);return e}function y(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function b(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function E(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function _(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!I(e,t)&&(C(e,t)&&C(t,e)&&D(e,t)&&(T(e.prev,e,t.prev)||T(e,t.prev,t))||w(e,t)&&T(e.prev,e,e.next)>0&&T(t.prev,t,t.next)>0)}function T(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function w(e,t){return e.x===t.x&&e.y===t.y}function S(e,t,r,n){var i=R(T(e,t,r)),a=R(T(e,t,n)),o=R(T(r,n,e)),s=R(T(r,n,t));return i!==a&&o!==s||(!(0!==i||!A(e,r,t))||(!(0!==a||!A(e,n,t))||(!(0!==o||!A(r,e,n))||!(0!==s||!A(r,t,n)))))}function A(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function R(e){return e>0?1:e<0?-1:0}function I(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&S(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function C(e,t){return T(e.prev,e,e.next)<0?T(e,t,e.next)>=0&&T(e,e.prev,t)>=0:T(e,t,e.prev)<0||T(e,e.next,t)<0}function D(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!==r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}function N(e,t){var r=new O(e.i,e.x,e.y),n=new O(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function x(e,t,r,n){var i=new O(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function M(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function O(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}e.exports=n,e.exports.default=n,n.deviation=function(e,t,r,n){var i=t&&t.length,a=i?t[0]*r:e.length,o=Math.abs(P(e,0,a,r));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*r,c=s<u-1?t[s+1]*r:e.length;o-=Math.abs(P(e,l,c,r))}var f=0;for(s=0;s<n.length;s+=3){var d=n[s]*r,h=n[s+1]*r,p=n[s+2]*r;f+=Math.abs((e[d]-e[p])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[p+1]-e[d+1]))}return 0===o&&0===f?0:Math.abs((f-o)/o)},n.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)r.vertices.push(e[i][a][o]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r}},5692:function(e,t,r){var n=r("c430"),i=r("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,r){var n=r("d066"),i=r("241c"),a=r("7418"),o=r("825a");e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),i=r("5899"),a="["+i+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),u=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5cc6":function(e,t,r){var n=r("74e8");n("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"5f6b":function(e,t){function r(e,t){var n;if(e||(e={}),t)for(n in t)if(t.hasOwnProperty(n)){var i=e.hasOwnProperty(n),a=typeof t[n],o=!i||typeof e[n]!==a;o?e[n]=t[n]:"object"===a&&(e[n]=r(e[n],t[n]))}return e}e.exports=r},"5f96":function(e,t,r){"use strict";var n=r("ebb5"),i=n.aTypedArray,a=n.exportTypedArrayMethod,o=[].join;a("join",(function(e){return o.apply(i(this),arguments)}))},"5fb2":function(e,t,r){"use strict";var n=2147483647,i=36,a=1,o=26,s=38,u=700,l=72,c=128,f="-",d=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=i-a,m=Math.floor,v=String.fromCharCode,y=function(e){var t=[],r=0,n=e.length;while(r<n){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),r--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},E=function(e,t,r){var n=0;for(e=r?m(e/u):e>>1,e+=m(e/t);e>g*o>>1;n+=i)e=m(e/g);return m(n+(g+1)*e/(e+s))},_=function(e){var t=[];e=y(e);var r,s,u=e.length,d=c,h=0,g=l;for(r=0;r<e.length;r++)s=e[r],s<128&&t.push(v(s));var _=t.length,T=_;_&&t.push(f);while(T<u){var w=n;for(r=0;r<e.length;r++)s=e[r],s>=d&&s<w&&(w=s);var S=T+1;if(w-d>m((n-h)/S))throw RangeError(p);for(h+=(w-d)*S,d=w,r=0;r<e.length;r++){if(s=e[r],s<d&&++h>n)throw RangeError(p);if(s==d){for(var A=h,R=i;;R+=i){var I=R<=g?a:R>=g+o?o:R-g;if(A<I)break;var C=A-I,D=i-I;t.push(v(b(I+C%D))),A=m(C/D)}t.push(v(b(A))),g=E(h,S,T==_),h=0,++T}}++h,++d}return t.join("")};e.exports=function(e){var t,r,n=[],i=e.toLowerCase().replace(h,".").split(".");for(t=0;t<i.length;t++)r=i[t],n.push(d.test(r)?"xn--"+_(r):r);return n.join(".")}},"605d":function(e,t,r){var n=r("c6b6"),i=r("da84");e.exports="process"==n(i.process)},6062:function(e,t,r){"use strict";var n=r("6d61"),i=r("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"60bd":function(e,t,r){"use strict";var n=r("da84"),i=r("ebb5"),a=r("e260"),o=r("b622"),s=o("iterator"),u=n.Uint8Array,l=a.values,c=a.keys,f=a.entries,d=i.aTypedArray,h=i.exportTypedArrayMethod,p=u&&u.prototype[s],g=!!p&&("values"==p.name||void 0==p.name),m=function(){return l.call(d(this))};h("entries",(function(){return f.call(d(this))})),h("keys",(function(){return c.call(d(this))})),h("values",m,!g),h(s,m,!g)},"60da":function(e,t,r){"use strict";var n=r("83ab"),i=r("d039"),a=r("df75"),o=r("7418"),s=r("d1e7"),u=r("7b0b"),l=r("44ad"),c=Object.assign,f=Object.defineProperty;e.exports=!c||i((function(){if(n&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||a(c({},t)).join("")!=i}))?function(e,t){var r=u(e),i=arguments.length,c=1,f=o.f,d=s.f;while(i>c){var h,p=l(arguments[c++]),g=f?a(p).concat(f(p)):a(p),m=g.length,v=0;while(m>v)h=g[v++],n&&!d.call(p,h)||(r[h]=p[h])}return r}:c},"621a":function(e,t,r){"use strict";var n=r("da84"),i=r("83ab"),a=r("a981"),o=r("9112"),s=r("e2cc"),u=r("d039"),l=r("19aa"),c=r("a691"),f=r("50c4"),d=r("0b25"),h=r("77a7"),p=r("e163"),g=r("d2bb"),m=r("241c").f,v=r("9bf2").f,y=r("81d5"),b=r("d44e"),E=r("69f3"),_=E.get,T=E.set,w="ArrayBuffer",S="DataView",A="prototype",R="Wrong length",I="Wrong index",C=n[w],D=C,N=n[S],x=N&&N[A],M=Object.prototype,O=n.RangeError,P=h.pack,L=h.unpack,k=function(e){return[255&e]},F=function(e){return[255&e,e>>8&255]},j=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},U=function(e){return P(e,23,4)},q=function(e){return P(e,52,8)},G=function(e,t){v(e[A],t,{get:function(){return _(this)[t]}})},V=function(e,t,r,n){var i=d(r),a=_(e);if(i+t>a.byteLength)throw O(I);var o=_(a.buffer).bytes,s=i+a.byteOffset,u=o.slice(s,s+t);return n?u:u.reverse()},H=function(e,t,r,n,i,a){var o=d(r),s=_(e);if(o+t>s.byteLength)throw O(I);for(var u=_(s.buffer).bytes,l=o+s.byteOffset,c=n(+i),f=0;f<t;f++)u[l+f]=c[a?f:t-f-1]};if(a){if(!u((function(){C(1)}))||!u((function(){new C(-1)}))||u((function(){return new C,new C(1.5),new C(NaN),C.name!=w}))){D=function(e){return l(this,D),new C(d(e))};for(var Y,z=D[A]=C[A],K=m(C),W=0;K.length>W;)(Y=K[W++])in D||o(D,Y,C[Y]);z.constructor=D}g&&p(x)!==M&&g(x,M);var $=new N(new D(2)),X=x.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(x,{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},{unsafe:!0})}else D=function(e){l(this,D,w);var t=d(e);T(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},N=function(e,t,r){l(this,N,S),l(e,D,S);var n=_(e).byteLength,a=c(t);if(a<0||a>n)throw O("Wrong offset");if(r=void 0===r?n-a:f(r),a+r>n)throw O(R);T(this,{buffer:e,byteLength:r,byteOffset:a}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=a)},i&&(G(D,"byteLength"),G(N,"buffer"),G(N,"byteLength"),G(N,"byteOffset")),s(N[A],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return B(V(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return B(V(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(V(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(V(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){H(this,1,e,k,t)},setUint8:function(e,t){H(this,1,e,k,t)},setInt16:function(e,t){H(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){H(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){H(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){H(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){H(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){H(this,8,e,q,t,arguments.length>2?arguments[2]:void 0)}});b(D,w),b(N,S),e.exports={ArrayBuffer:D,DataView:N}},"649e":function(e,t,r){"use strict";var n=r("ebb5"),i=r("b727").some,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6547:function(e,t,r){var n=r("a691"),i=r("1d80"),a=function(e){return function(t,r){var a,o,s=String(i(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},6566:function(e,t,r){"use strict";var n=r("9bf2").f,i=r("7c73"),a=r("e2cc"),o=r("0366"),s=r("19aa"),u=r("2266"),l=r("7dd0"),c=r("2626"),f=r("83ab"),d=r("f183").fastKey,h=r("69f3"),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,r,l){var c=e((function(e,n){s(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=n&&u(n,e[l],{that:e,AS_ENTRIES:r})})),h=g(t),m=function(e,t,r){var n,i,a=h(e),o=v(e,t);return o?o.value=r:(a.last=o={index:i=d(t,!0),key:t,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=o),n&&(n.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},v=function(e,t){var r,n=h(e),i=d(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return a(c.prototype,{clear:function(){var e=this,t=h(e),r=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,r=h(t),n=v(t,e);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),f?r.size--:t.size--}return!!n},forEach:function(e){var t,r=h(this),n=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:r.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),a(c.prototype,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&n(c.prototype,"size",{get:function(){return h(this).size}}),c},setStrong:function(e,t,r){var n=t+" Iterator",i=g(t),a=g(n);l(e,t,(function(e,t){p(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),c(t)}}},"65f0":function(e,t,r){var n=r("861d"),i=r("e8b5"),a=r("b622"),o=a("species");e.exports=function(e,t){var r;return i(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"69f3":function(e,t,r){var n,i,a,o=r("7f9a"),s=r("da84"),u=r("861d"),l=r("9112"),c=r("5135"),f=r("c6cd"),d=r("f772"),h=r("d012"),p=s.WeakMap,g=function(e){return a(e)?i(e):n(e,{})},m=function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(o){var v=f.state||(f.state=new p),y=v.get,b=v.has,E=v.set;n=function(e,t){return t.facade=e,E.call(v,e,t),t},i=function(e){return y.call(v,e)||{}},a=function(e){return b.call(v,e)}}else{var _=d("state");h[_]=!0,n=function(e,t){return t.facade=e,l(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},a=function(e){return c(e,_)}}e.exports={set:n,get:i,has:a,enforce:g,getterFor:m}},"6d61":function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("94ca"),o=r("6eeb"),s=r("f183"),u=r("2266"),l=r("19aa"),c=r("861d"),f=r("d039"),d=r("1c7e"),h=r("d44e"),p=r("7156");e.exports=function(e,t,r){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=g?"set":"add",y=i[e],b=y&&y.prototype,E=y,_={},T=function(e){var t=b[e];o(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})},w=a(e,"function"!=typeof y||!(m||b.forEach&&!f((function(){(new y).entries().next()}))));if(w)E=r.getConstructor(t,e,g,v),s.REQUIRED=!0;else if(a(e,!0)){var S=new E,A=S[v](m?{}:-0,1)!=S,R=f((function(){S.has(1)})),I=d((function(e){new y(e)})),C=!m&&f((function(){var e=new y,t=5;while(t--)e[v](t,t);return!e.has(-0)}));I||(E=t((function(t,r){l(t,E,e);var n=p(new y,t,E);return void 0!=r&&u(r,n[v],{that:n,AS_ENTRIES:g}),n})),E.prototype=b,b.constructor=E),(R||C)&&(T("delete"),T("has"),g&&T("get")),(C||A)&&T(v),m&&b.clear&&delete b.clear}return _[e]=E,n({global:!0,forced:E!=y},_),h(E,e),m||r.setStrong(E,e,g),E}},"6eeb":function(e,t,r){var n=r("da84"),i=r("9112"),a=r("5135"),o=r("ce4e"),s=r("8925"),u=r("69f3"),l=u.get,c=u.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var u,l=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||i(r,"name",t),u=c(r),u.source||(u.source=f.join("string"==typeof t?t:""))),e!==n?(l?!h&&e[t]&&(d=!0):delete e[t],d?e[t]=r:i(e,t,r)):d?e[t]=r:o(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},7156:function(e,t,r){var n=r("861d"),i=r("d2bb");e.exports=function(e,t,r){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&i(e,o),e}},"72f7":function(e,t,r){"use strict";var n=r("ebb5").exportTypedArrayMethod,i=r("d039"),a=r("da84"),o=a.Uint8Array,s=o&&o.prototype||{},u=[].toString,l=[].join;i((function(){u.call({})}))&&(u=function(){return l.call(this)});var c=s.toString!=u;n("toString",u,c)},"735e":function(e,t,r){"use strict";var n=r("ebb5"),i=r("81d5"),a=n.aTypedArray,o=n.exportTypedArrayMethod;o("fill",(function(e){return i.apply(a(this),arguments)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,r){var n=r("428f"),i=r("5135"),a=r("e538"),o=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},"74e8":function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("83ab"),o=r("8aa7"),s=r("ebb5"),u=r("621a"),l=r("19aa"),c=r("5c6c"),f=r("9112"),d=r("50c4"),h=r("0b25"),p=r("182d"),g=r("c04e"),m=r("5135"),v=r("f5df"),y=r("861d"),b=r("7c73"),E=r("d2bb"),_=r("241c").f,T=r("a078"),w=r("b727").forEach,S=r("2626"),A=r("9bf2"),R=r("06cf"),I=r("69f3"),C=r("7156"),D=I.get,N=I.set,x=A.f,M=R.f,O=Math.round,P=i.RangeError,L=u.ArrayBuffer,k=u.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,B=s.TypedArray,U=s.TypedArrayPrototype,q=s.aTypedArrayConstructor,G=s.isTypedArray,V="BYTES_PER_ELEMENT",H="Wrong length",Y=function(e,t){var r=0,n=t.length,i=new(q(e))(n);while(n>r)i[r]=t[r++];return i},z=function(e,t){x(e,t,{get:function(){return D(this)[t]}})},K=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},W=function(e,t){return G(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},$=function(e,t){return W(e,t=g(t,!0))?c(2,e[t]):M(e,t)},X=function(e,t,r){return!(W(e,t=g(t,!0))&&y(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?x(e,t,r):(e[t]=r.value,e)};a?(F||(R.f=$,A.f=X,z(U,"buffer"),z(U,"byteOffset"),z(U,"byteLength"),z(U,"length")),n({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:$,defineProperty:X}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",u="get"+e,c="set"+e,g=i[s],m=g,v=m&&m.prototype,A={},R=function(e,t){var r=D(e);return r.view[u](t*a+r.byteOffset,!0)},I=function(e,t,n){var i=D(e);r&&(n=(n=O(n))<0?0:n>255?255:255&n),i.view[c](t*a+i.byteOffset,n,!0)},M=function(e,t){x(e,t,{get:function(){return R(this,t)},set:function(e){return I(this,t,e)},enumerable:!0})};F?o&&(m=t((function(e,t,r,n){return l(e,m,s),C(function(){return y(t)?K(t)?void 0!==n?new g(t,p(r,a),n):void 0!==r?new g(t,p(r,a)):new g(t):G(t)?Y(m,t):T.call(m,t):new g(h(t))}(),e,m)})),E&&E(m,B),w(_(g),(function(e){e in m||f(m,e,g[e])})),m.prototype=v):(m=t((function(e,t,r,n){l(e,m,s);var i,o,u,c=0,f=0;if(y(t)){if(!K(t))return G(t)?Y(m,t):T.call(m,t);i=t,f=p(r,a);var g=t.byteLength;if(void 0===n){if(g%a)throw P(H);if(o=g-f,o<0)throw P(H)}else if(o=d(n)*a,o+f>g)throw P(H);u=o/a}else u=h(t),o=u*a,i=new L(o);N(e,{buffer:i,byteOffset:f,byteLength:o,length:u,view:new k(i)});while(c<u)M(e,c++)})),E&&E(m,B),v=m.prototype=b(U)),v.constructor!==m&&f(v,"constructor",m),j&&f(v,j,s),A[s]=m,n({global:!0,forced:m!=g,sham:!F},A),V in m||f(m,V,a),V in v||f(v,V,a),S(s)}):e.exports=function(){}},"77a7":function(e,t){var r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2,s=function(e,t,s){var u,l,c,f=new Array(s),d=8*s-t-1,h=(1<<d)-1,p=h>>1,g=23===t?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,v=0;for(e=r(e),e!=e||e===1/0?(l=e!=e?1:0,u=h):(u=i(a(e)/o),e*(c=n(2,-u))<1&&(u--,c*=2),e+=u+p>=1?g/c:g*n(2,1-p),e*c>=2&&(u++,c/=2),u+p>=h?(l=0,u=h):u+p>=1?(l=(e*c-1)*n(2,t),u+=p):(l=e*n(2,p-1)*n(2,t),u=0));t>=8;f[v++]=255&l,l/=256,t-=8);for(u=u<<t|l,d+=t;d>0;f[v++]=255&u,u/=256,d-=8);return f[--v]|=128*m,f},u=function(e,t){var r,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,u=a-7,l=i-1,c=e[l--],f=127&c;for(c>>=7;u>0;f=256*f+e[l],l--,u-=8);for(r=f&(1<<-u)-1,f>>=-u,u+=t;u>0;r=256*r+e[l],l--,u-=8);if(0===f)f=1-s;else{if(f===o)return r?NaN:c?-1/0:1/0;r+=n(2,t),f-=s}return(c?-1:1)*r*n(2,f-t)};e.exports={pack:s,unpack:u}},"77d9":function(e,t,r){"use strict";var n=r("ebb5"),i=r("a258").findLastIndex,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"780c":function(e,t,r){const n=r("28d9");function i(e){let t=a(e);return new Function("options",t)}function a(e){let t=n(e),r=`\n  if (!Number.isFinite(options.dragCoeff)) throw new Error('dragCoeff is not a finite number');\n\n  return {\n    update: function(body) {\n      ${t("body.force.{var} -= options.dragCoeff * body.velocity.{var};",{indent:6})}\n    }\n  };\n`;return r}e.exports=i,e.exports.generateCreateDragForceFunctionBody=a},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,r){var n=r("1d80");e.exports=function(e){return Object(n(e))}},"7c73":function(e,t,r){var n,i=r("825a"),a=r("37e8"),o=r("7839"),s=r("d012"),u=r("1be4"),l=r("cc12"),c=r("f772"),f=">",d="<",h="prototype",p="script",g=c("IE_PROTO"),m=function(){},v=function(e){return d+p+f+e+d+"/"+p+f},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=l("iframe"),r="java"+p+":";return t.style.display="none",u.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},E=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}E=n?y(n):b();var e=o.length;while(e--)delete E[h][o[e]];return E()};s[g]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(m[h]=i(e),r=new m,m[h]=null,r[g]=e):r=E(),void 0===t?r:a(r,t)}},"7db0":function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").find,a=r("44d2"),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},"7dd0":function(e,t,r){"use strict";var n=r("23e7"),i=r("9ed3"),a=r("e163"),o=r("d2bb"),s=r("d44e"),u=r("9112"),l=r("6eeb"),c=r("b622"),f=r("c430"),d=r("3f8c"),h=r("ae93"),p=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v="keys",y="values",b="entries",E=function(){return this};e.exports=function(e,t,r,c,h,_,T){i(r,t,c);var w,S,A,R=function(e){if(e===h&&x)return x;if(!g&&e in D)return D[e];switch(e){case v:return function(){return new r(this,e)};case y:return function(){return new r(this,e)};case b:return function(){return new r(this,e)}}return function(){return new r(this)}},I=t+" Iterator",C=!1,D=e.prototype,N=D[m]||D["@@iterator"]||h&&D[h],x=!g&&N||R(h),M="Array"==t&&D.entries||N;if(M&&(w=a(M.call(new e)),p!==Object.prototype&&w.next&&(f||a(w)===p||(o?o(w,p):"function"!=typeof w[m]&&u(w,m,E)),s(w,I,!0,!0),f&&(d[I]=E))),h==y&&N&&N.name!==y&&(C=!0,x=function(){return N.call(this)}),f&&!T||D[m]===x||u(D,m,x),d[t]=x,h)if(S={values:R(y),keys:_?x:R(v),entries:R(b)},T)for(A in S)(g||C||!(A in D))&&l(D,A,S[A]);else n({target:t,proto:!0,forced:g||C},S);return S}},"7e12":function(e,t,r){var n=r("da84"),i=r("58a8").trim,a=r("5899"),o=n.parseFloat,s=1/o(a+"-0")!==-1/0;e.exports=s?function(e){var t=i(String(e)),r=o(t);return 0===r&&"-"==t.charAt(0)?-0:r}:o},"7f9a":function(e,t,r){var n=r("da84"),i=r("8925"),a=n.WeakMap;e.exports="function"===typeof a&&/native code/.test(i(a))},"81d5":function(e,t,r){"use strict";var n=r("7b0b"),i=r("23cb"),a=r("50c4");e.exports=function(e){var t=n(this),r=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,l=void 0===u?r:i(u,r);while(l>s)t[s++]=e;return t}},"825a":function(e,t,r){var n=r("861d");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},"82d7":function(e,t,r){e.exports=c;var n=r("0acc"),i=r("954b"),a=r("d65c"),o=r("780c"),s=r("bcfc"),u=r("3f6a"),l={};function c(e){var t=r("e393"),c=r("e4e2"),f=r("5f6b"),d=r("00c7");e=f(e,{springLength:10,springCoeff:.8,gravity:-12,theta:.8,dragCoeff:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2});var h=l[e.dimensions];if(!h){var p=e.dimensions;h={Body:n(p),createQuadTree:i(p),createBounds:a(p),createDragForce:o(p),createSpringForce:s(p),integrate:u(p)},l[p]=h}var g=h.Body,m=h.createQuadTree,v=h.createBounds,y=h.createDragForce,b=h.createSpringForce,E=h.integrate,_=e=>new g(e),T=r("d9da").random(42),w=[],S=[],A=m(e,T),R=v(w,e,T),I=b(e,T),C=y(e),D=0,N=[],x=new Map,M=0;L("nbody",j),L("spring",B);var O={bodies:w,quadTree:A,springs:S,settings:e,addForce:L,removeForce:k,getForces:F,step:function(){for(var t=0;t<N.length;++t)N[t](M);var r=E(w,e.timeStep,e.adaptiveTimeStepWeight);return M+=1,r},addBody:function(e){if(!e)throw new Error("Body is required");return w.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=_(e);return w.push(t),t},removeBody:function(e){if(e){var t=w.indexOf(e);if(!(t<0))return w.splice(t,1),0===w.length&&R.reset(),!0}},addSpring:function(e,r,n,i){if(!e||!r)throw new Error("Cannot add null spring to force simulator");"number"!==typeof n&&(n=-1);var a=new t(e,r,n,i>=0?i:-1);return S.push(a),a},getTotalMovement:function(){return D},removeSpring:function(e){if(e){var t=S.indexOf(e);return t>-1?(S.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return R.getBestNewPosition(e)},getBBox:P,getBoundingBox:P,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(t){return void 0!==t?(e.gravity=t,A.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,A.options({theta:t}),this):e.theta}};return c(e,O),d(O),O;function P(){return R.update(),R.box}function L(e,t){if(x.has(e))throw new Error("Force "+e+" is already added");x.set(e,t),N.push(t)}function k(e){var t=N.indexOf(x.get(e));t<0||N.splice(t,1)}function F(){return x}function j(e){if(0!==w.length){A.insertBodies(w);var t=w.length;while(t--){var r=w[t];r.isPinned||(r.reset(),A.updateBodyForce(r),C.update(r))}}}function B(){var e=S.length;while(e--)I.update(S[e])}}},"82f8":function(e,t,r){"use strict";var n=r("ebb5"),i=r("4d64").includes,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},"83ab":function(e,t,r){var n=r("d039");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83fb":function(e,t){function r(e){if("#"===e[0]){if(7===e.length){let t=Number.parseInt(e.substr(1,2),16),r=Number.parseInt(e.substr(3,2),16),i=Number.parseInt(e.substr(5,2),16);return n([t,r,i])}if(4===e.length||5===e.length){let t=e.substr(1,1),r=e.substr(2,1),i=e.substr(3,1),a=Number.parseInt(t+t,16),o=Number.parseInt(r+r,16),s=Number.parseInt(i+i,16);return n([a,o,s])}if(e.startsWith("rgba")){let t=e.substr(5).split(/,/).map(e=>Number.parseFloat(e));return t[3]=Math.round(255*t[3]),alphaHexColor(t)}throw new Error("Cannot parse this color yet "+e)}let t,r=e.match(/fill:rgb\((.+?)\)/);if(r&&(t=r[1].split(",").map(e=>Number.parseInt(e,10)).filter(finiteNumber)),t||(r=e.match(/fill:#([0-9a-fA-F]{6})/),r&&(t=[Number.parseInt(r[1].substr(0,2),16),Number.parseInt(r[1].substr(2,2),16),Number.parseInt(r[1].substr(4,2),16)])),!t&&(r=e.match(/fill:#([0-9a-fA-F]{3})/),r)){let e=r[1].substr(0,1),n=r[1].substr(1,1),i=r[1].substr(2,1);t=[Number.parseInt(e+e,16),Number.parseInt(n+n,16),Number.parseInt(i+i,16)]}if(t){if(3!==t.length)throw new Error("Cannot parse this color yet "+e);return n(t)}throw console.error("Cannot parse this color yet "+e),new Error("Cannot parse this color yet "+e)}function n(e){return e}e.exports=function(e){return r(e.attributes.get("fill")||e.attributes.get("style"))}},8417:function(e,t,r){(function(t,r){e.exports=r()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"00ee":function(e,t,r){var n=r("b622"),i=n("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},"0366":function(e,t,r){var n=r("e330"),i=r("59ed"),a=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?a(e,t):function(){return e.apply(t,arguments)}}},"04d1":function(e,t,r){var n=r("342f"),i=n.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},"057f":function(e,t,r){var n=r("c6b6"),i=r("fc6a"),a=r("241c").f,o=r("f36a"),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return a(e)}catch(t){return o(s)}};e.exports.f=function(e){return s&&"Window"==n(e)?u(e):a(i(e))}},"06cf":function(e,t,r){var n=r("83ab"),i=r("c65b"),a=r("d1e7"),o=r("5c6c"),s=r("fc6a"),u=r("a04b"),l=r("1a2d"),c=r("0cfb"),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=u(t),c)try{return f(e,t)}catch(r){}if(l(e,t))return o(!i(a.f,e,t),e[t])}},"07fa":function(e,t,r){var n=r("50c4");e.exports=function(e){return n(e.length)}},"0822":function(e,t,r){},"0b42":function(e,t,r){var n=r("da84"),i=r("e8b5"),a=r("68ee"),o=r("861d"),s=r("b622"),u=s("species"),l=n.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,a(t)&&(t===l||i(t.prototype))?t=void 0:o(t)&&(t=t[u],null===t&&(t=void 0))),void 0===t?l:t}},"0cb2":function(e,t,r){var n=r("e330"),i=r("7b0b"),a=Math.floor,o=n("".charAt),s=n("".replace),u=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,f,d){var h=r+e.length,p=n.length,g=c;return void 0!==f&&(f=i(f),g=l),s(d,g,(function(i,s){var l;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,h);case"<":l=f[u(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>p){var d=a(c/10);return 0===d?i:d<=p?void 0===n[d-1]?o(s,1):n[d-1]+o(s,1):i}l=n[c-1]}return void 0===l?"":l}))}},"0cfb":function(e,t,r){var n=r("83ab"),i=r("d039"),a=r("cc12");e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(e,t,r){var n=r("da84"),i=n.String;e.exports=function(e){try{return i(e)}catch(t){return"Object"}}},"107c":function(e,t,r){var n=r("d039"),i=r("da84"),a=i.RegExp;e.exports=n((function(){var e=a("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1148:function(e,t,r){"use strict";var n=r("da84"),i=r("5926"),a=r("577e"),o=r("1d80"),s=n.RangeError;e.exports=function(e){var t=a(o(this)),r="",n=i(e);if(n<0||n==1/0)throw s("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},1276:function(e,t,r){"use strict";var n=r("2ba4"),i=r("c65b"),a=r("e330"),o=r("d784"),s=r("44e7"),u=r("825a"),l=r("1d80"),c=r("4840"),f=r("8aa5"),d=r("50c4"),h=r("577e"),p=r("dc4a"),g=r("f36a"),m=r("14c3"),v=r("9263"),y=r("9f7f"),b=r("d039"),E=y.UNSUPPORTED_Y,_=4294967295,T=Math.min,w=[].push,S=a(/./.exec),A=a(w),R=a("".slice),I=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));o("split",(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=h(l(this)),o=void 0===r?_:r>>>0;if(0===o)return[];if(void 0===e)return[a];if(!s(e))return i(t,a,e,o);var u,c,f,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,p+"g");while(u=i(v,y,a)){if(c=y.lastIndex,c>m&&(A(d,R(a,m,u.index)),u.length>1&&u.index<a.length&&n(w,d,g(u,1)),f=u[0].length,m=c,d.length>=o))break;y.lastIndex===u.index&&y.lastIndex++}return m===a.length?!f&&S(y,"")||A(d,""):A(d,R(a,m)),d.length>o?g(d,0,o):d}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:i(t,this,e,r)}:t,[function(t,r){var n=l(this),o=void 0==t?void 0:p(t,e);return o?i(o,t,n,r):i(a,h(n),t,r)},function(e,n){var i=u(this),o=h(e),s=r(a,i,o,n,a!==t);if(s.done)return s.value;var l=c(i,RegExp),p=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(E?"g":"y"),v=new l(E?"^(?:"+i.source+")":i,g),y=void 0===n?_:n>>>0;if(0===y)return[];if(0===o.length)return null===m(v,o)?[o]:[];var b=0,w=0,S=[];while(w<o.length){v.lastIndex=E?0:w;var I,C=m(v,E?R(o,w):o);if(null===C||(I=T(d(v.lastIndex+(E?w:0)),o.length))===b)w=f(o,w,p);else{if(A(S,R(o,b,w)),S.length===y)return S;for(var D=1;D<=C.length-1;D++)if(A(S,C[D]),S.length===y)return S;w=b=I}}return A(S,R(o,b)),S}]}),!I,E)},"14c3":function(e,t,r){var n=r("da84"),i=r("c65b"),a=r("825a"),o=r("1626"),s=r("c6b6"),u=r("9263"),l=n.TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var n=i(r,e,t);return null!==n&&a(n),n}if("RegExp"===s(e))return i(u,e,t);throw l("RegExp#exec called on incompatible receiver")}},"159b":function(e,t,r){var n=r("da84"),i=r("fdbc"),a=r("785a"),o=r("17c2"),s=r("9112"),u=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var l in i)i[l]&&u(n[l]&&n[l].prototype);u(a)},1626:function(e,t){e.exports=function(e){return"function"==typeof e}},"16be":function(e){e.exports=JSON.parse('{"year":"{0}yr","month":"{0}mo","week":"{0}wk","day":"{0}d","hour":"{0}h","minute":"{0}m","second":"{0}s","now":"now"}')},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,i=r("a640"),a=i("forEach");e.exports=a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t,r){var n=r("da84"),i=r("3a9b"),a=n.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw a("Incorrect invocation")}},"1a2d":function(e,t,r){var n=r("e330"),i=r("7b0b"),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},"1be4":function(e,t,r){var n=r("d066");e.exports=n("document","documentElement")},"1c7e":function(e,t,r){var n=r("b622"),i=n("iterator"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(u){}return r}},"1d80":function(e,t,r){var n=r("da84"),i=n.TypeError;e.exports=function(e){if(void 0==e)throw i("Can't call method on "+e);return e}},"1dde":function(e,t,r){var n=r("d039"),i=r("b622"),a=r("2d00"),o=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fb5":function(e,t,r){"use strict";t.byteLength=c,t.toByteArray=d,t.fromByteArray=g;for(var n=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function c(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function f(e,t,r){return 3*(t+r)/4-r}function d(e){var t,r,n=l(e),o=n[0],s=n[1],u=new a(f(e,o,s)),c=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u}function h(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function p(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(h(n));return i.join("")}function g(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,u=r-i;s<u;s+=o)a.push(p(e,s,s+o>u?u:s+o));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2266:function(e,t,r){var n=r("da84"),i=r("0366"),a=r("c65b"),o=r("825a"),s=r("0d51"),u=r("e95a"),l=r("07fa"),c=r("3a9b"),f=r("9a1f"),d=r("35a1"),h=r("2a62"),p=n.TypeError,g=function(e,t){this.stopped=e,this.result=t},m=g.prototype;e.exports=function(e,t,r){var n,v,y,b,E,_,T,w=r&&r.that,S=!(!r||!r.AS_ENTRIES),A=!(!r||!r.IS_ITERATOR),R=!(!r||!r.INTERRUPTED),I=i(t,w),C=function(e){return n&&h(n,"normal",e),new g(!0,e)},D=function(e){return S?(o(e),R?I(e[0],e[1],C):I(e[0],e[1])):R?I(e,C):I(e)};if(A)n=e;else{if(v=d(e),!v)throw p(s(e)+" is not iterable");if(u(v)){for(y=0,b=l(e);b>y;y++)if(E=D(e[y]),E&&c(m,E))return E;return new g(!1)}n=f(e,v)}_=n.next;while(!(T=a(_,n)).done){try{E=D(T.value)}catch(N){h(n,"throw",N)}if("object"==typeof E&&E&&c(m,E))return E}return new g(!1)}},2323:function(e){e.exports=JSON.parse('{"year":{"previous":"last yr.","current":"this yr.","next":"next yr.","past":"{0} yr. ago","future":"in {0} yr."},"quarter":{"previous":"last qtr.","current":"this qtr.","next":"next qtr.","past":{"one":"{0} qtr. ago","other":"{0} qtrs. ago"},"future":{"one":"in {0} qtr.","other":"in {0} qtrs."}},"month":{"previous":"last mo.","current":"this mo.","next":"next mo.","past":"{0} mo. ago","future":"in {0} mo."},"week":{"previous":"last wk.","current":"this wk.","next":"next wk.","past":"{0} wk. ago","future":"in {0} wk."},"day":{"previous":"yesterday","current":"today","next":"tomorrow","past":{"one":"{0} day ago","other":"{0} days ago"},"future":{"one":"in {0} day","other":"in {0} days"}},"hour":{"current":"this hour","past":"{0} hr. ago","future":"in {0} hr."},"minute":{"current":"this minute","past":"{0} min. ago","future":"in {0} min."},"second":{"current":"now","past":"{0} sec. ago","future":"in {0} sec."}}')},"23cb":function(e,t,r){var n=r("5926"),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},"23e7":function(e,t,r){var n=r("da84"),i=r("06cf").f,a=r("9112"),o=r("6eeb"),s=r("ce4e"),u=r("e893"),l=r("94ca");e.exports=function(e,t){var r,c,f,d,h,p,g=e.target,m=e.global,v=e.stat;if(c=m?n:v?n[g]||s(g,{}):(n[g]||{}).prototype,c)for(f in t){if(h=t[f],e.noTargetGet?(p=i(c,f),d=p&&p.value):d=c[f],r=l(m?f:g+(v?".":"#")+f,e.forced),!r&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),o(c,f,h,e)}}},"241c":function(e,t,r){var n=r("ca84"),i=r("7839"),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},2626:function(e,t,r){"use strict";var n=r("d066"),i=r("9bf2"),a=r("b622"),o=r("83ab"),s=a("species");e.exports=function(e){var t=n(e),r=i.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},"2a62":function(e,t,r){var n=r("c65b"),i=r("825a"),a=r("dc4a");e.exports=function(e,t,r){var o,s;i(e);try{if(o=a(e,"return"),!o){if("throw"===t)throw r;return r}o=n(o,e)}catch(u){s=!0,o=u}if("throw"===t)throw r;if(s)throw o;return i(o),r}},"2ba4":function(e,t){var r=Function.prototype,n=r.apply,i=r.bind,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(n):function(){return a.apply(n,arguments)})},"2d00":function(e,t,r){var n,i,a=r("da84"),o=r("342f"),s=a.process,u=a.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(n=c.split("."),i=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(i=+n[1]))),e.exports=i},"342f":function(e,t,r){var n=r("d066");e.exports=n("navigator","userAgent")||""},"35a1":function(e,t,r){var n=r("f5df"),i=r("dc4a"),a=r("3f8c"),o=r("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return i(e,s)||i(e,"@@iterator")||a[n(e)]}},3778:function(e,t,r){},"37e8":function(e,t,r){var n=r("83ab"),i=r("9bf2"),a=r("825a"),o=r("fc6a"),s=r("df75");e.exports=n?Object.defineProperties:function(e,t){a(e);var r,n=o(t),u=s(t),l=u.length,c=0;while(l>c)i.f(e,r=u[c++],n[r]);return e}},"3a9b":function(e,t,r){var n=r("e330");e.exports=n({}.isPrototypeOf)},"3bbe":function(e,t,r){var n=r("da84"),i=r("1626"),a=n.String,o=n.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},"3ca3":function(e,t,r){"use strict";var n=r("6547").charAt,i=r("577e"),a=r("69f3"),o=r("7dd0"),s="String Iterator",u=a.set,l=a.getterFor(s);o(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=l(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},"408a":function(e,t,r){var n=r("e330");e.exports=n(1..valueOf)},4362:function(e,t,r){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";t.cwd=function(){return n},t.chdir=function(t){e||(e=r("df7c")),n=e.resolve(t,n)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,r){var n=r("da84"),i=r("e330"),a=r("d039"),o=r("c6b6"),s=n.Object,u=i("".split);e.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?u(e,""):s(e)}:s},"44d2":function(e,t,r){var n=r("b622"),i=r("7c73"),a=r("9bf2"),o=n("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},"44e7":function(e,t,r){var n=r("861d"),i=r("c6b6"),a=r("b622"),o=a("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},"466d":function(e,t,r){"use strict";var n=r("c65b"),i=r("d784"),a=r("825a"),o=r("50c4"),s=r("577e"),u=r("1d80"),l=r("dc4a"),c=r("8aa5"),f=r("14c3");i("match",(function(e,t,r){return[function(t){var r=u(this),i=void 0==t?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](s(r))},function(e){var n=a(this),i=s(e),u=r(t,n,i);if(u.done)return u.value;if(!n.global)return f(n,i);var l=n.unicode;n.lastIndex=0;var d,h=[],p=0;while(null!==(d=f(n,i))){var g=s(d[0]);h[p]=g,""===g&&(n.lastIndex=c(i,o(n.lastIndex),l)),p++}return 0===p?null:h}]}))},"46be":function(e){e.exports=JSON.parse('{"year":{"previous":"last yr.","current":"this yr.","next":"next yr.","past":"{0} yr. ago","future":"in {0} yr."},"quarter":{"previous":"last qtr.","current":"this qtr.","next":"next qtr.","past":{"one":"{0} qtr. ago","other":"{0} qtrs. ago"},"future":{"one":"in {0} qtr.","other":"in {0} qtrs."}},"month":{"previous":"last mo.","current":"this mo.","next":"next mo.","past":"{0} mo. ago","future":"in {0} mo."},"week":{"previous":"last wk.","current":"this wk.","next":"next wk.","past":"{0} wk. ago","future":"in {0} wk."},"day":{"previous":"yesterday","current":"today","next":"tomorrow","past":{"one":"{0} day ago","other":"{0} days ago"},"future":{"one":"in {0} day","other":"in {0} days"}},"hour":{"current":"this hour","past":"{0} hr. ago","future":"in {0} hr."},"minute":{"current":"this minute","past":"{0} min. ago","future":"in {0} min."},"second":{"current":"now","past":"{0} sec. ago","future":"in {0} sec."}}')},4840:function(e,t,r){var n=r("825a"),i=r("5087"),a=r("b622"),o=a("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},"485a":function(e,t,r){var n=r("da84"),i=r("c65b"),a=r("1626"),o=r("861d"),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&a(r=e.toString)&&!o(n=i(r,e)))return n;if(a(r=e.valueOf)&&!o(n=i(r,e)))return n;if("string"!==t&&a(r=e.toString)&&!o(n=i(r,e)))return n;throw s("Can't convert object to primitive value")}},4930:function(e,t,r){var n=r("2d00"),i=r("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},"498a":function(e,t,r){"use strict";var n=r("23e7"),i=r("58a8").trim,a=r("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},"4d64":function(e,t,r){var n=r("fc6a"),i=r("23cb"),a=r("07fa"),o=function(e){return function(t,r,o){var s,u=n(t),l=a(u),c=i(o,l);if(e&&r!=r){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"4e82":function(e,t,r){"use strict";var n=r("23e7"),i=r("e330"),a=r("59ed"),o=r("7b0b"),s=r("07fa"),u=r("577e"),l=r("d039"),c=r("addb"),f=r("a640"),d=r("04d1"),h=r("d998"),p=r("2d00"),g=r("512c"),m=[],v=i(m.sort),y=i(m.push),b=l((function(){m.sort(void 0)})),E=l((function(){m.sort(null)})),_=f("sort"),T=!l((function(){if(p)return p<70;if(!(d&&d>3)){if(h)return!0;if(g)return g<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:t+n,v:r})}for(m.sort((function(e,t){return t.v-e.v})),n=0;n<m.length;n++)t=m[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),w=b||!E||!_||!T,S=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:u(t)>u(r)?1:-1}};n({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(T)return void 0===e?v(t):v(t,e);var r,n,i=[],u=s(t);for(n=0;n<u;n++)n in t&&y(i,t[n]);c(i,S(e)),r=i.length,n=0;while(n<r)t[n]=i[n++];while(n<u)delete t[n++];return t}})},"4ec9":function(e,t,r){"use strict";var n=r("6d61"),i=r("6566");n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},5087:function(e,t,r){var n=r("da84"),i=r("68ee"),a=r("0d51"),o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a constructor")}},"50c4":function(e,t,r){var n=r("5926"),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},"512c":function(e,t,r){var n=r("342f"),i=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},5319:function(e,t,r){"use strict";var n=r("2ba4"),i=r("c65b"),a=r("e330"),o=r("d784"),s=r("d039"),u=r("825a"),l=r("1626"),c=r("5926"),f=r("50c4"),d=r("577e"),h=r("1d80"),p=r("8aa5"),g=r("dc4a"),m=r("0cb2"),v=r("14c3"),y=r("b622"),b=y("replace"),E=Math.max,_=Math.min,T=a([].concat),w=a([].push),S=a("".indexOf),A=a("".slice),R=function(e){return void 0===e?e:String(e)},I=function(){return"$0"==="a".replace(/./,"$0")}(),C=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),D=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,r){var a=C?"$":"$0";return[function(e,r){var n=h(this),a=void 0==e?void 0:g(e,b);return a?i(a,e,n,r):i(t,d(n),e,r)},function(e,i){var o=u(this),s=d(e);if("string"==typeof i&&-1===S(i,a)&&-1===S(i,"$<")){var h=r(t,o,s,i);if(h.done)return h.value}var g=l(i);g||(i=d(i));var y=o.global;if(y){var b=o.unicode;o.lastIndex=0}var I=[];while(1){var C=v(o,s);if(null===C)break;if(w(I,C),!y)break;var D=d(C[0]);""===D&&(o.lastIndex=p(s,f(o.lastIndex),b))}for(var N="",x=0,M=0;M<I.length;M++){C=I[M];for(var O=d(C[0]),P=E(_(c(C.index),s.length),0),L=[],k=1;k<C.length;k++)w(L,R(C[k]));var F=C.groups;if(g){var j=T([O],L,P,s);void 0!==F&&w(j,F);var B=d(n(i,void 0,j))}else B=m(O,s,P,L,F,i);P>=x&&(N+=A(s,x,P)+B,x=P+O.length)}return N+A(s,x)}]}),!D||!I||C)},5692:function(e,t,r){var n=r("c430"),i=r("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.0",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,r){var n=r("d066"),i=r("e330"),a=r("241c"),o=r("7418"),s=r("825a"),u=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?u(t,r(e)):t}},"577e":function(e,t,r){var n=r("da84"),i=r("f5df"),a=n.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("e330"),i=r("1d80"),a=r("577e"),o=r("5899"),s=n("".replace),u="["+o+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(e){return function(t){var r=a(i(t));return 1&e&&(r=s(r,l,"")),2&e&&(r=s(r,c,"")),r}};e.exports={start:f(1),end:f(2),trim:f(3)}},5926:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){var t=+e;return t!==t||0===t?0:(t>0?n:r)(t)}},"59ed":function(e,t,r){var n=r("da84"),i=r("1626"),a=r("0d51"),o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a function")}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e77":function(e,t,r){var n=r("83ab"),i=r("1a2d"),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,l=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"62f8":function(e,t,r){(function(t,r){(function(t,r){e.exports=r()})(self,()=>(()=>{var e={"./externals/base64.js":
/*!*****************************!*\
  !*** ./externals/base64.js ***!
  \*****************************/(e,t)=>{var r={encode:function(e){for(var t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},decode:function(e){var t=[],r=0;while(r<e.length){var n=e[r++];n<128||(n<224?(n=(31&n)<<6,n|=63&e[r++]):n<240?(n=(15&n)<<12,n|=(63&e[r++])<<6,n|=63&e[r++]):(n=(7&n)<<18,n|=(63&e[r++])<<12,n|=(63&e[r++])<<6,n|=63&e[r++])),t.push(String.fromCharCode(n))}return t.join("")}},n={};(function(e){var t=function(t){var r=0,n=[],i=0|t.length/3;while(0<i--){var a=(t[r]<<16)+(t[r+1]<<8)+t[r+2];r+=3,n.push(e.charAt(63&a>>18)),n.push(e.charAt(63&a>>12)),n.push(e.charAt(63&a>>6)),n.push(e.charAt(63&a))}if(2==t.length-r){a=(t[r]<<16)+(t[r+1]<<8);n.push(e.charAt(63&a>>18)),n.push(e.charAt(63&a>>12)),n.push(e.charAt(63&a>>6)),n.push("=")}else if(1==t.length-r){a=t[r]<<16;n.push(e.charAt(63&a>>18)),n.push(e.charAt(63&a>>12)),n.push("==")}return n.join("")},i=function(){for(var t=[],r=0;r<e.length;++r)t[e.charCodeAt(r)]=r;return t["=".charCodeAt(0)]=0,t}(),o=function(e){var t=0,r=[],n=0|e.length/4;while(0<n--){var a=(i[e.charCodeAt(t)]<<18)+(i[e.charCodeAt(t+1)]<<12)+(i[e.charCodeAt(t+2)]<<6)+i[e.charCodeAt(t+3)];r.push(255&a>>16),r.push(255&a>>8),r.push(255&a),t+=4}return r&&("="==e.charAt(t-2)?(r.pop(),r.pop()):"="==e.charAt(t-1)&&r.pop()),r},u={encode:function(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}};n.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},n.encodeASCII=function(e){var r=u.encode(e);return t(r)},n.decodeASCII=function(e){var t=o(e);return u.decode(t)},n.encode=function(e){var n=r.encode(e);return t(n)},n.decode=function(e){var t=o(e);return r.decode(t)}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),t.decode=n.decode,t.decodeArray=n.decodeArray,t.encode=n.encode,t.encodeASCII=n.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
  !*** ./externals/cea608-parser.js ***!
  \************************************/(e,t)=>{(function(e){"use strict";var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},r=function(e){var r=e;return t.hasOwnProperty(e)&&(r=t[e]),String.fromCharCode(r)},n=15,i=32,a={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},o={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},l=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var r=this.verboseFilter[e];this.verboseLevel>=r&&console.log(this.time+" ["+e+"] "+t)}},f=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},d=function(e,t,r,n,i){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1};d.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var h=function(e,t,r,n,i,a){this.uchar=e||" ",this.penState=new d(t,r,n,i,a)};h.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var p=function(){this.chars=[];for(var e=0;e<i;e++)this.chars.push(new h);this.pos=0,this.currPenState=new d};p.prototype={equals:function(e){for(var t=!0,r=0;r<i;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},copy:function(e){for(var t=0;t<i;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<i;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=r(e);this.pos>=i?c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<i;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,r=0;r<i;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e);var t=this.chars[this.pos];t.setPenState(this.currPenState)}};var g=function(){this.rows=[];for(var e=0;e<n;e++)this.rows.push(new p);this.currRow=n-1,this.nrRollUpRows=null,this.reset()};g.prototype={reset:function(){for(var e=0;e<n;e++)this.rows[e].clear();this.currRow=n-1},equals:function(e){for(var t=!0,r=0;r<n;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},copy:function(e){for(var t=0;t<n;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<n;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){var e=this.rows[this.currRow];e.backSpace()},clearToEndOfRow:function(){var e=this.rows[this.currRow];e.clearToEndOfRow()},insertChar:function(e){var t=this.rows[this.currRow];t.insertChar(e)},setPen:function(e){var t=this.rows[this.currRow];t.setPenStyles(e)},moveCursor:function(e){var t=this.rows[this.currRow];t.moveCursor(e)},setCursor:function(e){c.log("INFO","setCursor: "+e);var t=this.rows[this.currRow];t.setCursor(e)},setPAC:function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var r=this.rows[this.currRow];if(null!==e.indent){var n=e.indent,i=Math.max(n-1,0);r.setCursor(e.indent),e.color=r.chars[i].penState.foreground}var a={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(a)},setBkgData:function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],r="",i=-1,a=0;a<n;a++){var o=this.rows[a].getTextString();o&&(i=a+1,e?t.push("Row "+i+': "'+o+'"'):t.push(o.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},getTextAndFormat:function(){return this.rows}};var m=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[n-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};m.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[n-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[r]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=c.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var v=function(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new m(1,t),new m(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};v.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var r,n,i,a=!1;this.lastTime=e,c.setTime(e);for(var o=0;o<t.length;o+=2)if(n=127&t[o],i=127&t[o+1],n>=16&&n<=31&&n===this.lastCmdA&&i===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+f([n,i])+") is dropped");else if(0!==n||0!==i){if(c.log("DATA","["+f([t[o],t[o+1]])+"] -> ("+f([n,i])+")"),r=this.parseCmd(n,i),r||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(a=this.parseChars(n,i),a))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(a)}else c.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:a?this.dataCounters["char"]+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+f([n,i])+" orig: "+f([t[o],t[o+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var r=null,n=(20===e||21===e||28===e||29===e)&&32<=t&&t<=47,i=(23===e||31===e)&&33<=t&&t<=35;if(!n&&!i)return!1;r=20===e||21===e||23===e?1:2;var a=this.channels[r-1];return 20===e||21===e||28===e||29===e?32===t?a.cc_RCL():33===t?a.cc_BS():34===t?a.cc_AOF():35===t?a.cc_AON():36===t?a.cc_DER():37===t?a.cc_RU(2):38===t?a.cc_RU(3):39===t?a.cc_RU(4):40===t?a.cc_FON():41===t?a.cc_RDC():42===t?a.cc_TR():43===t?a.cc_RTD():44===t?a.cc_EDM():45===t?a.cc_CR():46===t?a.cc_ENM():47===t&&a.cc_EOC():a.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},parseMidrow:function(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if(r=17===e?1:2,r!==this.currChNr)return c.log("ERROR","Mismatch channel in midrow parsing"),!1;var n=this.channels[r-1];return n.insertChars([32]),n.cc_MIDROW(t),c.log("DEBUG","MIDROW ("+f([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function(e,t){var r=null,n=null,i=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,l=(16===e||24===e)&&64<=t&&t<=95;if(!i&&!l)return!1;r=e<=23?1:2,n=64<=t&&t<=95?1===r?a[e]:s[e]:1===r?o[e]:u[e];var c=this.interpretPAC(n,t),f=this.channels[r-1];return f.setPAC(c),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},interpretPAC:function(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1===(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},parseChars:function(e,t){var n=null,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),17<=a&&a<=19){var o=t;o=17===a?t+80:18===a?t+112:t+144,c.log("INFO","Special char '"+r(o)+"' in channel "+n),i=[o],this.lastCmdA=e,this.lastCmdB=t}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t],this.lastCmdA=null,this.lastCmdB=null);if(i){var s=f(i);c.log("DEBUG","Char codes =  "+s.join(","))}return i},parseBackgroundAttributes:function(e,t){var r,n,i,a,o=(16===e||24===e)&&32<=t&&t<=47,s=(23===e||31===e)&&45<=t&&t<=47;return!(!o&&!s)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=l[n],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=e<24?1:2,a=this.channels[i-1],a.setBkgData(r),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};var y=function(e,t,r){var n=0,i=t,a=0,o=[],s=function(e,t,r,n){if(4!==e||t<8)return null;var i=r.getUint8(n),a=r.getUint16(n+1),o=r.getUint32(n+3),s=r.getUint8(n+7);return 181==i&&49==a&&1195456820==o&&3==s};while(i<t+r){if(n=e.getUint32(i),a=31&e.getUint8(i+4),6===a){var u=i+5,l=-1;while(u<i+4+n-1){l=0;var c=255;while(255===c)c=e.getUint8(u),l+=c,u++;var f=0;c=255;while(255===c)c=e.getUint8(u),f+=c,u++;s(l,f,e,u)&&o.push([u,f]),u+=f}}i+=n+4}return o},b=function(e,t){var r=t[0],n=[[],[]];r+=8;var i=31&e.getUint8(r);r+=2;for(var a=0;a<i;a++){var o=e.getUint8(r),s=4&o,u=3&o;r++;var l=e.getUint8(r);r++;var c=e.getUint8(r);r++,s&&(127&l)+(127&c)!==0&&(0===u?(n[0].push(l),n[0].push(c)):1===u&&(n[1].push(l),n[1].push(c)))}return n};e.logger=c,e.PenState=d,e.CaptionScreen=g,e.Cea608Parser=v,e.findCea608Nalus=y,e.extractCea608DataFromRange=b})(t)},"./externals/xml2json.js":
/*!*******************************!*\
  !*** ./externals/xml2json.js ***!
  \*******************************/(e,t,r)=>{"use strict";function n(e){var t="1.2.0";function r(){void 0===e.escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1)}e=e||{},r(),i();var n={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function i(){}function a(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function o(e){return e.prefix}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function u(e,t,r,n){for(var i=0;i<e.length;i++){var a=e[i];if("string"===typeof a){if(a==n)break}else if(a instanceof RegExp){if(a.test(n))break}else if("function"===typeof a&&a(t,r,n))break}return i!=e.length}function l(t,r,n){switch(e.arrayAccessForm){case"property":t[r]instanceof Array?t[r+"_asArray"]=t[r]:t[r+"_asArray"]=[t[r]];break}!(t[r]instanceof Array)&&e.arrayAccessFormPaths.length>0&&u(e.arrayAccessFormPaths,t,r,n)&&(t[r]=[t[r]])}function c(e){var t=e.split(/[-T:+Z]/g),r=new Date(t[0],t[1]-1,t[2]),n=t[5].split(".");if(r.setHours(t[3],t[4],n[0]),n.length>1&&r.setMilliseconds(n[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]),a=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";i=0+("-"==a?-1*i:i),r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())));return r}function f(t,r,n){if(e.datetimeAccessFormPaths.length>0){var i=n.split(".#")[0];return u(e.datetimeAccessFormPaths,t,r,i)?c(t):t}return t}function d(t,r,i,a){return!(r==n.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||u(e.xmlElementsFilter,t,i,a)}function h(t,r){if(t.nodeType==n.DOCUMENT_NODE){for(var i=new Object,s=t.childNodes,u=0;u<s.length;u++){var c=s[u];if(c.nodeType==n.ELEMENT_NODE)if(e.ignoreRoot)i=h(c);else{i={};var p=a(c);i[p]=h(c)}}return i}if(t.nodeType==n.ELEMENT_NODE){i=new Object;i.__cnt=0;var g=[];for(s=t.childNodes,u=0;u<s.length;u++){c=s[u],p=a(c);if(c.nodeType!=n.COMMENT_NODE){var m=r+"."+p;if(d(i,c.nodeType,p,m))if(i.__cnt++,null==i[p]){var v=h(c,m);if("#text"!=p||/[^\s]/.test(v)){var y={};y[p]=v,g.push(y)}i[p]=v,l(i,p,m)}else{null!=i[p]&&(i[p]instanceof Array||(i[p]=[i[p]],l(i,p,m)));v=h(c,m);if("#text"!=p||/[^\s]/.test(v)){y={};y[p]=v,g.push(y)}i[p][i[p].length]=v}}}i.__children=g;for(var b=a(t),E=0;E<t.attributes.length;E++){var _=t.attributes[E];i.__cnt++;for(var T=_.value,w=0,S=e.matchers.length;w<S;w++){var A=e.matchers[w];A.test(_,b)&&(T=A.converter(_.value))}i[e.attributePrefix+_.name]=T}var R=o(t);return null!=R&&""!=R&&(i.__cnt++,i.__prefix=R),null!=i["#text"]&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),e.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],"property"==e.arrayAccessForm&&delete i["#text_asArray"],i.__text=f(i.__text,p,r+"."+p)),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],"property"==e.arrayAccessForm&&delete i["#cdata-section_asArray"]),0==i.__cnt&&"text"==e.emptyNodeForm?i="":1==i.__cnt&&null!=i.__text?i=i.__text:1!=i.__cnt||null==i.__cdata||e.keepCData?i.__cnt>1&&null!=i.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==i.__text||""==i.__text.trim())&&delete i.__text:i=i.__cdata,delete i.__cnt,!e.enableToStringFunc||null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}if(t.nodeType==n.TEXT_NODE||t.nodeType==n.CDATA_SECTION_NODE)return t.nodeValue}function p(t,r,n,i){var a="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+r;if(null!=n)for(var o=0;o<n.length;o++){var u=n[o],l=t[u];e.escapeMode&&(l=s(l)),a+=" "+u.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?a+='"'+l+'"':a+="'"+l+"'"}return a+=i?"/>":">",a}function g(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function m(e,t){return-1!==e.indexOf(t,e.length-t.length)}function v(t,r){return!!("property"==e.arrayAccessForm&&m(r.toString(),"_asArray")||0==r.toString().indexOf(e.attributePrefix)||0==r.toString().indexOf("__")||t[r]instanceof Function)}function y(e){var t=0;if(e instanceof Object)for(var r in e)v(e,r)||t++;return t}function b(t,r,n){return 0==e.jsonPropertiesFilter.length||""==n||u(e.jsonPropertiesFilter,t,r,n)}function E(t){var r=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(e.attributePrefix)&&r.push(n);return r}function _(t){var r="";return null!=t.__cdata&&(r+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?r+=s(t.__text):r+=t.__text),r}function T(t){var r="";return t instanceof Object?r+=_(t):null!=t&&(e.escapeMode?r+=s(t):r+=t),r}function w(e,t){return""===e?t:e+"."+t}function S(e,t,r,n){var i="";if(0==e.length)i+=p(e,t,r,!0);else for(var a=0;a<e.length;a++)i+=p(e[a],t,E(e[a]),!1),i+=A(e[a],w(n,t)),i+=g(e[a],t);return i}function A(e,t){var r="",n=y(e);if(n>0)for(var i in e)if(!v(e,i)&&(""==t||b(e,i,w(t,i)))){var a=e[i],o=E(a);if(null==a||void 0==a)r+=p(a,i,o,!0);else if(a instanceof Object)if(a instanceof Array)r+=S(a,i,o,t);else if(a instanceof Date)r+=p(a,i,o,!1),r+=a.toISOString(),r+=g(a,i);else{var s=y(a);s>0||null!=a.__text||null!=a.__cdata?(r+=p(a,i,o,!1),r+=A(a,w(t,i)),r+=g(a,i)):r+=p(a,i,o,!0)}else r+=p(a,i,o,!1),r+=T(a),r+=g(a,i)}return r+=T(e),r}this.parseXmlString=function(e){var t;window.ActiveXObject||window;if(void 0===e)return null;if(window.DOMParser){var r=new window.DOMParser;try{t=r.parseFromString(e,"text/xml"),t.getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(n){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"===typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?c(e):e},this.xml2json=function(e){return h(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return A(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return t}}r.r(t),r.d(t,{default:()=>i});const i=n},"./index_mediaplayerOnly.js":
/*!**********************************!*\
  !*** ./index_mediaplayerOnly.js ***!
  \**********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{Debug:()=>a["default"],FactoryMaker:()=>i["default"],MediaPlayer:()=>n["default"],default:()=>l});var n=r(/*! ./src/streaming/MediaPlayer */"./src/streaming/MediaPlayer.js"),i=r(/*! ./src/core/FactoryMaker */"./src/core/FactoryMaker.js"),a=r(/*! ./src/core/Debug */"./src/core/Debug.js"),o=r(/*! ./src/core/Version */"./src/core/Version.js"),s=(r(/*! es6-promise/auto */"./node_modules/es6-promise/auto.js"),"undefined"!==typeof window&&window||r.g),u=s.dashjs;u||(u=s.dashjs={}),u.MediaPlayer=n["default"],u.FactoryMaker=i["default"],u.Debug=a["default"],u.Version=(0,o.getVersionString)();const l=u},"./src/core/Debug.js":
/*!***************************!*\
  !*** ./src/core/Debug.js ***!
  \***************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ./EventBus */"./src/core/EventBus.js"),i=r(/*! ./events/Events */"./src/core/events/Events.js"),a=r(/*! ./FactoryMaker */"./src/core/FactoryMaker.js"),o=0,s=1,u=2,l=3,c=4,f=5;function d(e){e=e||{};var t,r,a,o,d=this.context,h=(0,n["default"])(d).getInstance(),p=e.settings,g=[];function m(){r=!0,a=!0,o=(new Date).getTime(),"undefined"!==typeof window&&window.console&&(g[s]=v(window.console.error),g[u]=v(window.console.error),g[l]=v(window.console.warn),g[c]=v(window.console.info),g[f]=v(window.console.debug))}function v(e){return e&&e.bind?e.bind(window.console):window.console.log.bind(window.console)}function y(e){return{fatal:_.bind(e),error:T.bind(e),warn:w.bind(e),info:S.bind(e),debug:A.bind(e)}}function b(e){r=e}function E(e){a=e}function _(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];R.apply(void 0,[s,this].concat(t))}function T(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];R.apply(void 0,[u,this].concat(t))}function w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];R.apply(void 0,[l,this].concat(t))}function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];R.apply(void 0,[c,this].concat(t))}function A(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];R.apply(void 0,[f,this].concat(t))}function R(e,t){var n="",s=null;r&&(s=(new Date).getTime(),n+="["+(s-o)+"]"),a&&t&&t.getClassName&&(n+="["+t.getClassName()+"]",t.getType&&(n+="["+t.getType()+"]")),n.length>0&&(n+=" ");for(var u=arguments.length,l=new Array(u>2?u-2:0),c=2;c<u;c++)l[c-2]=arguments[c];Array.apply(null,l).forEach((function(e){n+=e+" "})),g[e]&&p&&p.get().debug.logLevel>=e&&g[e](n),p&&p.get().debug.dispatchEvent&&h.trigger(i["default"].LOG,{message:n,level:e})}return t={getLogger:y,setLogTimestampVisible:b,setCalleeNameVisible:E},m(),t}d.__dashjs_factory_name="Debug";var h=a["default"].getSingletonFactory(d);h.LOG_LEVEL_NONE=o,h.LOG_LEVEL_FATAL=s,h.LOG_LEVEL_ERROR=u,h.LOG_LEVEL_WARNING=l,h.LOG_LEVEL_INFO=c,h.LOG_LEVEL_DEBUG=f,a["default"].updateSingletonFactory(d.__dashjs_factory_name,h);const p=h},"./src/core/EventBus.js":
/*!******************************!*\
  !*** ./src/core/EventBus.js ***!
  \******************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ./FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),a=0,o=5e3;function s(){var e={};function t(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t)throw new Error("event type cannot be null or undefined");if(!r||"function"!==typeof r)throw new Error("listener must be a function: "+r);var s=i.priority||a;if(!(o(t,r,n)>=0)){e[t]=e[t]||[];var u={callback:r,scope:n,priority:s};n&&n.getStreamId&&(u.streamId=n.getStreamId()),n&&n.getType&&(u.mediaType=n.getType()),i&&i.mode&&(u.mode=i.mode);var l=e[t].some((function(r,n){if(r&&s>r.priority)return e[t].splice(n,0,u),!0}));l||e[t].push(u)}}function r(t,r,n){if(t&&r&&e[t]){var i=o(t,r,n);i<0||(e[t][i]=null)}}function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e[t]){if(r=r||{},r.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");r.type=t,n.streamId&&(r.streamId=n.streamId),n.mediaType&&(r.mediaType=n.mediaType),e[t].filter((function(e){return!!e&&((!n.streamId||!e.streamId||e.streamId===n.streamId)&&((!n.mediaType||!e.mediaType||e.mediaType===n.mediaType)&&!(n.mode&&e.mode&&e.mode!==n.mode||!e.mode&&n.mode&&n.mode===i["default"].EVENT_MODE_ON_RECEIVE)))})).forEach((function(e){return e&&e.callback.call(e.scope,r)}))}}function o(t,r,n){var i=-1;return e[t]?(e[t].some((function(e,t){if(e&&e.callback===r&&(!n||n===e.scope))return i=t,!0})),i):i}function s(){e={}}var u={on:t,off:r,trigger:n,reset:s};return u}s.__dashjs_factory_name="EventBus";var u=n["default"].getSingletonFactory(s);u.EVENT_PRIORITY_LOW=a,u.EVENT_PRIORITY_HIGH=o,n["default"].updateSingletonFactory(s.__dashjs_factory_name,u);const l=u},"./src/core/FactoryMaker.js":
/*!**********************************!*\
  !*** ./src/core/FactoryMaker.js ***!
  \**********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=function(){var e,t=[],r={},n={};function i(e,t,r,n){!n[e]&&t&&(n[e]={instance:t,override:r})}function a(e,r){for(var n in t){var i=t[n];if(i.context===e&&i.name===r)return i.instance}return null}function o(e,r,n){for(var i in t){var a=t[i];if(a.context===e&&a.name===r)return void(t[i].instance=n)}t.push({name:r,context:e,instance:n})}function s(e){t=t.filter((function(t){return t.context!==e}))}function u(e,t){return t[e]}function l(e,t,r){e in r&&(r[e]=t)}function c(e,t){l(e,t,n)}function f(e){return u(e,n)}function d(e){var t=u(e.__dashjs_factory_name,n);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return m(e,t,arguments)}}},n[e.__dashjs_factory_name]=t),t}function h(e,t){l(e,t,r)}function p(e){return u(e,r)}function g(e){var n=u(e.__dashjs_factory_name,r);return n||(n=function(r){var n;return void 0===r&&(r={}),{getInstance:function(){return n||(n=a(r,e.__dashjs_factory_name)),n||(n=m(e,r,arguments),t.push({name:e.__dashjs_factory_name,context:r,instance:n})),n}}},r[e.__dashjs_factory_name]=n),n}function m(t,r,n){var i,a=t.__dashjs_factory_name,o=r[a];if(o){var s=o.instance;if(!o.override)return s.apply({context:r,factory:e},n);for(var u in i=t.apply({context:r},n),s=s.apply({context:r,factory:e,parent:i},n),s)i.hasOwnProperty(u)&&(i[u]=s[u])}else i=t.apply({context:r},n);return i.getClassName=function(){return a},i}return e={extend:i,getSingletonInstance:a,setSingletonInstance:o,deleteSingletonInstances:s,getSingletonFactory:g,getSingletonFactoryByName:p,updateSingletonFactory:h,getClassFactory:d,getClassFactoryByName:f,updateClassFactory:c},e}();const i=n},"./src/core/Settings.js":
/*!******************************!*\
  !*** ./src/core/Settings.js ***!
  \******************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ./FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ./Utils.js */"./src/core/Utils.js"),a=r(/*! ../core/Debug */"./src/core/Debug.js"),o=r(/*! ../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),s=r(/*! ../streaming/vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),u=r(/*! ./EventBus */"./src/core/EventBus.js"),l=r(/*! ./events/Events */"./src/core/events/Events.js");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){var e,t,r,n=this.context,d=(0,u["default"])(n).getInstance(),h={"streaming.delay.liveDelay":l["default"].SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":l["default"].SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":l["default"].SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":l["default"].SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":l["default"].SETTING_UPDATED_PLAYBACK_RATE_MAX},p={debug:{logLevel:a["default"].LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:o["default"].LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:o["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:o["default"].TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:o["default"].TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(e={},f(e,s.HTTPRequest.MPD_TYPE,500),f(e,s.HTTPRequest.XLINK_EXPANSION_TYPE,500),f(e,s.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),f(e,s.HTTPRequest.INIT_SEGMENT_TYPE,1e3),f(e,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),f(e,s.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),f(e,s.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),f(e,s.HTTPRequest.LICENSE,1e3),f(e,s.HTTPRequest.OTHER_TYPE,1e3),f(e,"lowLatencyReductionFactor",10),e),retryAttempts:(t={},f(t,s.HTTPRequest.MPD_TYPE,3),f(t,s.HTTPRequest.XLINK_EXPANSION_TYPE,1),f(t,s.HTTPRequest.MEDIA_SEGMENT_TYPE,3),f(t,s.HTTPRequest.INIT_SEGMENT_TYPE,3),f(t,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),f(t,s.HTTPRequest.INDEX_SEGMENT_TYPE,3),f(t,s.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),f(t,s.HTTPRequest.LICENSE,3),f(t,s.HTTPRequest.OTHER_TYPE,3),f(t,"lowLatencyMultiplyFactor",5),t),abr:{movingAverageMethod:o["default"].MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:o["default"].ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:o["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:o["default"].CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},g=i["default"].clone(p);function m(e,t,r){for(var n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)?"object"!==c(e[n])||e[n]instanceof Array||null===e[n]?(t[n]=i["default"].clone(e[n]),h[r+n]&&d.trigger(h[r+n])):m(e[n],t[n],r.slice()+n+"."):console.error("Settings parameter "+r+n+" is not supported"))}function v(){return g}function y(e){"object"===c(e)&&m(e,g,"")}function b(){g=i["default"].clone(p)}return r={get:v,update:y,reset:b},r}d.__dashjs_factory_name="Settings";var h=n["default"].getSingletonFactory(d);const p=h},"./src/core/Utils.js":
/*!***************************!*\
  !*** ./src/core/Utils.js ***!
  \***************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! path-browserify */"./node_modules/path-browserify/index.js"),i=r.n(n),a=r(/*! ua-parser-js */"./node_modules/ua-parser-js/src/ua-parser.js");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var c=function(){function e(){s(this,e)}return l(e,null,[{key:"mixin",value:function(t,r,n){var i,a={};if(t)for(var s in r)r.hasOwnProperty(s)&&(i=r[s],s in t&&(t[s]===i||s in a&&a[s]===i)||("object"===o(t[s])&&null!==t[s]?t[s]=e.mixin(t[s],i,n):t[s]=n(i)));return t}},{key:"clone",value:function(t){if(!t||"object"!==o(t))return t;var r;if(t instanceof Array){r=[];for(var n=0,i=t.length;n<i;++n)n in t&&r.push(e.clone(t[n]))}else r={};return e.mixin(r,t,e.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{if(!t||0===t.length)return e;var r=new URL(e);return t.forEach((function(e){e.key&&e.value&&r.searchParams.set(e.key,e.value)})),r.href}catch(n){return e}}},{key:"parseHttpHeaders",value:function(e){var t={};if(!e)return t;for(var r=e.trim().split("\r\n"),n=0,i=r.length;n<i;n++){var a=r[n],o=a.indexOf(": ");o>0&&(t[a.substring(0,o)]=a.substring(o+2))}return t}},{key:"generateUuid",value:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}));return t}},{key:"generateHashCode",value:function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n,t|=0}return t}},{key:"getRelativeUrl",value:function(e,t){try{var r=new URL(e),n=new URL(t);if(r.protocol=n.protocol,r.origin!==n.origin)return t;var a=i().relative(r.pathname.substr(0,r.pathname.lastIndexOf("/")),n.pathname.substr(0,n.pathname.lastIndexOf("/"))),o=0===a.length?1:0;return a+=n.pathname.substr(n.pathname.lastIndexOf("/")+o,n.pathname.length-1),n.pathname.length<a.length?n.pathname:a}catch(s){return t}}},{key:"parseUserAgent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=null===e&&"undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"";return(0,a.UAParser)(t)}catch(r){return{}}}}]),e}();const f=c},"./src/core/Version.js":
/*!*****************************!*\
  !*** ./src/core/Version.js ***!
  \*****************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{getVersionString:()=>i});var n="4.6.0";function i(){return n}},"./src/core/errors/Errors.js":
/*!***********************************!*\
  !*** ./src/core/errors/Errors.js ***!
  \***********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ./ErrorsBase */"./src/core/errors/ErrorsBase.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(){var e;return a(this,r),e=t.call(this),e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,e.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,e.SEGMENT_BASE_LOADER_ERROR_CODE=15,e.TIME_SYNC_FAILED_ERROR_CODE=16,e.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,e.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,e.APPEND_ERROR_CODE=20,e.REMOVE_ERROR_CODE=21,e.DATA_UPDATE_FAILED_ERROR_CODE=22,e.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,e.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,e.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,e.DOWNLOAD_ERROR_ID_SIDX_CODE=26,e.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,e.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,e.DOWNLOAD_ERROR_ID_XLINK_CODE=29,e.MANIFEST_ERROR_ID_PARSE_CODE=31,e.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,e.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,e.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",e.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",e.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",e.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",e.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",e.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",e.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",e.APPEND_ERROR_MESSAGE="chunk is not defined",e.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",e.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",e.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",e.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",e.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",e.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",e}return r}(n["default"]),p=new h;const g=p},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
  !*** ./src/core/errors/ErrorsBase.js ***!
  \***************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>s});var o=function(){function e(){n(this,e)}return a(e,[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();const s=o},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
  !*** ./src/core/events/CoreEvents.js ***!
  \***************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ./EventsBase */"./src/core/events/EventsBase.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(){var e;return a(this,r),e=t.call(this),e.ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",e.BUFFERING_COMPLETED="bufferingCompleted",e.BUFFER_CLEARED="bufferCleared",e.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",e.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",e.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",e.CMSD_STATIC_HEADER="cmsdStaticHeader",e.CURRENT_TRACK_CHANGED="currentTrackChanged",e.DATA_UPDATE_COMPLETED="dataUpdateCompleted",e.INBAND_EVENTS="inbandEvents",e.INITIAL_STREAM_SWITCH="initialStreamSwitch",e.INIT_FRAGMENT_LOADED="initFragmentLoaded",e.INIT_FRAGMENT_NEEDED="initFragmentNeeded",e.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",e.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",e.LOADING_COMPLETED="loadingCompleted",e.LOADING_PROGRESS="loadingProgress",e.LOADING_DATA_PROGRESS="loadingDataProgress",e.LOADING_ABANDONED="loadingAborted",e.MANIFEST_UPDATED="manifestUpdated",e.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",e.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",e.QUOTA_EXCEEDED="quotaExceeded",e.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",e.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",e.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",e.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",e.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",e.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",e.SOURCE_BUFFER_ERROR="sourceBufferError",e.STREAMS_COMPOSED="streamsComposed",e.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",e.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",e.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",e.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",e.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",e.URL_RESOLUTION_FAILED="urlResolutionFailed",e.VIDEO_CHUNK_RECEIVED="videoChunkReceived",e.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",e.XLINK_ELEMENT_LOADED="xlinkElementLoaded",e.XLINK_READY="xlinkReady",e.SEEK_TARGET="seekTarget",e.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",e.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",e.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",e.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",e.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",e}return r}(n["default"]);const p=h},"./src/core/events/Events.js":
/*!***********************************!*\
  !*** ./src/core/events/Events.js ***!
  \***********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ./CoreEvents */"./src/core/events/CoreEvents.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(){return a(this,r),t.apply(this,arguments)}return r}(n["default"]),p=new h;const g=p},"./src/core/events/EventsBase.js":
/*!***************************************!*\
  !*** ./src/core/events/EventsBase.js ***!
  \***************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>s});var o=function(){function e(){n(this,e)}return a(e,[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();const s=o},"./src/dash/DashAdapter.js":
/*!*********************************!*\
  !*** ./src/dash/DashAdapter.js ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ./constants/DashConstants */"./src/dash/constants/DashConstants.js"),i=r(/*! ./vo/RepresentationInfo */"./src/dash/vo/RepresentationInfo.js"),a=r(/*! ./vo/MediaInfo */"./src/dash/vo/MediaInfo.js"),o=r(/*! ./vo/StreamInfo */"./src/dash/vo/StreamInfo.js"),s=r(/*! ./vo/ManifestInfo */"./src/dash/vo/ManifestInfo.js"),u=r(/*! ./vo/Event */"./src/dash/vo/Event.js"),l=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),c=r(/*! ./models/DashManifestModel */"./src/dash/models/DashManifestModel.js"),f=r(/*! ./models/PatchManifestModel */"./src/dash/models/PatchManifestModel.js"),d=r(/*! bcp-47-normalize */"./node_modules/bcp-47-normalize/index.js"),h=r.n(d);function p(){var e,t,r,l,d,p,g,m=this.context,v="urn:dvb:dash:profile:dvb-dash:2014";function y(){t=(0,c["default"])(m).getInstance(),r=(0,f["default"])(m).getInstance(),oe()}function b(e){e&&(e.constants&&(p=e.constants),e.cea608parser&&(g=e.cea608parser),e.errHandler&&t.setConfig({errHandler:e.errHandler}),e.BASE64&&t.setConfig({BASE64:e.BASE64}))}function E(e){if(e){var r=new i["default"],n=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],a=t.getRepresentationFor(e.index,n);return r.id=e.id,r.quality=e.index,r.bandwidth=t.getBandwidth(a),r.fragmentDuration=e.segmentDuration||(e.segments&&e.segments.length>0?e.segments[0].duration:NaN),r.MSETimeOffset=e.MSETimeOffset,r.mediaInfo=de(e.adaptation),r}return null}function _(e,r){if(0===l.length||!e)return null;var n=fe(e,l);if(!n)return null;var i=t.getAdaptationsForPeriod(n),a=w(e.index,r,e);if(!a)return null;var o=t.getIndexForAdaptation(a,l[0].mpd.manifest,e.index);return de(i[o])}function T(e){return t.getRolesForAdaptation(e).filter((function(e){return e.value===n["default"].MAIN}))[0]}function w(e,r,n){var i=t.getAdaptationsForType(l[0].mpd.manifest,e,r);if(!i||0===i.length)return null;if(i.length>1&&n){var a=R(n,r);if(d[n.id]&&d[n.id][r])for(var o=0,s=i.length;o<s;o++)if(S(d[n.id][r],a[o]))return i[o];for(var u=0,c=i.length;u<c;u++)if(T(i[u]))return i[u]}return i[0]}function S(e,t){if(!e||!t)return!1;var r=e.id===t.id,n=e.codec===t.codec,i=e.viewpoint===t.viewpoint,a=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),s=e.accessibility.toString()===t.accessibility.toString(),u=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return r&&n&&i&&a&&o&&s&&u}function A(e,r,n,i,a,o){var s,u,l,c,f,d,h=[];if(!i||0===i.length)return[];var g=t.getAdaptationsForPeriod(r);for(c=0,d=i.length;c<d;c++)if(s=i[c],l=t.getIndexForAdaptation(s,e,n.index),u=de(g[l]),o){var m=u.accessibility.length;for(f=0;f<m;f++)if(u){var v=u.accessibility[f];if(0===v.indexOf("cea-608:")){var y=v.substring(8),b=y.split(";");if("CC"===b[0].substring(0,2))for(f=0;f<b.length;f++)u||(u=de.call(this,g[l])),he(u,b[f].substring(0,3),b[f].substring(4)),h.push(u),u=null;else for(f=0;f<b.length;f++)u||(u=de.call(this,g[l])),he(u,"CC"+(f+1),b[f]),h.push(u),u=null}else 0===v.indexOf("cea-608")&&(he(u,p.CC1,"eng"),h.push(u),u=null)}}else a===p.IMAGE?(pe(u),h.push(u),u=null):u&&h.push(u);return h}function R(e,r,n){var i=l,a=n,o=[];if(a)ve(),i=V(a);else{if(!(l.length>0))return o;a=l[0].mpd.manifest}var s=fe(e,i),u=t.getAdaptationsForType(a,e?e.index:null,r);return o=A(a,s,e,u,r),r===p.TEXT&&(u=t.getAdaptationsForType(a,e?e.index:null,p.VIDEO),o=o.concat(A(a,s,e,u,r,!0))),o}function I(e){if(!e)return null;ve(),l=V(e)}function C(e,t){var r=[],n=l;if(e&&(ve(),n=V(e)),n.length>0){(!t||t>n.length)&&(t=n.length);for(var i=0;i<t;i++)r.push(ge(n[i]))}return r}function D(e,r){var n,i,a=fe(e,l);return n=r?r.id:null,l.length>0&&a&&(i=n?t.getAdaptationForId(n,l[0].mpd.manifest,a.index):t.getAdaptationForIndex(r?r.index:null,l[0].mpd.manifest,a.index)),i}function N(e,r){var n,i,a=fe(e,l);return n=r?r.id:null,l.length>0&&a&&(i=n?t.getAdaptationForId(n,l[0].mpd.manifest,a.index):t.getAdaptationForIndex(r?r.index:null,l[0].mpd.manifest,a.index)),i?t.getProducerReferenceTimesForAdaptation(i):[]}function x(e){try{return t.getEssentialPropertiesForRepresentation(e)}catch(r){return[]}}function M(e){return t.getRealPeriodForIndex(e,l[0].mpd.manifest)}function O(e){var r,n=ce(e);return r=t.getRepresentationsForAdaptation(n),r}function P(e,t,r,n){try{if(!e||!t||isNaN(r)||!n)return null;var i=e.scheme_id_uri,a=e.value;if(!t[i+"/"+a])return null;var o,s=new u["default"],l=e.timescale||1,c=n.adaptation.period.start,f=t[i+"/"+a],d=isNaN(n.presentationTimeOffset)?isNaN(f.presentationTimeOffset)?0:f.presentationTimeOffset:n.presentationTimeOffset,h=e.presentation_time_delta/l;o=0===e.version?c+r-d+h:c-d+h;var p=e.event_duration/l,g=e.id,m=e.message_data;return s.eventStream=f,s.eventStream.value=a,s.eventStream.timescale=l,s.duration=p,s.id=g,s.calculatedPresentationTime=o,s.messageData=m,s.presentationTimeDelta=h,s}catch(v){return null}}function L(e,r,n){var s=[];if(l.length>0){var u=l[0].mpd.manifest;if(e instanceof o["default"]){var c=fe(e,l);s=t.getEventsForPeriod(c)}else if(e instanceof a["default"]){var f=fe(n,l);s=t.getEventStreamForAdaptationSet(u,ce(e),f)}else if(e instanceof i["default"]){var d=fe(n,l);s=t.getEventStreamForRepresentation(u,r,d)}}return s}function k(e,t,r){d[e]=d[e]||{},d[e][t]=d[e][t]||{},d[e][t]=r}function F(e){return t.getIsText(e)}function j(){var e=le();return t.getUTCTimingSources(e)}function B(){var e=l.length>0?l[0].mpd:null;return t.getSuggestedPresentationDelay(e)}function U(e){var r=H(e);return t.getAvailabilityStartTime(r)}function q(e){var r=le(e);return t.getIsDynamic(r)}function G(e){var r=le(e);return t.getDuration(r)}function V(e){var r=H(e);return t.getRegularPeriods(r)}function H(e){var r=le(e);return t.getMpd(r)}function Y(e){return t.getContentSteering(e)}function z(e){return t.getLocation(e)}function K(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.getManifestUpdatePeriod(e,r)}function W(e){return t.getPublishTime(e)}function $(e){var r=t.getPatchLocation(e),n=t.getPublishTime(e);if(!r||!n)return null;if(r.hasOwnProperty("ttl")&&n){var i=1e3*parseFloat(r.ttl);if(n.getTime()+i<=(new Date).getTime())return null}return r.__text}function X(e){return t.hasProfile(e,v)}function Q(e){return r.getIsPatch(e)}function Z(e){return t.getBaseURLsFromElement(e)}function J(){return t.getRepresentationSortFunction()}function ee(e,r,n){return t.getCodec(e,r,n)}function te(e,t){var r,n=ye(t);return r=Ee(n,e),r?r.bandwidth:null}function re(e,t){var r=ye(t);return be(r,e)}function ne(e,t){var r=ye(t);return _e(r,e)}function ie(e){if(!e||0===l.length)return null;var t=l.filter((function(t){return t.id===e}));return t&&t.length>0?t[0]:null}function ae(e,r){return t.getIsTypeOf(e,r)}function oe(){l=[],d={}}function se(e,n){var i=t.getId(e),a=r.getMpdId(n),o=t.getPublishTime(e),s=r.getPublishTime(n),u=r.getOriginalPublishTime(n);return!!(i&&a&&i==a&&o&&u&&o.getTime()==u.getTime()&&s&&o.getTime()<s.getTime())}function ue(e,t){r.getPatchOperations(t).forEach((function(t){var r=t.getMpdTarget(e);if(null!==r){var n=r.name,i=r.target,a=r.leaf;if(t.xpath.findsAttribute())switch(t.action){case"add":case"replace":i[n]=t.value;break;case"remove":delete i[n];break}else{var o=(i[n+"_asArray"]||[]).indexOf(a),s="prepend"===t.position||"before"===t.position;if(("remove"===t.action||"replace"===t.action)&&(delete i[n],-1!=o)){var u=i[n+"_asArray"];u.splice(o,1),u.length>1?i[n]=u:1==u.length?i[n]=u[0]:delete i[n+"_asArray"]}"add"!==t.action&&"replace"!==t.action||Object.keys(t.value).forEach((function(e){var r=t.value[e],a=i[e+"_asArray"]||[];if(0===a.length&&i[e]&&a.push(i[e]),0===a.length)a=r;else{var u=a.length;u=e==n&&-1!=o?o+(s?0:1)+("replace"==t.action?-1:0):s?0:a.length,a.splice.apply(a,[u,0].concat(r))}i[e+"_asArray"]=a,i[e]=1==a.length?a[0]:a}))}}}))}function le(e){return e||(l.length>0?l[0].mpd.manifest:null)}function ce(e){try{var r=fe(e.streamInfo,l),n=t.getAdaptationsForPeriod(r);return e&&e.streamInfo&&void 0!==e.streamInfo.id&&n?n[e.index]:null}catch(i){return null}}function fe(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n];if(e&&e.id===i.id)return i}return null}function de(e){if(!e)return null;var r,n=new a["default"],i=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];if(n.id=e.id,n.index=e.index,n.type=e.type,n.streamInfo=ge(e.period),n.representationCount=t.getRepresentationCount(i),n.labels=t.getLabelsForAdaptation(i),n.lang=t.getLanguageForAdaptation(i),r=t.getViewpointForAdaptation(i),n.viewpoint=r?r.value:void 0,n.accessibility=t.getAccessibilityForAdaptation(i).map((function(e){var t=e.value,r=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&"undefined"!==typeof g&&(r=t?"cea-608:"+t:"cea-608",n.embeddedCaptions=!0),r})),n.audioChannelConfiguration=t.getAudioChannelConfigurationForAdaptation(i).map((function(e){return e.value})),0===n.audioChannelConfiguration.length&&Array.isArray(i.Representation_asArray)&&i.Representation_asArray.length>0&&(n.audioChannelConfiguration=t.getAudioChannelConfigurationForRepresentation(i.Representation_asArray[0]).map((function(e){return e.value}))),n.roles=t.getRolesForAdaptation(i).map((function(e){return e.value})),n.codec=t.getCodec(i),n.mimeType=t.getMimeType(i),n.contentProtection=t.getContentProtectionData(i),n.bitrateList=t.getBitrateListForAdaptation(i),n.selectionPriority=t.getSelectionPriority(i),n.contentProtection){var o=n.contentProtection.map((function(e){return t.getKID(e)})).filter((function(e){return null!==e}));if(o.length){var s=o[0];n.contentProtection.forEach((function(e){e.keyId=s}))}}return n.isText=t.getIsText(i),n.supplementalProperties=t.getSupplementalProperties(i),n.isFragmented=t.getIsFragmented(i),n.isEmbedded=!1,n}function he(e,t,r){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=p.TEXT,e.codec="cea-608-in-SEI",e.isEmbedded=!0,e.isFragmented=!1,e.lang=h()(r),e.roles=["caption"]}function pe(e){e.type=p.IMAGE}function ge(e){var t=new o["default"],r=1;return t.id=e.id,t.index=e.index,t.start=e.start,t.duration=e.duration,t.manifestInfo=me(e.mpd),t.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(t.start+t.duration-t.manifestInfo.duration)<r,t}function me(e){var r=new s["default"];return r.dvrWindowSize=e.timeShiftBufferDepth,r.loadedTime=e.manifest.loadedTime,r.availableFrom=e.availabilityStartTime,r.minBufferTime=e.manifest.minBufferTime,r.maxFragmentDuration=e.maxSegmentDuration,r.duration=t.getDuration(e.manifest),r.isDynamic=t.getIsDynamic(e.manifest),r.serviceDescriptions=t.getServiceDescriptions(e.manifest),r.protocol=e.manifest.protocol,r}function ve(){if(!p)throw new Error("setConfig function has to be called previously")}function ye(e){return l.length>0?l[0].mpd.manifest.Period_asArray[e]:null}function be(e,t){var r=Ee(e,t,!0);return null!==r?r:-1}function Ee(e,t,r){var n,i,a,o,s,u;if(e)for(i=e.AdaptationSet_asArray,s=0;s<i.length;s+=1)for(n=i[s],o=n.Representation_asArray,u=0;u<o.length;u+=1)if(a=o[u],t===a.id)return r?u:a;return null}function _e(e,r){var n,i,a,o;if(!e||!r)return-1;for(i=e.AdaptationSet_asArray,o=0;o<i.length;o+=1)if(n=i[o],a=n.Representation_asArray,t.getIsTypeOf(n,r))return a.length;return-1}return e={getBandwidthForRepresentation:te,getIndexForRepresentation:re,getMaxIndexForBufferType:ne,convertRepresentationToRepresentationInfo:E,getStreamsInfo:C,getMediaInfoForType:_,getAllMediaInfoForType:R,getAdaptationForType:w,getRealAdaptation:D,getProducerReferenceTimes:N,getRealPeriodByIndex:M,getEssentialPropertiesForRepresentation:x,getVoRepresentations:O,getEventsFor:L,getEvent:P,getMpd:H,setConfig:b,updatePeriods:I,getIsTextTrack:F,getUTCTimingSources:j,getSuggestedPresentationDelay:B,getAvailabilityStartTime:U,getIsTypeOf:ae,getIsDynamic:q,getDuration:G,getRegularPeriods:V,getContentSteering:Y,getLocation:z,getPatchLocation:$,getManifestUpdatePeriod:K,getPublishTime:W,getIsDVB:X,getIsPatch:Q,getBaseURLsFromElement:Z,getRepresentationSortFunction:J,getCodec:ee,getPeriodById:ie,setCurrentMediaInfo:k,isPatchValid:se,applyPatchToManifest:ue,areMediaInfosEqual:S,reset:oe},y(),e}p.__dashjs_factory_name="DashAdapter";const g=l["default"].getSingletonFactory(p)},"./src/dash/DashHandler.js":
/*!*********************************!*\
  !*** ./src/dash/DashHandler.js ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../streaming/vo/FragmentRequest */"./src/streaming/vo/FragmentRequest.js"),i=r(/*! ../streaming/vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),a=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),s=r(/*! ./utils/SegmentsUtils */"./src/dash/utils/SegmentsUtils.js"),u=r(/*! ./constants/DashConstants */"./src/dash/constants/DashConstants.js"),l=.5,c=.001;function f(e){e=e||{};var t,r,a,f,d,h=e.eventBus,p=e.debug,g=e.urlUtils,m=e.type,v=e.streamInfo,y=e.segmentsController,b=e.timelineConverter,E=e.baseURLController;function _(){r=p.getLogger(t),R(),h.on(o["default"].DYNAMIC_TO_STATIC,j,t)}function T(e){f=e,d=!1,y.initialize(e)}function w(){return v.id}function S(){return m}function A(){return v}function R(){a=null}function I(){R(),h.off(o["default"].DYNAMIC_TO_STATIC,j,t)}function C(e,t,r){var n,i,a=E.resolve(r.path);return a&&t!==a.url&&g.isRelative(t)?(n=a.url,i=a.serviceLocation,t&&(n=g.resolve(t,n))):n=t,!g.isRelative(n)&&(e.url=n,e.serviceLocation=i,!0)}function D(e,t){return t?N(e,t,S()):null}function N(e,t,r){var a=new n["default"],o=t.adaptation.period,u=o.start;if(a.mediaType=r,a.type=i.HTTPRequest.INIT_SEGMENT_TYPE,a.range=t.range,a.availabilityStartTime=b.calcAvailabilityStartTimeFromPresentationTime(u,t,f),a.availabilityEndTime=b.calcAvailabilityEndTimeFromPresentationTime(u+o.duration,t,f),a.quality=t.index,a.mediaInfo=e,a.representationId=t.id,C(a,t.initialization,t))return a.url=(0,s.replaceTokenForTemplate)(a.url,"Bandwidth",t.bandwidth),a}function x(e,t){if(null===t||void 0===t)return null;var r=new n["default"],a=t.representation,o=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].bandwidth,u=t.media;return u=(0,s.replaceTokenForTemplate)(u,"Number",t.replacementNumber),u=(0,s.replaceTokenForTemplate)(u,"Time",t.replacementTime),u=(0,s.replaceTokenForTemplate)(u,"Bandwidth",o),u=(0,s.replaceIDForTemplate)(u,a.id),u=(0,s.unescapeDollarsInTemplate)(u),r.mediaType=S(),r.type=i.HTTPRequest.MEDIA_SEGMENT_TYPE,r.range=t.mediaRange,r.startTime=t.presentationStartTime,r.mediaStartTime=t.mediaStartTime,r.duration=t.duration,r.timescale=a.timescale,r.availabilityStartTime=t.availabilityStartTime,r.availabilityEndTime=t.availabilityEndTime,r.availabilityTimeComplete=a.availabilityTimeComplete,r.wallStartTime=t.wallStartTime,r.quality=a.index,r.index=t.index,r.mediaInfo=e,r.adaptationIndex=a.adaptation.index,r.representationId=a.id,C(r,u,a)?r:void 0}function M(e,t){if(!e||!a)return!1;if(d)return!0;if(!isFinite(e.adaptation.period.duration))return!1;if(a.presentationStartTime+a.duration>t)return!1;if(e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.numberOfSegments)&&!isNaN(a.index)&&a.index>=e.mediaFinishedInformation.numberOfSegments-1){if(!f||e.segmentInfoType===u["default"].SEGMENT_TEMPLATE)return!0;if(f&&e.segmentInfoType===u["default"].SEGMENT_LIST&&e.adaptation.period.nextPeriodId)return!0}return!!(f&&e.adaptation.period.nextPeriodId&&e.segmentInfoType===u["default"].SEGMENT_TIMELINE&&e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&a&&!isNaN(a.mediaStartTime)&&!isNaN(a.duration)&&a.mediaStartTime+a.duration>=e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)}function O(e,t,n){var i=null;if(!t||!t.segmentInfoType)return i;var o=y.getSegmentByTime(t,n);return o&&(a=o,r.debug("Index for time "+n+" is "+o.index),i=x(e,o)),i}function P(e,t){var r=null,n=a?a.index+1:0,i=y.getSegmentByIndex(t,n,a?a.mediaStartTime:-1);return i?(r=x(e,i),r):null}function L(e,t){var n=null;if(!t||!t.segmentInfoType)return null;var i=a?a.index+1:0,o=y.getSegmentByIndex(t,i,a?a.mediaStartTime:-1);if(o)n=x(e,o),a=o;else{if(f&&!d)return r.debug(S()+" No segment found at index: "+i+". Wait for next loop"),null;d=!0}return n}function k(e,t,r,n){try{if(isNaN(e)||!t||!r)return NaN;if(e<0&&(e=0),isNaN(n)&&(n=l),O(t,r,e))return e;if(r.adaptation.period.start+r.adaptation.period.duration<e)return NaN;var i=isFinite(r.adaptation.period.duration)?r.adaptation.period.start+r.adaptation.period.duration:e+30,a=Math.min(e+n,i),o=NaN,s=null;while(a<=i){var u=null;if(a<=i&&(u=O(t,r,a)),u){o=a,s=u;break}a+=n}if(s){var f=s.startTime+s.duration;return e>s.startTime&&f-e>n?e:!isNaN(s.startTime)&&e<s.startTime&&o>s.startTime?s.startTime+c:Math.min(f-n,o)}return o}catch(d){return NaN}}function F(){return a?a.index:-1}function j(){r.debug("Dynamic stream complete"),d=!0}return t={initialize:T,getStreamId:w,getType:S,getStreamInfo:A,getInitRequest:D,getSegmentRequestForTime:O,getCurrentIndex:F,getNextSegmentRequest:L,isLastSegmentRequested:M,reset:I,getNextSegmentRequestIdempotent:P,getValidTimeAheadOfTargetTime:k},_(),t}f.__dashjs_factory_name="DashHandler";const d=a["default"].getClassFactory(f)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
  !*** ./src/dash/DashMetrics.js ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../streaming/vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),a=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../streaming/constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),s=r(/*! ./utils/Round10 */"./src/dash/utils/Round10.js"),u=r(/*! ../streaming/models/MetricsModel */"./src/streaming/models/MetricsModel.js"),l=r(/*! ../core/Utils */"./src/core/Utils.js"),c=r(/*! ../streaming/vo/metrics/PlayList */"./src/streaming/vo/metrics/PlayList.js");function f(e){e=e||{};var t,r,a,f,d=this.context,h=e.metricsModel;function p(){h=h||(0,u["default"])(d).getInstance({settings:e.settings}),g()}function g(){r=!0,a=null,f=null}function m(e){var t=h.getMetricsFor(e,!0);return R(t,o["default"].TRACK_SWITCH)}function v(e,t,r,n,i){h.addRepresentationSwitch(e,t,r,n,i)}function y(e){var t=h.getMetricsFor(e,!0);return R(t,o["default"].BUFFER_STATE)}function b(e){var t=h.getMetricsFor(e,!0),r=R(t,o["default"].BUFFER_LEVEL);return r?s["default"].round10(r.level/1e3,-3):0}function E(e,t,r){h.addBufferLevel(e,t,r)}function _(e,t,r){h.addBufferState(e,t,r)}function T(){h.clearAllCurrentMetrics()}function w(e){var t=h.getMetricsFor(e,!0);if(!t)return null;var r,n=t.HttpList,i=null;if(!n||n.length<=0)return null;r=n.length-1;while(r>=0){if(n[r].responsecode){i=n[r];break}r--}return i}function S(e){var t=h.getMetricsFor(e,!0);return t&&t.HttpList?t.HttpList:[]}function A(e,t,r){h.addRequestsQueue(e,t,r)}function R(e,t){if(!e)return null;var r=e[t];return r&&0!==r.length?r[r.length-1]:null}function I(){var e=h.getMetricsFor(n["default"].VIDEO,!0);return R(e,o["default"].DROPPED_FRAMES)}function C(e){h.addDroppedFrames(n["default"].VIDEO,e)}function D(e){var t=h.getMetricsFor(e,!0);return R(t,o["default"].SCHEDULING_INFO)}function N(e,t){h.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t)}function x(){var e=h.getMetricsFor(n["default"].STREAM);return R(e,o["default"].MANIFEST_UPDATE)}function M(e){var t=this.getCurrentManifestUpdate();h.updateManifestUpdateInfo(t,e)}function O(e){if(e){var t=this.getCurrentManifestUpdate();h.addManifestUpdateStreamInfo(t,e.id,e.index,e.start,e.duration)}}function P(e){h.addManifestUpdate(n["default"].STREAM,e.type,e.requestStartDate,e.requestEndDate)}function L(e,t,r,n,i,a){h.addHttpRequest(e.mediaType,null,e.type,e.url,e.quality,t,e.serviceLocation||null,e.range||null,e.requestStartDate,e.firstByteDate,e.requestEndDate,r,e.duration,n,i,e.fileLoaderType,a)}function k(e,t){if(e){var r=this.getCurrentManifestUpdate();h.addManifestUpdateRepresentationInfo(r,e.id,e.index,e.streamIndex,t,e.presentationTimeOffset,e.startNumber,e.fragmentInfoType)}}function F(e){var t=e?h.getMetricsFor(e,!0):h.getMetricsFor(n["default"].VIDEO,!0)||h.getMetricsFor(n["default"].AUDIO,!0);return R(t,o["default"].DVR_INFO)}function j(e,t,r,n){h.addDVRInfo(e,t,r,n)}function B(e){if(!e)return null;var t,r,a,o={};for(t=S(n["default"].STREAM),a=t.length-1;a>=0;a--)if(r=t[a],r.type===i.HTTPRequest.MPD_TYPE){o=l["default"].parseHttpHeaders(r._responseHeaders);break}var s=o[e.toLowerCase()];return void 0===s?null:s}function U(e,t){if(!t)return null;var r={},n=w(e);n&&(r=l["default"].parseHttpHeaders(n._responseHeaders));var i=r[t.toLowerCase()];return void 0===i?null:i}function q(){f&&(h.addPlayList(f),f=null)}function G(e,t){f=new c.PlayList,f.start=new Date,f.mstart=e,f.starttype=t}function V(e,t,n){!0===r&&(r=!1,a=new c.PlayListTrace,a.representationid=e,a.start=new Date,a.mstart=t,a.playbackspeed=null!==n?n.toString():null)}function H(e){if(a)for(var t in a)a[t]=e[t]}function Y(e,t){if(!1===r&&f&&a&&a.start){var n=a.start,i=e.getTime()-n.getTime();a.duration=i,a.stopreason=t,f.trace.push(a),r=!0}}function z(e){h.addDVBErrors(e)}return t={getCurrentRepresentationSwitch:m,getCurrentBufferState:y,getCurrentBufferLevel:b,getCurrentHttpRequest:w,getHttpRequests:S,getCurrentDroppedFrames:I,getCurrentSchedulingInfo:D,getCurrentDVRInfo:F,getCurrentManifestUpdate:x,getLatestFragmentRequestHeaderValueByID:U,getLatestMPDRequestHeaderValueByID:B,addRepresentationSwitch:v,addDVRInfo:j,updateManifestUpdateInfo:M,addManifestUpdateStreamInfo:O,addManifestUpdateRepresentationInfo:k,addManifestUpdate:P,addHttpRequest:L,addSchedulingInfo:N,addRequestsQueue:A,addBufferLevel:E,addBufferState:_,addDroppedFrames:C,addPlayList:q,addDVBErrors:z,createPlaylistMetrics:G,createPlaylistTraceMetrics:V,updatePlayListTraceMetrics:H,pushPlayListTraceMetrics:Y,clearAllCurrentMetrics:T},p(),t}f.__dashjs_factory_name="DashMetrics";const d=a["default"].getSingletonFactory(f)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
  !*** ./src/dash/SegmentBaseLoader.js ***!
  \***************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ./vo/Segment */"./src/dash/vo/Segment.js"),i=r(/*! ../streaming/vo/DashJSError */"./src/streaming/vo/DashJSError.js"),a=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../streaming/vo/FragmentRequest */"./src/streaming/vo/FragmentRequest.js"),s=r(/*! ../streaming/net/URLLoader */"./src/streaming/net/URLLoader.js");function u(){var e,t,r,a,u,l,c,f,d,h,p,g,m,v=this.context;function y(){}function b(){f=(0,s["default"])(v).create({errHandler:r,dashMetrics:l,mediaPlayerModel:c,requestModifier:u,boxParser:a,errors:d,urlUtils:g,constants:h,dashConstants:p})}function E(n){n.baseURLController&&(m=n.baseURLController),n.dashMetrics&&(l=n.dashMetrics),n.mediaPlayerModel&&(c=n.mediaPlayerModel),n.errHandler&&(r=n.errHandler),n.boxParser&&(a=n.boxParser),n.debug&&(t=n.debug.getLogger(e)),n.requestModifier&&(u=n.requestModifier),n.errors&&(d=n.errors),n.urlUtils&&(g=n.urlUtils),n.constants&&(h=n.constants),n.dashConstants&&(p=n.dashConstants)}function _(e,t){return new Promise((function(r){T(e,t,r)}))}function T(e,r,n,i){var o=null,s=e?m.resolve(e.path):null,u=i||{init:!0,url:s?s.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:r};t.debug("Start searching for initialization.");var l=C(u),c=function(t){if(u.bytesLoaded=u.range.end,o=a.findInitRange(t),!o)return u.range.end=u.bytesLoaded+u.bytesToLoad,T(e,r,n,u);e.range=o,n(e)},d=function(){n(e)};f.load({request:l,success:c,error:d}),t.debug("Perform init search: "+u.url)}function w(e,t,r){return new Promise((function(n){S(e,t,r,n)}))}function S(e,r,n,i,o,s){if(n&&(void 0===n.start||void 0===n.end)){var u=n?n.toString().split("-"):null;n=u?{start:parseFloat(u[0]),end:parseFloat(u[1])}:null}o=o||A;var l=null,c=null,d=!!n,h=e?m.resolve(e.path):null,p={init:!1,url:h?h.url:void 0,range:d?n:{start:0,end:1500},searching:!d,bytesLoaded:s?s.bytesLoaded:0,bytesToLoad:1500,mediaType:r},g=C(p),v=function(n){var s=p.bytesToLoad,u=n.byteLength;if(p.bytesLoaded=p.range.end-p.range.start,l=a.parse(n),c=l.getBox("sidx"),c&&c.isComplete){var f,d,h=c.references;if(null!==h&&void 0!==h&&h.length>0&&(f=1===h[0].reference_type),f){var g,m,v,y,b;t.debug("Initiate multiple SIDX load."),p.range.end=p.range.start+c.size;var E=[],_=0,T=(c.offset||p.range.start)+c.size,w=function(t){t?(E=E.concat(t),_++,_>=m&&(E.sort((function(e,t){return e.startTime-t.startTime<0?-1:0})),o(E,e,i))):o(null,e,i)};for(g=0,m=h.length;g<m;g++)v=T,y=T+h[g].referenced_size-1,T+=h[g].referenced_size,b={start:v,end:y},S(e,r,b,i,w,p)}else t.debug("Parsing segments from SIDX. representation "+r+" - id: "+e.id+" for range : "+p.range.start+" - "+p.range.end),d=I(c,p),o(d,e,i)}else{if(c)p.range.start=c.offset||p.range.start,p.range.end=p.range.start+(c.size||s);else{if(u<p.bytesLoaded)return void o(null,e,i);var A=l.getLastBox();A&&A.size?(p.range.start=A.offset+A.size,p.range.end=p.range.start+s):p.range.end+=s}S(e,r,p.range,i,null,p)}},y=function(){o(null,e,i)};f.load({request:g,success:v,error:y}),t.debug("Perform SIDX load for type ".concat(r," : ").concat(p.url," with range ").concat(p.range.start," - ").concat(p.range.end))}function A(e,t,r){r({segments:e,representation:t,error:e?void 0:new i["default"](d.SEGMENT_BASE_LOADER_ERROR_CODE,d.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function R(){f&&(f.abort(),f=null)}function I(e,t){for(var r,i,a,o,s=e.references,u=s.length,l=e.timescale,c=e.earliest_presentation_time,f=t.range.start+e.offset+e.first_offset+e.size,d=[],h=0;h<u;h++)a=s[h].subsegment_duration,o=s[h].referenced_size,r=new n["default"],r.duration=a,r.startTime=c,r.timescale=l,i=f+o-1,r.mediaRange=f+"-"+i,d.push(r),c+=a,f+=o;return d}function C(e){if(e.url){var t=new o["default"];return t.setInfo(e),t}}return e={setConfig:E,initialize:b,loadInitialization:_,loadSegments:w,reset:R},y(),e}u.__dashjs_factory_name="SegmentBaseLoader";const l=a["default"].getSingletonFactory(u)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../streaming/utils/EBMLParser */"./src/streaming/utils/EBMLParser.js"),i=r(/*! ../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),a=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ./vo/Segment */"./src/dash/vo/Segment.js"),s=r(/*! ../streaming/vo/FragmentRequest */"./src/streaming/vo/FragmentRequest.js"),u=r(/*! ../streaming/net/URLLoader */"./src/streaming/net/URLLoader.js"),l=r(/*! ../streaming/vo/DashJSError */"./src/streaming/vo/DashJSError.js");function c(){var e,t,r,a,c,f,d,h,p,g,m=this.context;function v(){r={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}function y(){h=(0,u["default"])(m).create({errHandler:a,dashMetrics:f,mediaPlayerModel:d,requestModifier:c,errors:p})}function b(r){if(!r.baseURLController||!r.dashMetrics||!r.mediaPlayerModel||!r.errHandler)throw new Error(i["default"].MISSING_CONFIG_ERROR);g=r.baseURLController,f=r.dashMetrics,d=r.mediaPlayerModel,a=r.errHandler,p=r.errors,t=r.debug.getLogger(e),c=r.requestModifier}function E(e){var t,i,a=[],o=(0,n["default"])(m).create({data:e});o.consumeTagAndSize(r.Segment.Cues);while(o.moreData()&&o.consumeTagAndSize(r.Segment.Cues.CuePoint,!0)){t={},t.CueTime=o.parseTag(r.Segment.Cues.CuePoint.CueTime),t.CueTracks=[];while(o.moreData()&&o.consumeTag(r.Segment.Cues.CuePoint.CueTrackPositions,!0)){var s=o.getMatroskaCodedNum(),u=o.getPos();if(i={},i.Track=o.parseTag(r.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=o.parseTag(r.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),t.CueTracks.push(i),o.setPos(u+s)}if(0===t.CueTracks.length)throw new Error("Mandatory cuetrack not found");a.push(t)}if(0===a.length)throw new Error("mandatory cuepoint not found");return a}function _(e,r,n,i){var a,s,u,l,c,f,d,h;for(s=E(e),u=[],c=0,f=s.length;c<f;c+=1)l=new o["default"],a=0,a=c<s.length-1?s[c+1].CueTime-s[c].CueTime:i-s[c].CueTime,l.duration=a,l.startTime=s[c].CueTime,l.timescale=1e3,d=s[c].CueTracks[0].ClusterPosition+r,h=c<s.length-1?s[c+1].CueTracks[0].ClusterPosition+r-1:n-1,l.mediaRange=d+"-"+h,u.push(l);return t.debug("Parsed cues: "+u.length+" cues."),u}function T(e,i,a,o){if(e&&0!==e.byteLength){var s,u,l,c,f=(0,n["default"])(m).create({data:e}),d=a?a.split("-"):null,p=null,g={url:i,range:{start:d?parseFloat(d[0]):null,end:d?parseFloat(d[1]):null},request:p};t.debug("Parse EBML header: "+g.url),f.skipOverElement(r.EBML),f.consumeTag(r.Segment),l=f.getMatroskaCodedNum(),l+=f.getPos(),c=f.getPos();while(f.moreData()&&!f.consumeTagAndSize(r.Segment.Info,!0))if(!(f.skipOverElement(r.Segment.SeekHead,!0)||f.skipOverElement(r.Segment.Tracks,!0)||f.skipOverElement(r.Segment.Cues,!0)||f.skipOverElement(r.Void,!0)))throw new Error("no valid top level element found");while(void 0===s){var v=f.getMatroskaCodedNum(!0),y=f.getMatroskaCodedNum();switch(v){case r.Segment.Info.Duration.tag:s=f[r.Segment.Info.Duration.parse](y);break;default:f.setPos(f.getPos()+y);break}}p=A(g);var b=function(e){u=_(e,c,l,s),o(u)},E=function(){t.error("Download Error: Cues "+g.url),o(null)};h.load({request:p,success:b,error:E}),t.debug("Perform cues load: "+g.url+" bytes="+g.range.start+"-"+g.range.end)}else o(null)}function w(e,r){return new Promise((function(n){var i=null,a=e?g.resolve(e.path):null,o=e?e.range.split("-"):null,s={range:{start:o?parseFloat(o[0]):null,end:o?parseFloat(o[1]):null},request:i,url:a?a.url:void 0,init:!0,mediaType:r};t.info("Start loading initialization."),i=A(s);var u=function(){n(e)},l=function(){n(e)};h.load({request:i,success:u,error:l}),t.debug("Perform init load: "+s.url)}))}function S(e,r,n){return new Promise((function(i){var a=null,o=e?g.resolve(e.path):null,s=o?o.url:void 0,u=8192,c={bytesLoaded:0,bytesToLoad:u,range:{start:0,end:u},request:a,url:s,init:!1,mediaType:r};a=A(c),t.debug("Parsing ebml header");var f=function(t){T(t,s,n,(function(t){i({segments:t,representation:e,error:t?void 0:new l["default"](p.SEGMENT_BASE_LOADER_ERROR_CODE,p.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}))},d=function(){i({representation:e,error:new l["default"](p.SEGMENT_BASE_LOADER_ERROR_CODE,p.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})};h.load({request:a,success:f,error:d})}))}function A(e){var t=new s["default"];return t.setInfo(e),t}function R(){h&&(h.abort(),h=null)}return e={setConfig:b,initialize:y,loadInitialization:w,loadSegments:S,reset:R},v(),e}c.__dashjs_factory_name="WebmSegmentBaseLoader";const f=a["default"].getSingletonFactory(c)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
  !*** ./src/dash/constants/DashConstants.js ***!
  \*********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>u});var o=function(){function e(){n(this,e),this.init()}return a(e,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),e}(),s=new o;const u=s},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
  !*** ./src/dash/controllers/ContentSteeringController.js ***!
  \***********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../../streaming/net/URLLoader */"./src/streaming/net/URLLoader.js"),o=r(/*! ../../core/errors/Errors */"./src/core/errors/Errors.js"),s=r(/*! ../vo/ContentSteeringRequest */"./src/dash/vo/ContentSteeringRequest.js"),u=r(/*! ../vo/ContentSteeringResponse */"./src/dash/vo/ContentSteeringResponse.js"),l=r(/*! ../constants/DashConstants */"./src/dash/constants/DashConstants.js"),c=r(/*! ../../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),f=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),d=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),h=r(/*! ../../core/Utils */"./src/core/Utils.js"),p=r(/*! ../../streaming/utils/URLUtils */"./src/streaming/utils/URLUtils.js"),g={THROUGHPUT:"_DASH_throughput",PATHWAY:"_DASH_pathway",URL:"url"};function m(){var e,t,r,n,m,v,y,b,E,_,T,w,S,A,R,I=this.context,C=(0,p["default"])(I).getInstance();function D(){t=(0,i["default"])(I).getInstance().getLogger(e),H()}function N(e){e&&(e.adapter&&(R=e.adapter),e.errHandler&&(b=e.errHandler),e.dashMetrics&&(E=e.dashMetrics),e.mediaPlayerModel&&(_=e.mediaPlayerModel),e.requestModifier&&(w=e.requestModifier),e.manifestModel&&(T=e.manifestModel),e.abrController&&(S=e.abrController),e.eventBus&&(A=e.eventBus))}function x(){y=(0,a["default"])(I).create({errHandler:b,dashMetrics:E,mediaPlayerModel:_,requestModifier:w,errors:o["default"]}),A.on(c["default"].PERIOD_SWITCH_COMPLETED,M,e),A.on(f["default"].FRAGMENT_LOADING_STARTED,O,e)}function M(e){e&&e.toStreamInfo&&(n=e.toStreamInfo)}function O(e){e&&e.request&&e.request.serviceLocation&&(m=e.request.serviceLocation)}function P(){var e=T.getValue();return R.getContentSteering(e)}function L(){var e=P();return e&&e.queryBeforeStart}function k(){return new Promise((function(e){try{var t=P();if(!t||!t.serverUrl)return void e();var n=F(t),i=new s["default"](n);y.load({request:i,success:function(t){j(t),A.trigger(c["default"].CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:r,url:n}),e()},error:function(t){q(t),e(t)}})}catch(a){e(a)}}))}function F(e){var t=e.proxyServerUrl?e.proxyServerUrl:e.serverUrl;r&&r.reloadUri&&(t=C.isRelative(r.reloadUri)?C.resolve(r.reloadUri,e.serverUrl):r.reloadUri);var i=[];if(n){var a=R.getIsDynamic(),o=R.getAllMediaInfoForType(n,d["default"].VIDEO).length>0?d["default"].VIDEO:d["default"].AUDIO,s=S.getThroughputHistory(),u=s?s.getAverageThroughput(o,a):NaN;isNaN(u)||i.push({key:g.THROUGHPUT,value:1e3*u})}return m&&i.push({key:g.PATHWAY,value:m}),e.proxyServerUrl&&e.proxyServerUrl===t&&e.serverUrl&&i.push({key:g.URL,value:encodeURI(e.serverUrl)}),t=h["default"].addAditionalQueryParameterToUrl(t,i),t}function j(e){e&&e[l["default"].CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(e[l["default"].CONTENT_STEERING_RESPONSE.VERSION])&&(r=new u["default"],r.version=e[l["default"].CONTENT_STEERING_RESPONSE.VERSION],e[l["default"].CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(e[l["default"].CONTENT_STEERING_RESPONSE.TTL])&&(r.ttl=e[l["default"].CONTENT_STEERING_RESPONSE.TTL]),e[l["default"].CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(r.reloadUri=e[l["default"].CONTENT_STEERING_RESPONSE.RELOAD_URI]),e[l["default"].CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(r.serviceLocationPriority=e[l["default"].CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),B())}function B(){r&&r.ttl&&!isNaN(r.ttl)&&(v&&clearTimeout(v),v=setTimeout((function(){k()}),1e3*r.ttl))}function U(){v&&clearTimeout(v),v=null}function q(e){t.warn("Error fetching data from content steering server",e),B()}function G(){return r}function V(){H(),A.off(c["default"].PERIOD_SWITCH_COMPLETED,M,e),A.off(f["default"].FRAGMENT_LOADING_STARTED,O,e)}function H(){r=null,n=null,m=null,U()}return e={reset:V,setConfig:N,loadSteeringData:k,getCurrentSteeringResponseData:G,shouldQueryBeforeStart:L,getSteeringDataFromManifest:P,stopSteeringRequestTimer:U,initialize:x},D(),e}m.__dashjs_factory_name="ContentSteeringController";const v=n["default"].getSingletonFactory(m)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
  !*** ./src/dash/controllers/RepresentationController.js ***!
  \**********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),a=r(/*! ../../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),o=r(/*! ../utils/SegmentsUtils */"./src/dash/utils/SegmentsUtils.js");function s(e){e=e||{};var t,r,i,s,u,l=e.eventBus,c=e.events,f=e.abrController,d=e.dashMetrics,h=e.playbackController,p=e.timelineConverter,g=e.type,m=e.streamInfo,v=e.dashConstants,y=e.segmentsController,b=e.isDynamic;function E(){I(),l.on(a["default"].MANIFEST_VALIDITY_CHANGED,G,t)}function _(){return m.id}function T(){return g}function w(){if(!f||!d||!h||!p)throw new Error(n["default"].MISSING_CONFIG_ERROR)}function S(){return r}function A(){return i}function R(){return u}function I(){r=null,i=!0,s=[]}function C(){l.off(a["default"].MANIFEST_VALIDITY_CHANGED,G,t),I()}function D(e,t,a,o,u){w(),i=!0,s=t;var l=L(u);if(q(l),r=e,a!==n["default"].VIDEO&&a!==n["default"].AUDIO&&(a!==n["default"].TEXT||!o))return j(),Promise.resolve();for(var c=[],f=0,d=s.length;f<d;f++){var h=s[f];c.push(N(h))}return Promise.all(c)}function N(e){return new Promise((function(t,r){var n=e.hasInitialization(),i=e.hasSegments(),a=[];a.push(y.updateInitData(e,n)),a.push(y.updateSegmentData(e,i)),Promise.all(a).then((function(r){r[0]&&!r[0].error&&(e=M(e,r[0])),r[1]&&!r[1].error&&(e=O(e,r[1])),x(e),B(e),t()}))["catch"]((function(e){r(e)}))}))}function x(e){e.mediaFinishedInformation=y.getMediaFinishedInformation(e)}function M(e,t){return t&&!t.error&&t.representation?t.representation:e}function O(e,t){if(t&&!t.error){var r,n,i,a,s=t.segments,u=[],l=0;for(r=0,n=s?s.length:0;r<n;r++)i=s[r],a=(0,o.getTimeBasedSegment)(p,b,e,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,l),a&&(u.push(a),a=null,l++);return u.length>0&&(e.segments=u),e}}function P(){w();var e=new Date,t=R(),r=1e3*h.getTime();t&&d.addRepresentationSwitch(t.adaptation.type,e,r,t.id),l.trigger(a["default"].REPRESENTATION_SWITCH,{mediaType:g,streamId:m.id,currentRepresentation:t,numberOfRepresentations:s.length},{streamId:m.id,mediaType:g})}function L(e){return null===e||void 0===e||e>=s.length?null:s[e]}function k(e){return s.indexOf(e)}function F(){for(var e=0,t=s.length;e<t;e++){var r=s[e].segmentInfoType;if(!s[e].hasInitialization()||(r===v.SEGMENT_BASE||r===v.BASE_URL)&&!s[e].segments)return!1}return!0}function j(e){i=!1,l.trigger(c.DATA_UPDATE_COMPLETED,{data:r,currentRepresentation:u,error:e},{streamId:m.id,mediaType:g})}function B(e){if(A()){var t,r,n=d.getCurrentManifestUpdate(),i=!1;if(n){for(var a=0;a<n.representationInfo.length;a++)if(t=n.representationInfo[a],t.index===e.index&&t.mediaType===T()){i=!0;break}i||d.addManifestUpdateRepresentationInfo(e,T())}if(F()){f.setPlaybackQuality(g,m,k(u));var o=d.getCurrentDVRInfo(g);o&&d.updateManifestUpdateInfo({latency:o.range.end-h.getTime()}),r=d.getCurrentRepresentationSwitch(R().adaptation.type),r||P(),j()}}}function U(e){var t=L(e);q(t),P()}function q(e){u=e}function G(e){if(e.newDuration){var t=R();if(t&&t.adaptation.period){var r=t.adaptation.period;r.duration=e.newDuration}}}return t={getStreamId:_,getType:T,getData:S,isUpdating:A,updateData:D,getCurrentRepresentation:R,getRepresentationForQuality:L,prepareQualityChange:U,reset:C},E(),t}s.__dashjs_factory_name="RepresentationController";const u=i["default"].getClassFactory(s)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
  !*** ./src/dash/controllers/SegmentBaseController.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../SegmentBaseLoader */"./src/dash/SegmentBaseLoader.js"),a=r(/*! ../WebmSegmentBaseLoader */"./src/dash/WebmSegmentBaseLoader.js");function o(e){e=e||{};var t,r,n,o=this.context,s=e.eventBus,u=e.events,l=e.dashMetrics,c=e.mediaPlayerModel,f=e.errHandler,d=e.baseURLController,h=e.debug,p=e.boxParser,g=e.requestModifier,m=e.errors;function v(){r=(0,i["default"])(o).getInstance(),n=(0,a["default"])(o).getInstance(),r.setConfig({baseURLController:d,dashMetrics:l,mediaPlayerModel:c,errHandler:f,eventBus:s,events:u,errors:m,debug:h,boxParser:p,requestModifier:g}),n.setConfig({baseURLController:d,dashMetrics:l,mediaPlayerModel:c,errHandler:f,eventBus:s,events:u,errors:m,debug:h,requestModifier:g})}function y(e){var t=e?e.split("/")[1]:"";return"webm"===t.toLowerCase()}function b(){r.initialize(),n.initialize()}function E(e){return y(e.representation.mimeType)?n.loadInitialization(e.representation,e.mediaType):r.loadInitialization(e.representation,e.mediaType)}function _(e){return y(e.mimeType)?n.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null):r.loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null)}function T(){r.reset(),n.reset()}return t={initialize:b,getSegmentBaseInitSegment:E,getSegmentList:_,reset:T},v(),t}o.__dashjs_factory_name="SegmentBaseController";var s=n["default"].getSingletonFactory(o);const u=s},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
  !*** ./src/dash/controllers/SegmentsController.js ***!
  \****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../utils/TimelineSegmentsGetter */"./src/dash/utils/TimelineSegmentsGetter.js"),a=r(/*! ../utils/TemplateSegmentsGetter */"./src/dash/utils/TemplateSegmentsGetter.js"),o=r(/*! ../utils/ListSegmentsGetter */"./src/dash/utils/ListSegmentsGetter.js"),s=r(/*! ../utils/SegmentBaseGetter */"./src/dash/utils/SegmentBaseGetter.js");function u(e){e=e||{};var t,r,n=this.context,u=e.dashConstants,l=e.type,c=e.segmentBaseController;function f(){r={}}function d(t){r[u.SEGMENT_TIMELINE]=(0,i["default"])(n).create(e,t),r[u.SEGMENT_TEMPLATE]=(0,a["default"])(n).create(e,t),r[u.SEGMENT_LIST]=(0,o["default"])(n).create(e,t),r[u.SEGMENT_BASE]=(0,s["default"])(n).create(e,t)}function h(e,t){return t?Promise.resolve():c.getSegmentBaseInitSegment({representation:e,mediaType:l})}function p(e,t){return t?Promise.resolve():c.getSegmentList({mimeType:e.mimeType,representation:e,mediaType:l})}function g(e){return e?e.segments?r[u.SEGMENT_BASE]:r[e.segmentInfoType]:null}function m(e,t,r){var n=g(e);return n?n.getSegmentByIndex(e,t,r):null}function v(e,t){var r=g(e);return r?r.getSegmentByTime(e,t):null}function y(e){var t=g(e);return t?t.getMediaFinishedInformation(e):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}return t={initialize:d,updateInitData:h,updateSegmentData:p,getSegmentByIndex:m,getSegmentByTime:v,getMediaFinishedInformation:y},f(),t}u.__dashjs_factory_name="SegmentsController";var l=n["default"].getClassFactory(u);const c=l},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
  \**************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),o=r(/*! ../constants/DashConstants */"./src/dash/constants/DashConstants.js"),s=[a["default"].SERVICE_DESCRIPTION_DVB_LL_SCHEME],u={VIDEO:"video",AUDIO:"audio",ANY:"any",ALL:"all"};function l(){var e,t,r,n,l,c=this.context;function f(){n=(0,i["default"])(c).getInstance().getLogger(e),p()}function d(e){e&&e.adapter&&(l=e.adapter)}function h(){p()}function p(){t={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},r=[]}function g(){return t}function m(e){if(e&&e.serviceDescriptions){var t=e.serviceDescriptions.filter((function(e){return s.includes(e.schemeIdUri)})),r=e.serviceDescriptions.filter((function(e){return null==e.schemeIdUri})),n=t.length>0?t[t.length-1]:r[r.length-1];n&&(n.latency&&n.latency.target>0&&v(n),n.playbackRate&&E(n),n.operatingQuality&&_(n),n.operatingBandwidth&&T(n))}}function v(e){var i;if(i=e.schemeIdUri===a["default"].SERVICE_DESCRIPTION_DVB_LL_SCHEME?b(e):y(e),r.length>0){var o=R(i),s=o.to,u=o.id;t.liveDelay=i.liveDelay-s,t.liveCatchup.maxDrift=i.maxDrift,n.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(s," from ProducerReferenceTime element with id ").concat(u,".\n                Live Delay: ").concat(i.liveDelay-s,", Live catchup max drift: ").concat(i.maxDrift,"\n            "))}else t.liveDelay=i.liveDelay,t.liveCatchup.maxDrift=i.maxDrift,n.debug("Found latency properties coming from service description: Live Delay: ".concat(i.liveDelay,", Live catchup max drift: ").concat(i.maxDrift))}function y(e){var t=e.latency.target/1e3,r=!isNaN(e.latency.max)&&e.latency.max>e.latency.target?(e.latency.max-e.latency.target+500)/1e3:NaN,n=e.latency.referenceId||NaN;return{liveDelay:t,maxDrift:r,referenceId:n}}function b(e){var t=e.latency.target/1e3,r=!isNaN(e.latency.max)&&e.latency.max>e.latency.target?(e.latency.max-e.latency.target+500)/1e3:NaN,n=e.latency.referenceId||NaN;return{liveDelay:t,maxDrift:r,referenceId:n}}function E(e){var r=e.playbackRate.min?Math.round(1e3*(e.playbackRate.min-1))/1e3:NaN,i=e.playbackRate.max?Math.round(1e3*(e.playbackRate.max-1))/1e3:NaN;t.liveCatchup.playbackRate.min=r,t.liveCatchup.playbackRate.max=i,n.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(r)),n.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(i))}function _(){}function T(e){if(e&&e.operatingBandwidth&&e.operatingBandwidth.mediaType&&e.operatingBandwidth.mediaType!==u.ALL){var t={};t.minBandwidth=e.operatingBandwidth.min,t.maxBandwidth=e.operatingBandwidth.max,t.targetBandwidth=e.operatingBandwidth.target;var r=[];e.operatingBandwidth.mediaType===u.VIDEO||e.operatingBandwidth.mediaType===u.AUDIO?r.push(e.operatingBandwidth.mediaType):e.operatingBandwidth.mediaType===u.ANY&&(r.push(u.AUDIO),r.push(u.VIDEO)),r.forEach((function(e){isNaN(t.minBandwidth)||w("minBitrate",e,t.minBandwidth),isNaN(t.maxBandwidth)||w("maxBitrate",e,t.maxBandwidth),isNaN(t.targetBandwidth)||w("initialBitrate",e,t.targetBandwidth)}))}}function w(e,r,i){try{t[e][r]=i/1e3}catch(a){n.error(a)}}function S(){return r}function A(e){try{var t=[];if(e&&e.length>0){var i=[a["default"].VIDEO,a["default"].AUDIO,a["default"].TEXT],s=l.getAvailabilityStartTime()/1e3;e.forEach((function(e){var r=i.reduce((function(t,r){return t=t.concat(l.getAllMediaInfoForType(e,r)),t}),[]).reduce((function(t,r){var n=l.getProducerReferenceTimes(e,r);return n.forEach((function(n){var i=l.getVoRepresentations(r);if(i&&i.length>0&&i[0].adaptation&&i[0].segmentInfoType===o["default"].SEGMENT_TEMPLATE){var a=i[0],u=new Date(n[o["default"].WALL_CLOCK_TIME]),c=u.getTime()/1e3,f=c-(n[o["default"].PRESENTATION_TIME]/a[o["default"].TIMESCALE]-a[o["default"].PRESENTATION_TIME_OFFSET]+e.start),d=s-f;t.push({id:n[o["default"].ID],to:d})}})),t}),[]);t=t.concat(r)}))}r=t}catch(u){n.error(u),r=[]}}function R(e){var t,n=0,i=r.filter((function(t){return t.id===e.referenceId}));return 0===i.length?(n=r.length>0?r[0].to:0,t=r[0].id||NaN):(n=i[0].to||0,t=i[0].id||NaN),{to:n,id:t}}return e={getServiceDescriptionSettings:g,getProducerReferenceTimeOffsets:S,calculateProducerReferenceTimeOffsets:A,applyServiceDescription:m,reset:h,setConfig:d},f(),e}l.__dashjs_factory_name="ServiceDescriptionController";const c=n["default"].getSingletonFactory(l)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
  !*** ./src/dash/models/DashManifestModel.js ***!
  \**********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var n=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../constants/DashConstants */"./src/dash/constants/DashConstants.js"),a=r(/*! ../vo/Representation */"./src/dash/vo/Representation.js"),o=r(/*! ../vo/AdaptationSet */"./src/dash/vo/AdaptationSet.js"),s=r(/*! ../vo/Period */"./src/dash/vo/Period.js"),u=r(/*! ../vo/Mpd */"./src/dash/vo/Mpd.js"),l=r(/*! ../vo/UTCTiming */"./src/dash/vo/UTCTiming.js"),c=r(/*! ../vo/Event */"./src/dash/vo/Event.js"),f=r(/*! ../vo/BaseURL */"./src/dash/vo/BaseURL.js"),d=r(/*! ../vo/EventStream */"./src/dash/vo/EventStream.js"),h=r(/*! ../vo/ProducerReferenceTime */"./src/dash/vo/ProducerReferenceTime.js"),p=r(/*! ../vo/ContentSteering */"./src/dash/vo/ContentSteering.js"),g=r(/*! ../../streaming/utils/ObjectUtils */"./src/streaming/utils/ObjectUtils.js"),m=r(/*! ../../streaming/utils/URLUtils */"./src/streaming/utils/URLUtils.js"),v=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),y=r(/*! ../../core/Debug */"./src/core/Debug.js"),b=r(/*! ../../streaming/vo/DashJSError */"./src/streaming/vo/DashJSError.js"),E=r(/*! ../../core/errors/Errors */"./src/core/errors/Errors.js"),_=r(/*! ../../streaming/thumbnail/ThumbnailTracks */"./src/streaming/thumbnail/ThumbnailTracks.js");function T(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=A(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(s)throw a}}}}function w(e){return I(e)||R(e)||A(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"===typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function R(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function I(e){if(Array.isArray(e))return C(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(){var e,t,r,v,S=this.context,A=(0,m["default"])(S).getInstance(),R=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function I(){t=(0,y["default"])(S).getInstance().getLogger(e)}function C(e,t){if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.Representation_asArray&&e.Representation_asArray.length){var r=de(e.Representation_asArray[0]);if(r&&r.length>0&&_.THUMBNAILS_SCHEME_ID_URIS.indexOf(r[0].schemeIdUri)>=0)return t===n["default"].IMAGE}if(e.ContentComponent_asArray&&e.ContentComponent_asArray.length>0){if(e.ContentComponent_asArray.length>1)return t===n["default"].MUXED;if(e.ContentComponent_asArray[0].contentType===t)return!0}var a=t===n["default"].TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(t);if(e.Representation_asArray&&e.Representation_asArray.length){var o=e.Representation_asArray[0].codecs;if(a.test(o))return!0}if(e.hasOwnProperty(i["default"].MIME_TYPE))return a.test(e.mimeType);if(e.Representation_asArray)for(var s,u=0;u<e.Representation_asArray.length;u++)if(s=e.Representation_asArray[u],s.hasOwnProperty(i["default"].MIME_TYPE))return a.test(s.mimeType);return!1}function D(e){if(!e)throw new Error("adaptation is not defined");if(e.hasOwnProperty(i["default"].SEGMENT_TEMPLATE)||e.hasOwnProperty(i["default"].SEGMENT_TIMELINE)||e.hasOwnProperty(i["default"].SEGMENT_LIST)||e.hasOwnProperty(i["default"].SEGMENT_BASE))return!0;if(e.Representation_asArray&&e.Representation_asArray.length>0){var t=e.Representation_asArray[0];if(t.hasOwnProperty(i["default"].SEGMENT_TEMPLATE)||t.hasOwnProperty(i["default"].SEGMENT_TIMELINE)||t.hasOwnProperty(i["default"].SEGMENT_LIST)||t.hasOwnProperty(i["default"].SEGMENT_BASE))return!0}return!1}function N(e){return C(e,n["default"].AUDIO)}function x(e){return C(e,n["default"].VIDEO)}function M(e){return C(e,n["default"].TEXT)}function O(e){return C(e,n["default"].MUXED)}function P(e){return C(e,n["default"].IMAGE)}function L(e){var t=e&&e.hasOwnProperty(i["default"].PRODUCERREFERENCETIME_ASARRAY)?e[i["default"].PRODUCERREFERENCETIME_ASARRAY]:[],r=e&&e.hasOwnProperty(i["default"].REPRESENTATION_ASARRAY)?e[i["default"].REPRESENTATION_ASARRAY]:[];r.forEach((function(e){e.hasOwnProperty(i["default"].PRODUCERREFERENCETIME_ASARRAY)&&t.push.apply(t,w(e[i["default"].PRODUCERREFERENCETIME_ASARRAY]))}));var n=[];return t.forEach((function(e){var t=new h["default"];e.hasOwnProperty(i["default"].ID)&&(t[i["default"].ID]=e[i["default"].ID],e.hasOwnProperty(i["default"].WALL_CLOCK_TIME)&&(t[i["default"].WALL_CLOCK_TIME]=e[i["default"].WALL_CLOCK_TIME],e.hasOwnProperty(i["default"].PRESENTATION_TIME)&&(t[i["default"].PRESENTATION_TIME]=e[i["default"].PRESENTATION_TIME],n.push(t))))})),n}function k(e){var t="";return e&&e.hasOwnProperty(i["default"].LANG)&&(t=e.lang),t}function F(e){return e&&e.hasOwnProperty(i["default"].VIEWPOINT)?e.Viewpoint:null}function j(e){return e&&e.hasOwnProperty(i["default"].ROLE_ASARRAY)?e.Role_asArray:[]}function B(e){return e&&e.hasOwnProperty(i["default"].ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]}function U(e){return e&&e.hasOwnProperty(i["default"].AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]}function q(e){return e&&e.hasOwnProperty(i["default"].AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]}function G(){return function(e,t){return e.bandwidth-t.bandwidth}}function V(e){return e&&Array.isArray(e.Representation_asArray)&&e.Representation_asArray.sort(G()),e}function H(e,t){return e&&e.Period_asArray&&R(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function Y(e){return e&&e.Period_asArray?e.Period_asArray:[]}function z(e,t){var r=Y(t);return r.length>0&&R(e)?r[e]:null}function K(e,t,r){var n,a,o=H(t,r);for(n=0,a=o.length;n<a;n++)if(o[n].hasOwnProperty(i["default"].ID)&&o[n].id===e)return o[n];return null}function W(e,t,r){var n=H(t,r);return n.length>0&&R(e)?n[e]:null}function $(e,t,r){if(!e)return-1;for(var n=H(t,r),i=0;i<n.length;i++){var a=(0,g["default"])(S).getInstance();if(a.areEqual(n[i],e))return i}return-1}function X(e,t,r){var n,i,a=H(e,t),o=[];for(n=0,i=a.length;n<i;n++)C(a[n],r)&&o.push(V(a[n]));return o}function Q(e,t,r){var n=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=R(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(n=i.mimeType+';codecs="'+i.codecs+'"',r&&void 0!==i.width&&(n+=';width="'+i.width+'";height="'+i.height+'"'))}return n&&(n=n.replace(/\sprofiles=[^;]*/g,"")),n}function Z(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null}function J(e){return e&&e.hasOwnProperty(i["default"].CENC_DEFAULT_KID)?e[i["default"].CENC_DEFAULT_KID]:null}function ee(e){if(!e||!Array.isArray(e.Label_asArray))return[];for(var t=[],r=0;r<e.Label_asArray.length;r++)t.push({lang:e.Label_asArray[r].lang,text:e.Label_asArray[r].__text||e.Label_asArray[r]});return t}function te(e){return e&&e.hasOwnProperty(i["default"].CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null}function re(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===i["default"].DYNAMIC),t}function ne(e){return e&&e[i["default"].ID]||null}function ie(e,t){var r=!1;return e&&e.profiles&&e.profiles.length>0&&(r=-1!==e.profiles.indexOf(t)),r}function ae(e){var t;return t=e&&e.hasOwnProperty(i["default"].MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:e&&"dynamic"==e.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,t}function oe(e){return e&&e.bandwidth?e.bandwidth:NaN}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=NaN;return e&&e.hasOwnProperty(i["default"].MINIMUM_UPDATE_PERIOD)&&(r=e.minimumUpdatePeriod),isNaN(r)?r:Math.max(r-t,1)}function ue(e){return e&&e.hasOwnProperty(i["default"].PUBLISH_TIME)?new Date(e[i["default"].PUBLISH_TIME]):null}function le(e){return e&&Array.isArray(e.Representation_asArray)?e.Representation_asArray.length:0}function ce(e){var t=V(e),r=t&&Array.isArray(t.Representation_asArray)?t.Representation_asArray:[];return r.map((function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null,id:e.id||null}}))}function fe(e){try{var t=e&&"undefined"!==typeof e.selectionPriority?parseInt(e.selectionPriority):1;return isNaN(t)?1:t}catch(r){return 1}}function de(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map((function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}})):null}function he(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&R(e)?t.Representation_asArray[e]:null}function pe(e){if(e&&e.period&&R(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&R(e.index))return V(t.AdaptationSet_asArray[e.index])}}function ge(e){var t,r,n=[],o=pe(e);if(o&&o.Representation_asArray){if(e&&e.period&&R(e.period.index)){var s=De(e.period.mpd.manifest);s&&(r=s[0])}for(var u=0,l=o.Representation_asArray.length;u<l;++u){var c=o.Representation_asArray[u],f=new a["default"];if(f.index=u,f.adaptation=e,c.hasOwnProperty(i["default"].ID)&&(f.id=c.id),c.hasOwnProperty(i["default"].CODECS)&&(f.codecs=c.codecs),c.hasOwnProperty(i["default"].MIME_TYPE)&&(f.mimeType=c[i["default"].MIME_TYPE]),c.hasOwnProperty(i["default"].CODEC_PRIVATE_DATA)&&(f.codecPrivateData=c.codecPrivateData),c.hasOwnProperty(i["default"].BANDWITH)&&(f.bandwidth=c.bandwidth),c.hasOwnProperty(i["default"].WIDTH)&&(f.width=c.width),c.hasOwnProperty(i["default"].HEIGHT)&&(f.height=c.height),c.hasOwnProperty(i["default"].SCAN_TYPE)&&(f.scanType=c.scanType),c.hasOwnProperty(i["default"].MAX_PLAYOUT_RATE)&&(f.maxPlayoutRate=c.maxPlayoutRate),c.hasOwnProperty(i["default"].SEGMENT_BASE)?(t=c.SegmentBase,f.segmentInfoType=i["default"].SEGMENT_BASE):c.hasOwnProperty(i["default"].SEGMENT_LIST)?(t=c.SegmentList,t.hasOwnProperty(i["default"].SEGMENT_TIMELINE)?f.segmentInfoType=i["default"].SEGMENT_TIMELINE:f.segmentInfoType=i["default"].SEGMENT_LIST):c.hasOwnProperty(i["default"].SEGMENT_TEMPLATE)?(t=c.SegmentTemplate,t.hasOwnProperty(i["default"].SEGMENT_TIMELINE)?f.segmentInfoType=i["default"].SEGMENT_TIMELINE:f.segmentInfoType=i["default"].SEGMENT_TEMPLATE,t.hasOwnProperty(i["default"].INITIALIZATION_MINUS)&&(f.initialization=t.initialization.split("$Bandwidth$").join(c.bandwidth).split("$RepresentationID$").join(c.id))):f.segmentInfoType=i["default"].BASE_URL,f.essentialProperties=de(c),t){if(t.hasOwnProperty(i["default"].INITIALIZATION)){var d=t.Initialization;d.hasOwnProperty(i["default"].SOURCE_URL)&&(f.initialization=d.sourceURL),d.hasOwnProperty(i["default"].RANGE)&&(f.range=d.range)}else M(o)&&D(o)&&o.mimeType&&-1===o.mimeType.indexOf("application/mp4")&&(f.range=0);t.hasOwnProperty(i["default"].TIMESCALE)&&(f.timescale=t.timescale),t.hasOwnProperty(i["default"].DURATION)?f.segmentDuration=t.duration/f.timescale:c.hasOwnProperty(i["default"].SEGMENT_TEMPLATE)&&(t=c.SegmentTemplate,t.hasOwnProperty(i["default"].SEGMENT_TIMELINE)&&(f.segmentDuration=me(t.SegmentTimeline)/f.timescale)),t.hasOwnProperty(i["default"].MEDIA)&&(f.media=t.media),t.hasOwnProperty(i["default"].START_NUMBER)&&(f.startNumber=t.startNumber),t.hasOwnProperty(i["default"].INDEX_RANGE)&&(f.indexRange=t.indexRange),t.hasOwnProperty(i["default"].PRESENTATION_TIME_OFFSET)&&(f.presentationTimeOffset=t.presentationTimeOffset/f.timescale),t.hasOwnProperty(i["default"].AVAILABILITY_TIME_OFFSET)?f.availabilityTimeOffset=t.availabilityTimeOffset:r&&void 0!==r.availabilityTimeOffset&&(f.availabilityTimeOffset=r.availabilityTimeOffset),t.hasOwnProperty(i["default"].AVAILABILITY_TIME_COMPLETE)?f.availabilityTimeComplete="false"!==t.availabilityTimeComplete:r&&void 0!==r.availabilityTimeComplete&&(f.availabilityTimeComplete=r.availabilityTimeComplete)}f.MSETimeOffset=ve(f),f.path=[e.period.index,e.index,u],n.push(f)}}return n}function me(e){if(!e||!e.S_asArray)return NaN;var t=e.S_asArray[0],r=e.S_asArray[1];return t.hasOwnProperty("d")?t.d:r.t-t.t}function ve(e){var t=e.presentationTimeOffset,r=e.adaptation.period.start;return r-t}function ye(e){var r,a,s,u=e&&R(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,l=[];if(u&&u.AdaptationSet_asArray)for(s=0;s<u.AdaptationSet_asArray.length;s++)a=u.AdaptationSet_asArray[s],r=new o["default"],a.hasOwnProperty(i["default"].ID)&&(r.id=a.id),r.index=s,r.period=e,O(a)?r.type=n["default"].MUXED:N(a)?r.type=n["default"].AUDIO:x(a)?r.type=n["default"].VIDEO:M(a)?r.type=n["default"].TEXT:P(a)?r.type=n["default"].IMAGE:t.warn("Unknown Adaptation stream type"),l.push(r);return l}function be(e){var r,n,a=!!e&&re(e.manifest),o=[],u=null,l=null,c=null,f=null;for(n=0,r=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;n<r;n++)l=e.manifest.Period_asArray[n],l.hasOwnProperty(i["default"].START)?(f=new s["default"],f.start=l.start):null!==u&&u.hasOwnProperty(i["default"].DURATION)&&null!==c?(f=new s["default"],f.start=parseFloat((c.start+c.duration).toFixed(5))):0!==n||a||(f=new s["default"],f.start=0),null!==c&&isNaN(c.duration)&&(null!==f?c.duration=parseFloat((f.start-c.start).toFixed(5)):t.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==f&&(f.id=Ee(l,n),f.index=n,f.mpd=e,l.hasOwnProperty(i["default"].DURATION)&&(f.duration=l.duration),c&&(c.nextPeriodId=f.id),o.push(f),u=l,c=f),l=null,f=null;return 0===o.length||null!==c&&isNaN(c.duration)&&(c.duration=parseFloat((we(c)-c.start).toFixed(5))),o}function Ee(e,t){if(!e)throw new Error("Period cannot be null or undefined");var r=s["default"].DEFAULT_ID+"_"+t;return e.hasOwnProperty(i["default"].ID)&&e.id.length>0&&"__proto__"!==e.id&&(r=e.id),r}function _e(e){var t=new u["default"];return e&&(t.manifest=e,e.hasOwnProperty(i["default"].AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):e.loadedTime&&(t.availabilityStartTime=new Date(e.loadedTime.getTime())),e.hasOwnProperty(i["default"].AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(i["default"].MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(i["default"].MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(i["default"].SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(i["default"].TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(i["default"].MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration),e.hasOwnProperty(i["default"].PUBLISH_TIME)&&(t.publishTime=new Date(e.publishTime))),t}function Te(){if(!r||!r.hasOwnProperty("error"))throw new Error(n["default"].MISSING_CONFIG_ERROR)}function we(e){Te();var t,n=re(e.mpd.manifest);return e.mpd.manifest.mediaPresentationDuration?t=e.mpd.manifest.mediaPresentationDuration:e.duration?t=e.duration:n?t=Number.POSITIVE_INFINITY:r.error(new b["default"](E["default"].MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e)),t}function Se(e){var t,r,a=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,o=a?a.Period_asArray:null,s=o&&e&&R(e.index)?o[e.index].EventStream_asArray:null,u=[];if(s)for(t=0;t<s.length;t++){var l=new d["default"];if(l.period=e,l.timescale=1,!s[t].hasOwnProperty(n["default"].SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(l.schemeIdUri=s[t][n["default"].SCHEME_ID_URI],s[t].hasOwnProperty(i["default"].TIMESCALE)&&(l.timescale=s[t][i["default"].TIMESCALE]),s[t].hasOwnProperty(i["default"].VALUE)&&(l.value=s[t][i["default"].VALUE]),s[t].hasOwnProperty(i["default"].PRESENTATION_TIME_OFFSET)&&(l.presentationTimeOffset=s[t][i["default"].PRESENTATION_TIME_OFFSET]),r=0;s[t].Event_asArray&&r<s[t].Event_asArray.length;r++){var f=s[t].Event_asArray[r],h=new c["default"];h.presentationTime=0,h.eventStream=l,f.hasOwnProperty(i["default"].PRESENTATION_TIME)&&(h.presentationTime=f.presentationTime);var p=l.presentationTimeOffset?l.presentationTimeOffset/l.timescale:0;h.calculatedPresentationTime=h.presentationTime/l.timescale+e.start-p,f.hasOwnProperty(i["default"].DURATION)&&(h.duration=f.duration/l.timescale),f.hasOwnProperty(i["default"].ID)?h.id=f.id:h.id=null,f.Signal&&f.Signal.Binary?h.messageData=v.decodeArray(f.Signal.Binary.toString()):h.messageData=f.messageData||f.__cdata||f.__text,u.push(h)}}return u}function Ae(e,t,r){var a,o=[];if(!e)return o;for(a=0;a<e.length;a++){var s=new d["default"];if(s.timescale=1,s.representation=t,!e[a].hasOwnProperty(n["default"].SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");s.schemeIdUri=e[a].schemeIdUri,e[a].hasOwnProperty(i["default"].TIMESCALE)&&(s.timescale=e[a].timescale),e[a].hasOwnProperty(i["default"].VALUE)&&(s.value=e[a].value),o.push(s),s.period=r}return o}function Re(e,t,r){var n,i,a;return e&&e.Period_asArray&&t&&t.period&&R(t.period.index)&&(i=e.Period_asArray[t.period.index],i&&i.AdaptationSet_asArray&&R(t.index)&&(a=i.AdaptationSet_asArray[t.index],a&&(n=a.InbandEventStream_asArray))),Ae(n,null,r)}function Ie(e,t,r){var n,i,a,o;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&R(t.adaptation.period.index)&&(i=e.Period_asArray[t.adaptation.period.index],i&&i.AdaptationSet_asArray&&R(t.adaptation.index)&&(a=i.AdaptationSet_asArray[t.adaptation.index],a&&a.Representation_asArray&&R(t.index)&&(o=a.Representation_asArray[t.index],o&&(n=o.InbandEventStream_asArray)))),Ae(n,t,r)}function Ce(e){var t=re(e),r=!!e&&e.hasOwnProperty(i["default"].AVAILABILITY_START_TIME),a=e?e.UTCTiming_asArray:null,o=[];return(t||r)&&a&&a.forEach((function(e){var t=new l["default"];e.hasOwnProperty(n["default"].SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(i["default"].VALUE)&&(t.value=e.value.toString(),o.push(t)))})),o}function De(e){var t=[],r=e.BaseURL_asArray||[e.baseUri],n=!1;return r.some((function(r){if(r){var a=new f["default"],o=r.__text||r;return A.isRelative(o)&&(n=!0,e.baseUri&&(o=A.resolve(o,e.baseUri))),a.url=o,r.hasOwnProperty(i["default"].SERVICE_LOCATION)&&r.serviceLocation.length?a.serviceLocation=r.serviceLocation:a.serviceLocation=o,r.hasOwnProperty(i["default"].DVB_PRIORITY)&&(a.dvb_priority=r[i["default"].DVB_PRIORITY]),r.hasOwnProperty(i["default"].DVB_WEIGHT)&&(a.dvb_weight=r[i["default"].DVB_WEIGHT]),r.hasOwnProperty(i["default"].AVAILABILITY_TIME_OFFSET)&&(a.availabilityTimeOffset=r[i["default"].AVAILABILITY_TIME_OFFSET]),r.hasOwnProperty(i["default"].AVAILABILITY_TIME_COMPLETE)&&(a.availabilityTimeComplete="false"!==r[i["default"].AVAILABILITY_TIME_COMPLETE]),t.push(a),n}})),t}function Ne(e){if(e&&e.hasOwnProperty(i["default"].CONTENT_STEERING_AS_ARRAY)){var t=e[i["default"].CONTENT_STEERING_AS_ARRAY][0],r=new p["default"];return r.serverUrl=t.__text,t.hasOwnProperty(i["default"].DEFAULT_SERVICE_LOCATION)&&(r.defaultServiceLocation=t[i["default"].DEFAULT_SERVICE_LOCATION]),t.hasOwnProperty(i["default"].QUERY_BEFORE_START)&&(r.queryBeforeStart="true"===t[i["default"].QUERY_BEFORE_START].toLowerCase()),t.hasOwnProperty(i["default"].PROXY_SERVER_URL)&&(r.proxyServerUrl=t[i["default"].PROXY_SERVER_URL]),r}}function xe(e){if(e&&e.hasOwnProperty(n["default"].LOCATION))return e.Location=e.Location_asArray[0],e.Location}function Me(e){if(e&&e.hasOwnProperty(i["default"].PATCH_LOCATION))return e.PatchLocation=e.PatchLocation_asArray[0],e.PatchLocation}function Oe(e){return e&&e.hasOwnProperty(i["default"].SUGGESTED_PRESENTATION_DELAY)?e.suggestedPresentationDelay:null}function Pe(e){return e&&e.hasOwnProperty(i["default"].AVAILABILITY_START_TIME)&&null!==e.availabilityStartTime?e.availabilityStartTime.getTime():null}function Le(e){var t=[];if(e&&e.hasOwnProperty(i["default"].SERVICE_DESCRIPTION)){var r,n=T(e.ServiceDescription_asArray);try{for(n.s();!(r=n.n()).done;){var a=r.value,o=null,s=null,u=null,l=null,c=null,f=null;for(var d in a)a.hasOwnProperty(d)&&(d===i["default"].ID?o=a[d]:d===i["default"].SERVICE_DESCRIPTION_SCOPE?s=a[d].schemeIdUri:d===i["default"].SERVICE_DESCRIPTION_LATENCY?u={target:parseInt(a[d].target),max:parseInt(a[d].max),min:parseInt(a[d].min),referenceId:parseInt(a[d].referenceId)}:d===i["default"].SERVICE_DESCRIPTION_PLAYBACK_RATE?l={max:parseFloat(a[d].max),min:parseFloat(a[d].min)}:d===i["default"].SERVICE_DESCRIPTION_OPERATING_QUALITY?c={mediaType:a[d].mediaType,max:parseInt(a[d].max),min:parseInt(a[d].min),target:parseInt(a[d].target),type:a[d].type,maxQualityDifference:parseInt(a[d].maxQualityDifference)}:d===i["default"].SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(f={mediaType:a[d].mediaType,max:parseInt(a[d].max),min:parseInt(a[d].min),target:parseInt(a[d].target)}));t.push({id:o,schemeIdUri:s,latency:u,playbackRate:l,operatingQuality:c,operatingBandwidth:f})}}catch(h){n.e(h)}finally{n.f()}}return t}function ke(e){var t={};if(e&&e.hasOwnProperty(i["default"].SUPPLEMENTAL_PROPERTY)){var r,a=T(e.SupplementalProperty_asArray);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.hasOwnProperty(n["default"].SCHEME_ID_URI)&&o.hasOwnProperty(i["default"].VALUE)&&(t[o[n["default"].SCHEME_ID_URI]]=o[i["default"].VALUE])}}catch(s){a.e(s)}finally{a.f()}}return t}function Fe(e){e&&(e.errHandler&&(r=e.errHandler),e.BASE64&&(v=e.BASE64))}return e={getIsTypeOf:C,getIsText:M,getIsFragmented:D,getProducerReferenceTimesForAdaptation:L,getLanguageForAdaptation:k,getViewpointForAdaptation:F,getRolesForAdaptation:j,getAccessibilityForAdaptation:B,getAudioChannelConfigurationForAdaptation:U,getAudioChannelConfigurationForRepresentation:q,getAdaptationForIndex:W,getIndexForAdaptation:$,getAdaptationForId:K,getAdaptationsForType:X,getRealPeriods:Y,getRealPeriodForIndex:z,getCodec:Q,getSelectionPriority:fe,getMimeType:Z,getKID:J,getLabelsForAdaptation:ee,getContentProtectionData:te,getIsDynamic:re,getId:ne,hasProfile:ie,getDuration:ae,getBandwidth:oe,getManifestUpdatePeriod:se,getPublishTime:ue,getRepresentationCount:le,getBitrateListForAdaptation:ce,getRepresentationFor:he,getRepresentationsForAdaptation:ge,getAdaptationsForPeriod:ye,getRegularPeriods:be,getMpd:_e,getEventsForPeriod:Se,getEssentialPropertiesForRepresentation:de,getEventStreamForAdaptationSet:Re,getEventStreamForRepresentation:Ie,getUTCTimingSources:Ce,getBaseURLsFromElement:De,getRepresentationSortFunction:G,getContentSteering:Ne,getLocation:xe,getPatchLocation:Me,getSuggestedPresentationDelay:Oe,getAvailabilityStartTime:Pe,getServiceDescriptions:Le,getSupplementalProperties:ke,setConfig:Fe},I(),e}D.__dashjs_factory_name="DashManifestModel";const N=v["default"].getSingletonFactory(D)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
  !*** ./src/dash/models/PatchManifestModel.js ***!
  \***********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ../constants/DashConstants */"./src/dash/constants/DashConstants.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),a=r(/*! ../../core/Debug */"./src/core/Debug.js"),o=r(/*! ../vo/SimpleXPath */"./src/dash/vo/SimpleXPath.js"),s=r(/*! ../vo/PatchOperation */"./src/dash/vo/PatchOperation.js");function u(){var e,t,r=this.context;function i(){t=(0,a["default"])(r).getInstance().getLogger(e)}function u(e){return e&&e.hasOwnProperty(n["default"].ORIGINAL_MPD_ID)||!1}function l(e){return e&&e.hasOwnProperty(n["default"].PUBLISH_TIME)?new Date(e[n["default"].PUBLISH_TIME]):null}function c(e){return e&&e.hasOwnProperty(n["default"].ORIGINAL_PUBLISH_TIME)?new Date(e[n["default"].ORIGINAL_PUBLISH_TIME]):null}function f(e){return e&&e[n["default"].ORIGINAL_MPD_ID]||null}function d(e){return e?(e.__children||[]).map((function(e){var r=Object.keys(e)[0];if("add"!==r&&"remove"!==r&&"replace"!==r)return t.warn("Ignoring node of invalid action: ".concat(r)),null;var n=e[r],i=n.sel;if("add"===r&&n.type){if(!n.type.startsWith("@"))return t.warn("Ignoring add action for prefixed namespace declaration: ".concat(n.type,"=").concat(n.__text)),null;i="".concat(i,"/").concat(n.type)}var a=new o["default"](i);if(!a.isValid())return t.warn("Ignoring action with invalid selector: ".concat(r," - ").concat(i)),null;var u=null;a.findsAttribute()?u=n.__text||"":"remove"!==r&&(u=n.__children.reduce((function(e,t){var r=Object.keys(t)[0];return"#text"!==r&&(e[r]=e[r]||[],e[r].push(t[r])),e}),{}));var l=new s["default"](r,a,u);return"add"===r&&(l.position=n.pos),l})).filter((function(e){return!!e})):[]}return e={getIsPatch:u,getPublishTime:l,getOriginalPublishTime:c,getMpdId:f,getPatchOperations:d},i(),e}u.__dashjs_factory_name="PatchManifestModel";const l=i["default"].getSingletonFactory(u)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
  !*** ./src/dash/parser/DashParser.js ***!
  \***************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ./objectiron */"./src/dash/parser/objectiron.js"),a=r(/*! ../../../externals/xml2json */"./externals/xml2json.js"),o=r(/*! ./matchers/StringMatcher */"./src/dash/parser/matchers/StringMatcher.js"),s=r(/*! ./matchers/DurationMatcher */"./src/dash/parser/matchers/DurationMatcher.js"),u=r(/*! ./matchers/DateTimeMatcher */"./src/dash/parser/matchers/DateTimeMatcher.js"),l=r(/*! ./matchers/NumericMatcher */"./src/dash/parser/matchers/NumericMatcher.js"),c=r(/*! ./matchers/LangMatcher */"./src/dash/parser/matchers/LangMatcher.js"),f=r(/*! ./maps/RepresentationBaseValuesMap */"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),d=r(/*! ./maps/SegmentValuesMap */"./src/dash/parser/maps/SegmentValuesMap.js");function h(e){e=e||{};var t,r,n,h,p,g=this.context,m=e.debug;function v(){r=m.getLogger(t),n=[new s["default"],new u["default"],new l["default"],new c["default"],new o["default"]],h=new a["default"]({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:n}),p=(0,i["default"])(g).create({adaptationset:new f["default"],period:new d["default"]})}function y(){return n}function b(){return p}function E(e){var t,n=window.performance.now();if(t=h.xml_str2json(e),!t)throw new Error("parsing the manifest failed");var i=window.performance.now();t.Patch?(t=t.Patch,t.add_asArray&&t.add_asArray.forEach((function(e){return p.run(e)})),t.replace_asArray&&t.replace_asArray.forEach((function(e){return p.run(e)}))):(t=t.MPD,p.run(t));var a=window.performance.now();return r.info("Parsing complete: ( xml2json: "+(i-n).toPrecision(3)+"ms, objectiron: "+(a-i).toPrecision(3)+"ms, total: "+((a-n)/1e3).toPrecision(3)+"s)"),t.protocol="DASH",t}return t={parse:E,getMatchers:y,getIron:b},v(),t}h.__dashjs_factory_name="DashParser";const p=n["default"].getClassFactory(h)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
  !*** ./src/dash/parser/maps/CommonProperty.js ***!
  \************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>s});var o=function(){function e(t){n(this,e);var r=function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()};this._name=t,this._merge=r(t)}return a(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();const s=o},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
  !*** ./src/dash/parser/maps/MapNode.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ./CommonProperty */"./src/dash/parser/maps/CommonProperty.js");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var s=function(){function e(t,r,a){var o=this;i(this,e),this._name=t||"",this._properties=[],this._children=a||[],Array.isArray(r)&&r.forEach((function(e){o._properties.push(new n["default"](e))}))}return o(e,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();const u=s},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
  \*************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ./MapNode */"./src/dash/parser/maps/MapNode.js"),i=r(/*! ../../constants/DashConstants */"./src/dash/constants/DashConstants.js");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=d();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){s(r,e);var t=l(r);function r(){o(this,r);var e=[i["default"].PROFILES,i["default"].WIDTH,i["default"].HEIGHT,i["default"].SAR,i["default"].FRAMERATE,i["default"].AUDIO_SAMPLING_RATE,i["default"].MIME_TYPE,i["default"].SEGMENT_PROFILES,i["default"].CODECS,i["default"].MAXIMUM_SAP_PERIOD,i["default"].START_WITH_SAP,i["default"].MAX_PLAYOUT_RATE,i["default"].CODING_DEPENDENCY,i["default"].SCAN_TYPE,i["default"].FRAME_PACKING,i["default"].AUDIO_CHANNEL_CONFIGURATION,i["default"].CONTENT_PROTECTION,i["default"].ESSENTIAL_PROPERTY,i["default"].SUPPLEMENTAL_PROPERTY,i["default"].INBAND_EVENT_STREAM];return t.call(this,i["default"].ADAPTATION_SET,e,[new n["default"](i["default"].REPRESENTATION,e,[new n["default"](i["default"].SUB_REPRESENTATION,e)])])}return r}(n["default"]);const g=p},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ./MapNode */"./src/dash/parser/maps/MapNode.js"),i=r(/*! ../../constants/DashConstants */"./src/dash/constants/DashConstants.js");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=d();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){s(r,e);var t=l(r);function r(){o(this,r);var e=[i["default"].SEGMENT_BASE,i["default"].SEGMENT_TEMPLATE,i["default"].SEGMENT_LIST];return t.call(this,i["default"].PERIOD,e,[new n["default"](i["default"].ADAPTATION_SET,e,[new n["default"](i["default"].REPRESENTATION,e)])])}return r}(n["default"]);const g=p},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
  \*************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>s});var o=function(){function e(t,r){n(this,e),this._test=t,this._converter=r}return a(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();const s=o},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
  \*****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(/*! ./BaseMatcher */"./src/dash/parser/matchers/BaseMatcher.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=60,p=60,g=1e3,m=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,v=function(e){o(r,e);var t=u(r);function r(){return a(this,r),t.call(this,(function(e){return m.test(e.value)}),(function(e){var t,r=m.exec(e);if(t=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&parseInt(r[6],10)||0,r[7]&&parseFloat(r[7])*g||0),r[9]&&r[10]){var n=parseInt(r[9],10)*p+parseInt(r[10],10);t+=("+"===r[8]?-1:1)*n*h*g}return new Date(t)}))}return r}(n["default"]);const y=v},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
  \*****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var n=r(/*! ./BaseMatcher */"./src/dash/parser/matchers/BaseMatcher.js"),i=r(/*! ../../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),a=r(/*! ../../constants/DashConstants */"./src/dash/constants/DashConstants.js");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=h();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,m=31536e3,v=2592e3,y=86400,b=3600,E=60,_=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.call(this,(function(e){for(var t=[a["default"].MIN_BUFFER_TIME,a["default"].MEDIA_PRESENTATION_DURATION,a["default"].MINIMUM_UPDATE_PERIOD,a["default"].TIMESHIFT_BUFFER_DEPTH,a["default"].MAX_SEGMENT_DURATION,a["default"].MAX_SUBSEGMENT_DURATION,a["default"].SUGGESTED_PRESENTATION_DELAY,a["default"].START,i["default"].START_TIME,a["default"].DURATION],r=t.length,n=0;n<r;n++)if(e.nodeName===t[n])return g.test(e.value);return!1}),(function(e){var t=g.exec(e),r=parseFloat(t[3]||0)*m+parseFloat(t[5]||0)*v+parseFloat(t[7]||0)*y+parseFloat(t[9]||0)*b+parseFloat(t[11]||0)*E+parseFloat(t[13]||0);return void 0!==t[1]&&(r=-r),r}))}return r}(n["default"]);const T=_},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
  \*************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(/*! ./BaseMatcher */"./src/dash/parser/matchers/BaseMatcher.js"),i=r(/*! ../../constants/DashConstants */"./src/dash/constants/DashConstants.js"),a=r(/*! bcp-47-normalize */"./node_modules/bcp-47-normalize/index.js"),o=r.n(a);function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=g();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){c(r,e);var t=d(r);function r(){return l(this,r),t.call(this,(function(e,t){var r,n=(r={},u(r,i["default"].ADAPTATION_SET,[i["default"].LANG]),u(r,i["default"].REPRESENTATION,[i["default"].LANG]),u(r,i["default"].CONTENT_COMPONENT,[i["default"].LANG]),u(r,i["default"].LABEL,[i["default"].LANG]),u(r,i["default"].GROUP_LABEL,[i["default"].LANG]),r);if(n.hasOwnProperty(t)){var a=n[t];return void 0!==a&&a.indexOf(e.name)>=0}return!1}),(function(e){var t=o()(e);return void 0!==t?t:String(e)}))}return r}(n["default"]);const y=v},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
  \****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ./BaseMatcher */"./src/dash/parser/matchers/BaseMatcher.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,p=function(e){o(r,e);var t=u(r);function r(){return a(this,r),t.call(this,(function(e){return h.test(e.value)}),(function(e){return parseFloat(e)}))}return r}(n["default"]);const g=p},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
  \***************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(/*! ./BaseMatcher */"./src/dash/parser/matchers/BaseMatcher.js"),i=r(/*! ../../constants/DashConstants */"./src/dash/constants/DashConstants.js");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=h();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.call(this,(function(e,t){var r,n=(r={},o(r,i["default"].MPD,[i["default"].ID,i["default"].PROFILES]),o(r,i["default"].PERIOD,[i["default"].ID]),o(r,i["default"].BASE_URL,[i["default"].SERVICE_LOCATION,i["default"].BYTE_RANGE]),o(r,i["default"].SEGMENT_BASE,[i["default"].INDEX_RANGE]),o(r,i["default"].INITIALIZATION,[i["default"].RANGE]),o(r,i["default"].REPRESENTATION_INDEX,[i["default"].RANGE]),o(r,i["default"].SEGMENT_LIST,[i["default"].INDEX_RANGE]),o(r,i["default"].BITSTREAM_SWITCHING,[i["default"].RANGE]),o(r,i["default"].SEGMENT_URL,[i["default"].MEDIA_RANGE,i["default"].INDEX_RANGE]),o(r,i["default"].SEGMENT_TEMPLATE,[i["default"].INDEX_RANGE,i["default"].MEDIA,i["default"].INDEX,i["default"].INITIALIZATION_MINUS,i["default"].BITSTREAM_SWITCHING_MINUS]),o(r,i["default"].ASSET_IDENTIFIER,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].EVENT_STREAM,[i["default"].VALUE]),o(r,i["default"].ADAPTATION_SET,[i["default"].PROFILES,i["default"].MIME_TYPE,i["default"].SEGMENT_PROFILES,i["default"].CODECS,i["default"].CONTENT_TYPE]),o(r,i["default"].FRAME_PACKING,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].AUDIO_CHANNEL_CONFIGURATION,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].CONTENT_PROTECTION,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].ESSENTIAL_PROPERTY,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].SUPPLEMENTAL_PROPERTY,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].INBAND_EVENT_STREAM,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].ACCESSIBILITY,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].ROLE,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].RATING,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].VIEWPOINT,[i["default"].VALUE,i["default"].ID]),o(r,i["default"].CONTENT_COMPONENT,[i["default"].CONTENT_TYPE]),o(r,i["default"].REPRESENTATION,[i["default"].ID,i["default"].DEPENDENCY_ID,i["default"].MEDIA_STREAM_STRUCTURE_ID]),o(r,i["default"].SUBSET,[i["default"].ID]),o(r,i["default"].METRICS,[i["default"].METRICS_MINUS]),o(r,i["default"].REPORTING,[i["default"].VALUE,i["default"].ID]),r);if(n.hasOwnProperty(t)){var a=n[t];return void 0!==a&&a.indexOf(e.name)>=0}return!1}),(function(e){return String(e)}))}return r}(n["default"]);const m=g},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
  !*** ./src/dash/parser/objectiron.js ***!
  \***************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){function t(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function r(e,r,n){for(var a=0,o=e.length;a<o;++a){var s=e[a];if(r[s.name])if(n[s.name]){if(s.merge){var u=r[s.name],l=n[s.name];"object"===i(u)&&"object"===i(l)?t(u,l):n[s.name]=u+l}}else n[s.name]=r[s.name]}}function n(e,t){for(var i=0,a=e.children.length;i<a;++i){var o=e.children[i],s=t[o.name+"_asArray"];if(s)for(var u=0,l=s.length;u<l;++u){var c=s[u];r(e.properties,t,c),n(o,c)}}}function a(t){if(null===t||"object"!==i(t))return t;if(t.Period_asArray&&"period"in e)for(var r=e.period,a=t.Period_asArray,o=0,s=a.length;o<s;++o){var u=a[o];if(n(r,u),"adaptationset"in e){var l=u.AdaptationSet_asArray;if(l)for(var c=e.adaptationset,f=0,d=l.length;f<d;++f)n(c,l[f])}}return t}return{run:a}}a.__dashjs_factory_name="ObjectIron";var o=n["default"].getClassFactory(a);const s=o},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
  \**********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),a=r(/*! ./SegmentsUtils */"./src/dash/utils/SegmentsUtils.js");function o(e,t){e=e||{};var r,n=e.timelineConverter;function o(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i["default"].MISSING_CONFIG_ERROR)}function s(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,n=e&&!isNaN(e.startNumber)?e.startNumber:1,i=Math.max(n-1,0);return t.numberOfSegments=i+r.SegmentURL_asArray.length,t}function u(e,r){if(o(),!e)return null;var i=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,s=i.SegmentURL_asArray.length,u=e&&!isNaN(e.startNumber)?e.startNumber:1,l=Math.max(u-1,0),c=Math.max(r-l,0),f=null;if(c<s){var d=i.SegmentURL_asArray[c];f=(0,a.getIndexBasedSegment)(n,t,e,r),f&&(f.replacementTime=(u+r-1)*e.segmentDuration,f.media=d.media?d.media:"",f.mediaRange=d.mediaRange,f.indexRange=d.indexRange)}return f}function l(e,t){if(o(),!e)return null;var r=e.segmentDuration;if(isNaN(r))return null;var i=n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t),a=Math.floor(i/r);return u(e,a)}return r={getSegmentByIndex:u,getSegmentByTime:l,getMediaFinishedInformation:s},r}o.__dashjs_factory_name="ListSegmentsGetter";var s=n["default"].getClassFactory(o);const u=s},"./src/dash/utils/Round10.js":
/*!***********************************!*\
  !*** ./src/dash/utils/Round10.js ***!
  \***********************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>o});var o=function(){function e(){n(this,e)}return a(e,null,[{key:"round10",value:function(e,t){return s("round",e,t)}}]),e}();function s(e,t,r){return"undefined"===typeof r||0===+r?Math[e](t):(t=+t,r=+r,null===t||isNaN(t)||"number"!==typeof r||r%1!==0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+r:r))))}},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js");function a(e){e=e||{};var t,r=e.timelineConverter;function n(){if(!r||!r.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i["default"].MISSING_CONFIG_ERROR)}function a(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return e&&e.segments?(t.numberOfSegments=e.segments.length,t):t}function o(e,t){if(n(),!e)return null;var r,i=e.segments?e.segments.length:-1;if(t<i&&(r=e.segments[t],r&&r.index===t))return r;for(var a=0;a<i;a++)if(r=e.segments[a],r&&r.index===t)return r;return null}function s(e,t){n();var r=u(e,t);return o(e,r)}function u(e,t){if(!e)return-1;var r,n,i,a,o,s=e.segments,u=s?s.length:null,l=-1;if(s&&u>0)for(o=0;o<u;o++)if(n=s[o],i=n.presentationStartTime,a=n.duration,r=a/2,t+r>=i&&t-r<i+a){l=n.index;break}return l}return t={getSegmentByIndex:o,getSegmentByTime:s,getMediaFinishedInformation:a},t}a.__dashjs_factory_name="SegmentBaseGetter";var o=n["default"].getClassFactory(a);const s=o},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
  !*** ./src/dash/utils/SegmentsUtils.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{getIndexBasedSegment:()=>f,getTimeBasedSegment:()=>d,replaceIDForTemplate:()=>s,replaceTokenForTemplate:()=>u,unescapeDollarsInTemplate:()=>o});var n=r(/*! ./../vo/Segment */"./src/dash/vo/Segment.js");function i(e,t){while(e.length<t)e="0"+e;return e}function a(e,t){return e.representation.startNumber+t}function o(e){return e?e.split("$$").join("$"):e}function s(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var r=t.toString();return e.split("$RepresentationID$").join(r)}function u(e,t,r){var n,a,o,s,u,l,c="%0",f=t.length,d=c.length;if(!e)return e;while(1){if(n=e.indexOf("$"+t),n<0)return e;if(a=e.indexOf("$",n+f),a<0)return e;if(o=e.indexOf(c,n+f),o>n&&o<a)switch(s=e.charAt(a-1),u=parseInt(e.substring(o+d,a-1),10),s){case"d":case"i":case"u":l=i(r.toString(),u);break;case"x":l=i(r.toString(16),u);break;case"X":l=i(r.toString(16),u).toUpperCase();break;case"o":l=i(r.toString(8),u);break;default:return e}else l=r;e=e.substring(0,n)+l+e.substring(a+1)}}function l(e,t,r,i,o,s,u,l){var c=new n["default"];return c.representation=e,c.duration=t,c.presentationStartTime=r,c.mediaStartTime=i,c.availabilityStartTime=o.calcAvailabilityStartTimeFromPresentationTime(s,e,u),c.availabilityEndTime=o.calcAvailabilityEndTimeFromPresentationTime(s+t,e,u),c.wallStartTime=o.calcWallTimeForSegment(c,u),c.replacementNumber=a(c,l),c.index=l,c}function c(e,t,r,n){var i=t.adaptation.period;if(isFinite(i.duration)&&i.start+i.duration<=r.presentationStartTime)return!1;if(n){if("INF"===t.availabilityTimeOffset)return!0;var a=e.getClientReferenceTime();return r.availabilityStartTime.getTime()<=a&&(!isFinite(r.availabilityEndTime)||r.availabilityEndTime.getTime()>=a)}return!0}function f(e,t,r,n){var i,a,o;i=r.segmentDuration,isNaN(i)&&(i=r.adaptation.period.duration),a=parseFloat((r.adaptation.period.start+n*i).toFixed(5)),o=parseFloat((a+i).toFixed(5));var s=e.calcMediaTimeFromPresentationTime(a,r),u=l(r,i,a,s,e,o,t,n);return c(e,r,u,t)?u:null}function d(e,t,r,n,i,a,o,s,f,d){var h,p,g,m=n/a,v=i/a;return h=e.calcPresentationTimeFromMediaTime(m,r),p=h+v,g=l(r,v,h,m,e,p,t,f),c(e,r,g,t)?(g.replacementTime=d||n,o=u(o,"Number",g.replacementNumber),o=u(o,"Time",g.replacementTime),g.media=o,g.mediaRange=s,g):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),a=r(/*! ./SegmentsUtils */"./src/dash/utils/SegmentsUtils.js");function o(e,t){e=e||{};var r,n=e.timelineConverter;function o(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i["default"].MISSING_CONFIG_ERROR)}function s(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var r=e.segmentDuration;return isNaN(r)?t.numberOfSegments=1:t.numberOfSegments=Math.ceil(e.adaptation.period.duration/r),t}function u(e,r){if(o(),!e)return null;var i=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate;r=Math.max(r,0);var s=(0,a.getIndexBasedSegment)(n,t,e,r);if(s){s.replacementTime=Math.round((r-1)*e.segmentDuration*e.timescale,10);var u=i.media;u=(0,a.replaceTokenForTemplate)(u,"Number",s.replacementNumber),u=(0,a.replaceTokenForTemplate)(u,"Time",s.replacementTime),s.media=u}return s}function l(e,t){if(o(),!e)return null;var r=e.segmentDuration;if(isNaN(r))return null;var i=n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t),a=Math.floor(i/r);return u(e,a)}return r={getSegmentByIndex:u,getSegmentByTime:l,getMediaFinishedInformation:s},r}o.__dashjs_factory_name="TemplateSegmentsGetter";var s=n["default"].getClassFactory(o);const u=s},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
  !*** ./src/dash/utils/TimelineConverter.js ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),i=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),a=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../constants/DashConstants */"./src/dash/constants/DashConstants.js"),s=r(/*! ../models/DashManifestModel */"./src/dash/models/DashManifestModel.js"),u=r(/*! ../../core/Settings */"./src/core/Settings.js"),l=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),c=r(/*! ../../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),f=r(/*! ../../streaming/constants/ConformanceViolationConstants */"./src/streaming/constants/ConformanceViolationConstants.js");function d(){var e,t,r,a,d=this.context,h=(0,n["default"])(d).getInstance(),p=(0,u["default"])(d).getInstance();function g(){t=(0,s["default"])(d).getInstance(),F()}function m(){k(),h.on(i["default"].UPDATE_TIME_SYNC_OFFSET,L,this)}function v(){return a}function y(e){a=e}function b(){return Date.now()-1e3*r+1e3*a}function E(e,t,r,n){var i,a=t.adaptation.period.mpd,o=a.availabilityStartTime;if(n)i=r&&a.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(o.getTime()+1e3*(e+a.timeShiftBufferDepth)):a.availabilityEndTime;else if(r){var s=t.availabilityTimeOffset;i=new Date(o.getTime()+1e3*(e-s))}else i=o;return i}function _(e,t,r){return E(e,t,r)}function T(e,t,r){return E(e,t,r,!0)}function w(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*a)/1e3}function S(e,t){var r=t.adaptation.period.start,n=t.presentationTimeOffset;return e+(r-n)}function A(e,t){var r=t.adaptation.period.start,n=t.presentationTimeOffset;return e-r+n}function R(e,t){var r,n,i;return t&&(r=e.representation.adaptation.period.mpd.suggestedPresentationDelay,n=e.presentationStartTime+r,i=new Date(e.availabilityStartTime.getTime()+1e3*n)),i}function I(e,t){if(!t)return C(e);if(p.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var r=N(e);return x(r.now,r.range),r.range}return D(e)}function C(e){var t={start:NaN,end:NaN},r=0,n=NaN;return e.forEach((function(e){var t=e.getStreamInfo();r+=t.duration,(isNaN(n)||t.start<n)&&(n=t.start)})),t.start=n,t.end=n+r,t}function D(e){var t={start:NaN,end:NaN};if(!e||0===e.length)return t;var r=e[0].getAdapter().getRegularPeriods()[0],n=w(new Date,r),i=r.mpd.timeShiftBufferDepth,a=isNaN(i)?0:n-i;if(t.start=M(e,a),t.end=!isNaN(t.start)&&n<t.start?n:M(e,n,!0),!isNaN(i)&&t.end<n-i&&(t.end=NaN),p.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var o=N(e);if(o.range.end<t.start)return h.trigger(c["default"].CONFORMANCE_VIOLATION,{level:f["default"].LEVELS.WARNING,event:f["default"].EVENTS.INVALID_DVR_WINDOW}),x(o.now,o.range),o.range}return t}function N(e){var t={start:NaN,end:NaN},r=e[0].getAdapter().getRegularPeriods()[0],n=w(new Date,r);if(!e||0===e.length)return{range:t,now:n};e.forEach((function(e){var r=e.getAdapter(),i=r.getMediaInfoForType(e.getStreamInfo(),l["default"].VIDEO)||r.getMediaInfoForType(e.getStreamInfo(),l["default"].AUDIO),a=r.getVoRepresentations(i),s=a[0],u={start:NaN,end:NaN};if(s)if(s.segmentInfoType===o["default"].SEGMENT_TIMELINE)u=O(s);else{var c=s.adaptation.period;u.start=c.start,u.end=Math.max(n,c.start+c.duration)}!isNaN(u.start)&&(isNaN(t.start)||t.start>u.start)&&(t.start=u.start),!isNaN(u.end)&&(isNaN(t.end)||t.end<u.end)&&(t.end=u.end)})),t.end=Math.min(n,t.end);var i=M(e,t.end,!0);return t.end=isNaN(i)?t.end:i,t.start=r&&r.mpd&&r.mpd.timeShiftBufferDepth&&!isNaN(r.mpd.timeShiftBufferDepth)&&!isNaN(t.end)?Math.max(t.end-r.mpd.timeShiftBufferDepth,t.start):t.start,t.start=M(e,t.start),{range:t,now:n}}function x(e,t){r=e-t.end}function M(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var n=0,i=!1,a=NaN;while(!i&&n<e.length){var o=e[n].getStreamInfo();o.start<=t&&(!isFinite(o.duration)||o.start+o.duration>=t)?(a=t,i=!0):!r&&o.start>t&&(isNaN(a)||o.start<a)?a=o.start:r&&o.start+o.duration<t&&(isNaN(a)||o.start+o.duration>a)&&(a=o.start+o.duration),n+=1}return a}catch(s){return t}}function O(e){var r,n,i,a,o=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],s=t.getRepresentationFor(e.index,o),u=s.SegmentTemplate.SegmentTimeline,l=s.SegmentTemplate.timescale,c=u.S_asArray,f={start:0,end:0},d=0;for(f.start=S(c[0].t/l,e),i=0,a=c.length;i<a;i++)r=c[i],n=0,r.hasOwnProperty("r")&&(n=r.r),d+=r.d*(1+n);return f.end=S((c[0].t+d)/l,e),f}function P(e,t){var r=e.adaptation.period.start;return t-r}function L(e){void 0===e.offset||isNaN(e.offset)||y(e.offset/1e3)}function k(){a=0,r=0}function F(){h.off(i["default"].UPDATE_TIME_SYNC_OFFSET,L,this),k()}return e={initialize:m,getClientTimeOffset:v,setClientTimeOffset:y,getClientReferenceTime:b,calcAvailabilityStartTimeFromPresentationTime:_,calcAvailabilityEndTimeFromPresentationTime:T,calcPresentationTimeFromWallTime:w,calcPresentationTimeFromMediaTime:S,calcPeriodRelativeTimeFromMpdRelativeTime:P,calcMediaTimeFromPresentationTime:A,calcWallTimeForSegment:R,calcTimeShiftBufferWindow:I,reset:F},g(),e}d.__dashjs_factory_name="TimelineConverter";const h=a["default"].getSingletonFactory(d)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),a=r(/*! ./SegmentsUtils */"./src/dash/utils/SegmentsUtils.js");function o(e,t){e=e||{};var r,n=e.timelineConverter,o=e.dashMetrics;function s(){if(!n)throw new Error(i["default"].MISSING_CONFIG_ERROR)}function u(e){if(!e)return 0;var t,r,n,i,a,o,s,u=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,l=u.SegmentTimeline,f=0,d=0,h=0;for(s=e.timescale,t=l.S_asArray,i=t.length,n=0;n<i;n++){if(r=t[n],o=0,r.hasOwnProperty("r")&&(o=r.r),r.hasOwnProperty("t")&&(f=r.t,d=f/s),o<0){var p=t[n+1];o=c(e,p,r,s,d)}for(a=0;a<=o;a++)h++,f+=r.d,d=f/s}return{numberOfSegments:h,mediaTimeOfLastSignaledSegment:d}}function l(e,t){var r,n,i,a,o,s,u,l=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,f=l.SegmentTimeline,d=l.SegmentURL_asArray,h=0,p=-1;u=e.timescale,r=f.S_asArray;var g=!1;for(i=0,a=r.length;i<a&&!g;i++){if(n=r[i],s=0,n.hasOwnProperty("r")&&(s=n.r),n.hasOwnProperty("t")&&(h=n.t),s<0){var m=r[i+1];s=c(e,m,n,u,h/u)}for(o=0;o<=s&&!g;o++)p++,g=t(h,l,d,n,u,p,i),g&&(e.segmentDuration=n.d/u),h+=n.d}}function c(e,t,r,i,a){var s;if(t&&t.hasOwnProperty("t"))s=t.t/i;else try{var u=0;if(isNaN(e.adaptation.period.start)||isNaN(e.adaptation.period.duration)||!isFinite(e.adaptation.period.duration)){var l=o.getCurrentDVRInfo();u=isNaN(l.end)?0:l.end}else u=e.adaptation.period.start+e.adaptation.period.duration;s=n.calcMediaTimeFromPresentationTime(u,e),e.segmentDuration=r.d/i}catch(c){s=0}return Math.max(Math.ceil((s-a)/(r.d/i))-1,0)}function f(e,r,i){if(s(),!e)return null;var o=null,u=!1;return l(e,(function(r,s,l,c,f,d,h){if(u||i<0){var p=s.media,g=c.mediaRange;return l&&(p=l[h].media||"",g=l[h].mediaRange),o=(0,a.getTimeBasedSegment)(n,t,e,r,c.d,f,p,g,d,c.tManifest),!0}return r>=i*f-.5*c.d&&(u=!0),!1})),o}function d(e,r){if(s(),!e)return null;void 0===r&&(r=null);var i=null,o=n.calcMediaTimeFromPresentationTime(r,e);return l(e,(function(r,s,u,l,c,f,d){var p=h(o*c);if(p<r+l.d&&p>=r){var g=s.media,m=l.mediaRange;return u&&(g=u[d].media||"",m=u[d].mediaRange),i=(0,a.getTimeBasedSegment)(n,t,e,r,l.d,c,g,m,f,l.tManifest),!0}return!1})),i}function h(e){return parseFloat(e.toPrecision(15))}return r={getSegmentByIndex:f,getSegmentByTime:d,getMediaFinishedInformation:u},r}o.__dashjs_factory_name="TimelineSegmentsGetter";var s=n["default"].getClassFactory(o);const u=s},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
  !*** ./src/dash/vo/AdaptationSet.js ***!
  \**************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.period=null,this.index=-1,this.type=null};const a=i},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
  !*** ./src/dash/vo/BaseURL.js ***!
  \********************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>s});var i=1,a=1,o=function e(t,r,o,s){n(this,e),this.url=t||"",this.serviceLocation=r||t||"",this.dvb_priority=o||i,this.dvb_weight=s||a,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};o.DEFAULT_DVB_PRIORITY=i,o.DEFAULT_DVB_WEIGHT=a;const s=o},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
  !*** ./src/dash/vo/ContentSteering.js ***!
  \****************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null};const a=i},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
  \***********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../streaming/vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function e(t){i(this,e),this.url=t||null,this.type=n.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"};const o=a},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
  \************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]};const a=i},"./src/dash/vo/Event.js":
/*!******************************!*\
  !*** ./src/dash/vo/Event.js ***!
  \******************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};const a=i},"./src/dash/vo/EventStream.js":
/*!************************************!*\
  !*** ./src/dash/vo/EventStream.js ***!
  \************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0};const a=i},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
  !*** ./src/dash/vo/ManifestInfo.js ***!
  \*************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};const a=i},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
  !*** ./src/dash/vo/MediaInfo.js ***!
  \**********************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}};const a=i},"./src/dash/vo/Mpd.js":
/*!****************************!*\
  !*** ./src/dash/vo/Mpd.js ***!
  \****************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};const a=i},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
  !*** ./src/dash/vo/PatchOperation.js ***!
  \***************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>s});var o=function(){function e(t,r,i){n(this,e),this.action=t,this.xpath=r,this.value=i,this.position=null}return a(e,[{key:"getMpdTarget",value:function(e){var t="remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position;return this.xpath.getMpdTarget(e,t)}}]),e}();const s=o},"./src/dash/vo/Period.js":
/*!*******************************!*\
  !*** ./src/dash/vo/Period.js ***!
  \*******************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};i.DEFAULT_ID="defaultId";const a=i},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
  \**********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null};const a=i},"./src/dash/vo/Representation.js":
/*!***************************************!*\
  !*** ./src/dash/vo/Representation.js ***!
  \***************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../constants/DashConstants */"./src/dash/constants/DashConstants.js");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var s=function(){function e(){i(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return o(e,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==n["default"].BASE_URL&&this.segmentInfoType!==n["default"].SEGMENT_BASE&&!this.indexRange}}]),e}();const u=s},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
  !*** ./src/dash/vo/RepresentationInfo.js ***!
  \*******************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};const a=i},"./src/dash/vo/Segment.js":
/*!********************************!*\
  !*** ./src/dash/vo/Segment.js ***!
  \********************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null};const a=i},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
  !*** ./src/dash/vo/SimpleXPath.js ***!
  \************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>s});var o=function(){function e(t){var r=this;n(this,e),this.valid="/"==t[0],this.path=t.split("/").filter((function(e){return 0!==e.length})).map((function(e){var t={name:e},n=e.indexOf("[");if(-1!=n){t.name=e.substring(0,n);var i=e.substring(n+1,e.length-1);r.valid=r.valid&&-1==i.indexOf("[");var a=i.indexOf("=");-1!=a?(t.attribute={name:i.substring(1,a),value:i.substring(a+1)},-1!=["'",'"'].indexOf(t.attribute.value[0])&&(t.attribute.value=t.attribute.value.substring(1,t.attribute.value.length-1))):t.position=parseInt(i,10)-1}return t}))}return a(e,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(e,t){var r=null,n=e,i=1,a="MPD";while(i<this.path.length&&null!==n){r=n;var o=this.path[i];if(a=o.name,i!==this.path.length-1||!a.startsWith("@")){var s=r[a+"_asArray"]||[];0===s.length&&r[a]&&s.push(r[a]),o.position?n=s[o.position]||null:o.attribute?function(){var e=o.attribute;n=s.filter((function(t){return t[e.name]==e.value}))[0]||null}():n=s[0]||null}i++}return null===n?null:a.startsWith("@")?{name:a.substring(1),leaf:n,target:n}:{name:a,leaf:n,target:t?r:n}}}]),e}();const s=o},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
  !*** ./src/dash/vo/StreamInfo.js ***!
  \***********************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0};const a=i},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
  !*** ./src/dash/vo/UTCTiming.js ***!
  \**********************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.schemeIdUri="",this.value=""};const a=i},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
  !*** ./src/streaming/FragmentLoader.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ./constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ./net/URLLoader */"./src/streaming/net/URLLoader.js"),a=r(/*! ./vo/HeadRequest */"./src/streaming/vo/HeadRequest.js"),o=r(/*! ./vo/DashJSError */"./src/streaming/vo/DashJSError.js"),s=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js");function u(e){e=e||{};var t,r,s=this.context,u=e.eventBus,l=e.events,c=e.urlUtils,f=e.errors,d=e.streamId;function h(){r=(0,i["default"])(s).create({errHandler:e.errHandler,errors:f,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,urlUtils:c,constants:n["default"],boxParser:e.boxParser,dashConstants:e.dashConstants,requestTimeout:e.settings.get().streaming.fragmentRequestTimeout})}function p(e){var t=function(t){u.trigger(l.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new a["default"](e.url);r.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)}function g(e){var n=function(r,n){u.trigger(l.LOADING_COMPLETED,{request:e,response:r||null,error:n||null,sender:t})};e?r.load({request:e,progress:function(r){u.trigger(l.LOADING_PROGRESS,{request:e,stream:r.stream,streamId:d}),r.data&&u.trigger(l.LOADING_DATA_PROGRESS,{request:e,response:r.data||null,error:null,sender:t})},success:function(e){n(e)},error:function(e,t,r){n(void 0,new o["default"](f.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,r,t))},abort:function(e){e&&u.trigger(l.LOADING_ABANDONED,{mediaType:e.mediaType,request:e,sender:t})}}):n(void 0,new o["default"](f.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,f.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))}function m(){r&&r.abort()}function v(){r&&(r.abort(),r=null)}return t={checkForExistence:p,load:g,abort:m,reset:v},h(),t}u.__dashjs_factory_name="FragmentLoader";const l=s["default"].getClassFactory(u)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
  !*** ./src/streaming/ManifestLoader.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(/*! ./constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../dash/constants/DashConstants */"./src/dash/constants/DashConstants.js"),a=r(/*! ./controllers/XlinkController */"./src/streaming/controllers/XlinkController.js"),o=r(/*! ./net/URLLoader */"./src/streaming/net/URLLoader.js"),s=r(/*! ./utils/URLUtils */"./src/streaming/utils/URLUtils.js"),u=r(/*! ./vo/TextRequest */"./src/streaming/vo/TextRequest.js"),l=r(/*! ./vo/DashJSError */"./src/streaming/vo/DashJSError.js"),c=r(/*! ./vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),f=r(/*! ../core/EventBus */"./src/core/EventBus.js"),d=r(/*! ../core/events/Events */"./src/core/events/Events.js"),h=r(/*! ../core/errors/Errors */"./src/core/errors/Errors.js"),p=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),g=r(/*! ../dash/parser/DashParser */"./src/dash/parser/DashParser.js");function m(e){e=e||{};var t,r,p,m,v,y=this.context,b=e.debug,E=e.settings,_=(0,f["default"])(y).getInstance(),T=(0,s["default"])(y).getInstance(),w=e.mssHandler,S=e.errHandler;function A(){r=b.getLogger(t),_.on(d["default"].XLINK_READY,R,t),p=(0,o["default"])(y).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,urlUtils:T,constants:n["default"],dashConstants:i["default"],errors:h["default"],requestTimeout:e.settings.get().streaming.manifestRequestTimeout}),m=(0,a["default"])(y).create({errHandler:S,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),v=null}function R(e){_.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function I(e){var t=null;return e.indexOf("SmoothStreamingMedia")>-1?(w&&(t=w.createMssParser(),w.registerEvents()),t):e.indexOf("MPD")>-1||e.indexOf("Patch")>-1?(0,g["default"])(y).create({debug:b}):t}function C(e){var t=new u["default"](e,c.HTTPRequest.MPD_TYPE);p.load({request:t,success:function(t,i,a){var o,s,u;if(m)if(a&&a!==e?(s=T.parseBaseUrl(a),o=a):(T.isRelative(e)&&(e=T.resolve(e,window.location.href)),s=T.parseBaseUrl(e)),"No Content"!=i)if(null===v&&(v=I(t)),null!==v){m.setMatchers(v.getMatchers()),m.setIron(v.getIron());try{u=v.parse(t)}catch(f){return void _.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l["default"](h["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))})}if(u){if(u.url=o||e,u.originalUrl||(u.originalUrl=u.url),u.hasOwnProperty(n["default"].LOCATION)&&(s=T.parseBaseUrl(u.Location_asArray[0]),r.debug("BaseURI set by Location to: "+s)),E&&E.get().streaming.enableManifestDurationMismatchFix&&u.mediaPresentationDuration&&u.Period_asArray.length>1){var c=u.Period_asArray.reduce((function(e,t){return e+t.duration}),0);!isNaN(c)&&u.mediaPresentationDuration>c&&(r.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),u.mediaPresentationDuration=c)}u.baseUri=s,u.loadedTime=new Date,m.resolveManifestOnLoad(u),_.trigger(d["default"].ORIGINAL_MANIFEST_LOADED,{originalManifest:t})}else _.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l["default"](h["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))})}else _.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l["default"](h["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(e))});else _.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(t,r,n){_.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l["default"](h["default"].MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,h["default"].MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(e,", ").concat(n))})}})}function D(){_.off(d["default"].XLINK_READY,R,t),w&&w.reset(),m&&(m.reset(),m=null),p&&(p.abort(),p=null)}return t={load:C,reset:D},A(),t}m.__dashjs_factory_name="ManifestLoader";var v=p["default"].getClassFactory(m);const y=v},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
  !*** ./src/streaming/ManifestUpdater.js ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../core/EventBus */"./src/core/EventBus.js"),i=r(/*! ../core/events/Events */"./src/core/events/Events.js"),a=r(/*! ../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),o=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),s=r(/*! ../core/Debug */"./src/core/Debug.js"),u=r(/*! ../core/errors/Errors */"./src/core/errors/Errors.js"),l=r(/*! ../dash/constants/DashConstants */"./src/dash/constants/DashConstants.js"),c=r(/*! ./utils/URLUtils */"./src/streaming/utils/URLUtils.js");function f(){var e,t,r,o,f,d,h,p,g,m,v,y,b=this.context,E=(0,n["default"])(b).getInstance(),_=(0,c["default"])(b).getInstance();function T(){t=(0,s["default"])(b).getInstance().getLogger(e)}function w(e){e&&(e.manifestModel&&(g=e.manifestModel),e.adapter&&(m=e.adapter),e.manifestLoader&&(p=e.manifestLoader),e.errHandler&&(v=e.errHandler),e.settings&&(y=e.settings))}function S(){R(),E.on(i["default"].STREAMS_COMPOSED,k,this),E.on(a["default"].PLAYBACK_STARTED,P,this),E.on(a["default"].PLAYBACK_PAUSED,L,this),E.on(i["default"].INTERNAL_MANIFEST_LOADED,O,this)}function A(e){x(e)}function R(){r=NaN,h=!1,f=!0,d=!1,C()}function I(){E.off(a["default"].PLAYBACK_STARTED,P,this),E.off(a["default"].PLAYBACK_PAUSED,L,this),E.off(i["default"].STREAMS_COMPOSED,k,this),E.off(i["default"].INTERNAL_MANIFEST_LOADED,O,this),R()}function C(){null!==o&&(clearTimeout(o),o=null)}function D(e){C(),d||(isNaN(e)&&!isNaN(r)&&(e=1e3*r),isNaN(e)||(t.debug("Refresh manifest in "+e+" milliseconds."),o=setTimeout(M,e)))}function N(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h=!0;var t=g.getValue(),r=t.url,n=m.getPatchLocation(t),i=m.getLocation(t);n&&!e?r=n:i&&(r=i),_.isRelative(r)&&(r=_.resolve(r,t.url)),p.load(r)}function x(e){if(e){if(m.getIsPatch(e)){var n=e;e=g.getValue();var a=m.isPatchValid(e,n),o=a;if(a){var s=m.getPublishTime(e);o=m.applyPatchToManifest(e,n);var u=m.getPublishTime(e);o=s.getTime()!=u.getTime()}if(!o)return t.debug("Patch provided is invalid, performing full manifest refresh"),void N(!0);e.loadedTime=new Date}}else e=g.getValue(),e.loadedTime=new Date;if(g.getValue()&&g.getValue().type===l["default"].DYNAMIC&&e.type===l["default"].STATIC)return E.trigger(i["default"].DYNAMIC_TO_STATIC),h=!1,void(d=!0);g.setValue(e);var c=new Date,p=(c.getTime()-e.loadedTime.getTime())/1e3;r=m.getManifestUpdatePeriod(e,p),1e3*r>2147483647&&(r=2147483.647),E.trigger(i["default"].MANIFEST_UPDATED,{manifest:e}),t.info("Manifest has been refreshed at "+c+"["+c.getTime()/1e3+"] "),f||D()}function M(){f||(h?D(y.get().streaming.manifestUpdateRetryInterval):N())}function O(e){e.error?e.error.code===u["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&v.error(e.error):x(e.manifest)}function P(){f=!1,D()}function L(){f=!y.get().streaming.scheduling.scheduleWhilePaused,f&&C()}function k(){h=!1}function F(){return h}return e={initialize:S,setManifest:A,refreshManifest:N,getIsUpdating:F,setConfig:w,reset:I},T(),e}f.__dashjs_factory_name="ManifestUpdater";const d=o["default"].getClassFactory(f)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
  !*** ./src/streaming/MediaPlayer.js ***!
  \**************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ee});var n=r(/*! ../../externals/cea608-parser */"./externals/cea608-parser.js"),i=r.n(n),a=r(/*! ./constants/Constants */"./src/streaming/constants/Constants.js"),o=r(/*! ../dash/constants/DashConstants */"./src/dash/constants/DashConstants.js"),s=r(/*! ./constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),u=r(/*! ./controllers/PlaybackController */"./src/streaming/controllers/PlaybackController.js"),l=r(/*! ./controllers/StreamController */"./src/streaming/controllers/StreamController.js"),c=r(/*! ./controllers/GapController */"./src/streaming/controllers/GapController.js"),f=r(/*! ./controllers/CatchupController */"./src/streaming/controllers/CatchupController.js"),d=r(/*! ../dash/controllers/ServiceDescriptionController */"./src/dash/controllers/ServiceDescriptionController.js"),h=r(/*! ../dash/controllers/ContentSteeringController */"./src/dash/controllers/ContentSteeringController.js"),p=r(/*! ./controllers/MediaController */"./src/streaming/controllers/MediaController.js"),g=r(/*! ./controllers/BaseURLController */"./src/streaming/controllers/BaseURLController.js"),m=r(/*! ./ManifestLoader */"./src/streaming/ManifestLoader.js"),v=r(/*! ./utils/ErrorHandler */"./src/streaming/utils/ErrorHandler.js"),y=r(/*! ./utils/Capabilities */"./src/streaming/utils/Capabilities.js"),b=r(/*! ./utils/CapabilitiesFilter */"./src/streaming/utils/CapabilitiesFilter.js"),E=r(/*! ./utils/RequestModifier */"./src/streaming/utils/RequestModifier.js"),_=r(/*! ./models/URIFragmentModel */"./src/streaming/models/URIFragmentModel.js"),T=r(/*! ./models/ManifestModel */"./src/streaming/models/ManifestModel.js"),w=r(/*! ./models/MediaPlayerModel */"./src/streaming/models/MediaPlayerModel.js"),S=r(/*! ./controllers/AbrController */"./src/streaming/controllers/AbrController.js"),A=r(/*! ./net/SchemeLoaderFactory */"./src/streaming/net/SchemeLoaderFactory.js"),R=r(/*! ./models/VideoModel */"./src/streaming/models/VideoModel.js"),I=r(/*! ./models/CmcdModel */"./src/streaming/models/CmcdModel.js"),C=r(/*! ./models/CmsdModel */"./src/streaming/models/CmsdModel.js"),D=r(/*! ./utils/DOMStorage */"./src/streaming/utils/DOMStorage.js"),N=r(/*! ./../core/Debug */"./src/core/Debug.js"),x=r(/*! ./../core/errors/Errors */"./src/core/errors/Errors.js"),M=r(/*! ./../core/EventBus */"./src/core/EventBus.js"),O=r(/*! ./../core/events/Events */"./src/core/events/Events.js"),P=r(/*! ./MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),L=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),k=r(/*! ../core/Settings */"./src/core/Settings.js"),F=r(/*! ../core/Version */"./src/core/Version.js"),j=r(/*! ../dash/controllers/SegmentBaseController */"./src/dash/controllers/SegmentBaseController.js"),B=r(/*! ../dash/DashAdapter */"./src/dash/DashAdapter.js"),U=r(/*! ../dash/DashMetrics */"./src/dash/DashMetrics.js"),q=r(/*! ../dash/utils/TimelineConverter */"./src/dash/utils/TimelineConverter.js"),G=r(/*! ./vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),V=r(/*! ../../externals/base64 */"./externals/base64.js"),H=r(/*! codem-isoboxer */"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Y=r(/*! ./vo/DashJSError */"./src/streaming/vo/DashJSError.js"),z=r(/*! ./utils/SupervisorTools */"./src/streaming/utils/SupervisorTools.js"),K=r(/*! ./ManifestUpdater */"./src/streaming/ManifestUpdater.js"),W=r(/*! ../streaming/utils/URLUtils */"./src/streaming/utils/URLUtils.js"),$=r(/*! ./utils/BoxParser */"./src/streaming/utils/BoxParser.js"),X=r(/*! ./text/TextController */"./src/streaming/text/TextController.js"),Q=r(/*! ./models/CustomParametersModel */"./src/streaming/models/CustomParametersModel.js");function Z(){var e,t,r,n,Z,J,ee,te,re,ne,ie,ae,oe,se,ue,le,ce,fe,de,he,pe,ge,me,ve,ye,be,Ee,_e,Te,we,Se,Ae,Re,Ie,Ce,De,Ne,xe,Me="You must first call initialize() and set a source before calling this method",Oe="You must first call initialize() and set a valid source and view before calling this method",Pe="You must first call attachView() to set the video element before calling this method",Le="You must first call attachSource() with a valid source before calling this method",ke="MediaPlayer not initialized!",Fe=this.context,je=(0,M["default"])(Fe).getInstance(),Be=(0,k["default"])(Fe).getInstance(),Ue=(0,N["default"])(Fe).getInstance({settings:Be});function qe(){t=Ue.getLogger(e),Z=!1,ee=!1,J=!1,te=!0,oe=null,le=null,n=null,ce=null,xe=null,O["default"].extend(P["default"]),fe=(0,w["default"])(Fe).getInstance(),de=(0,Q["default"])(Fe).getInstance(),Ce=(0,R["default"])(Fe).getInstance(),De=(0,_["default"])(Fe).getInstance()}function Ge(e){e&&(e.capabilities&&(ge=e.capabilities),e.capabilitiesFilter&&(me=e.capabilitiesFilter),e.streamController&&(ve=e.streamController),e.textController&&(ye=e.textController),e.gapController&&(be=e.gapController),e.playbackController&&(Ee=e.playbackController),e.serviceDescriptionController&&(_e=e.serviceDescriptionController),e.contentSteeringController&&(Te=e.contentSteeringController),e.catchupController&&(we=e.catchupController),e.mediaPlayerModel&&(fe=e.mediaPlayerModel),e.customParametersModel&&(de=e.customParametersModel),e.abrController&&(re=e.abrController),e.schemeLoaderFactory&&(ne=e.schemeLoaderFactory),e.mediaController&&(ae=e.mediaController),e.settings&&(Be=e.settings))}function Ve(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;ge||(ge=(0,y["default"])(Fe).getInstance(),ge.setConfig({settings:Be})),he||(he=(0,v["default"])(Fe).getInstance()),ge.supportsMediaSource()?(Z||(Z=!0,ie=(0,q["default"])(Fe).getInstance(),re||(re=(0,S["default"])(Fe).getInstance(),re.setConfig({settings:Be})),ne||(ne=(0,A["default"])(Fe).getInstance()),Ee||(Ee=(0,u["default"])(Fe).getInstance()),ae||(ae=(0,p["default"])(Fe).getInstance()),ve||(ve=(0,l["default"])(Fe).getInstance()),be||(be=(0,c["default"])(Fe).getInstance()),we||(we=(0,f["default"])(Fe).getInstance()),_e||(_e=(0,d["default"])(Fe).getInstance()),Te||(Te=(0,h["default"])(Fe).getInstance()),me||(me=(0,b["default"])(Fe).getInstance()),ce=(0,B["default"])(Fe).getInstance(),Ae=(0,T["default"])(Fe).getInstance(),Re=(0,I["default"])(Fe).getInstance(),Ie=(0,C["default"])(Fe).getInstance(),Se=(0,U["default"])(Fe).getInstance({settings:Be}),Ne=(0,D["default"])(Fe).getInstance({settings:Be}),ce.setConfig({constants:a["default"],cea608parser:i(),errHandler:he,BASE64:V}),pe||(pe=(0,g["default"])(Fe).create()),pe.setConfig({adapter:ce}),_e.setConfig({adapter:ce}),xe||(xe=(0,j["default"])(Fe).getInstance({dashMetrics:Se,mediaPlayerModel:fe,errHandler:he,baseURLController:pe,events:O["default"],eventBus:je,debug:Ue,boxParser:(0,$["default"])(Fe).getInstance(),requestModifier:(0,E["default"])(Fe).getInstance(),errors:x["default"]})),ae.setConfig({domStorage:Ne,settings:Be,customParametersModel:de}),fe.setConfig({playbackController:Ee,serviceDescriptionController:_e}),Te.setConfig({adapter:ce,errHandler:he,dashMetrics:Se,mediaPlayerModel:fe,manifestModel:Ae,abrController:re,eventBus:je,requestModifier:(0,E["default"])(Fe).getInstance()}),Pt(),St(void 0===n||n),kr()),e&&zt(e),r&&br(r,o),t.info("[dash.js "+$e()+"] MediaPlayer has been initialized")):he.error(new Y["default"](x["default"].CAPABILITY_MEDIASOURCE_ERROR_CODE,x["default"].CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))}function He(){br(null),zt(null),n=null,oe&&(oe.reset(),oe=null),se&&(se.reset(),se=null),de&&de.reset(),Be.reset(),le&&(le.reset(),le=null)}function Ye(){He(),L["default"].deleteSingletonInstances(Fe)}function ze(){return!!r&&!!Ce.getElement()}function Ke(e,t,r,n){je.on(e,t,r,n)}function We(e,t,r){je.off(e,t,r)}function $e(){return(0,F.getVersionString)()}function Xe(){return Ue}function Qe(){if(Ce.getElement()||J)return!1;if(!r)throw Le;jr()}function Ze(){if(!ee)throw Oe;(!te||et()&&ee)&&Ee.play(!0)}function Je(){if(!ee)throw Oe;Ee.pause()}function et(){if(!ee)throw Oe;return Ee.isPaused()}function tt(e){if(!ee)throw Oe;if((0,z.checkParameterType)(e,"number"),isNaN(e))throw a["default"].BAD_ARGUMENT_ERROR;e<0&&(e=0);var t=Ee.getIsDynamic()?pt(e):e,r=Yt();!Ee.getIsDynamic()&&r.duration&&(t=Math.min(r.duration,t)),Ee.seek(t,!1,!1,!0)}function rt(){ee&&it()&&Ee.seekToOriginalLive()}function nt(){if(!ee)throw Oe;return Ee.isSeeking()}function it(){if(!ee)throw Oe;return Ee.getIsDynamic()}function at(){if(!ee)throw Oe;return Ee.getLowLatencyModeEnabled()}function ot(e){Yt().playbackRate=e}function st(){return Yt().playbackRate}function ut(e){(0,z.checkParameterType)(e,"boolean"),Yt().muted=e}function lt(){return Yt().muted}function ct(e){if("number"!==typeof e||isNaN(e)||e<0||e>1)throw a["default"].BAD_ARGUMENT_ERROR;Yt().volume=e}function ft(){return Yt().volume}function dt(e){var r=[a["default"].VIDEO,a["default"].AUDIO,a["default"].TEXT];if(e){if(-1!==r.indexOf(e)){var n=Bt().getCurrentBufferLevel(e);return n||NaN}return t.warn("getBufferLength requested for invalid type"),NaN}var i=r.map((function(e){return Zt(e).length>0?Bt().getCurrentBufferLevel(e):Number.MAX_VALUE})).reduce((function(e,t){return Math.min(e,t)}));return i===Number.MAX_VALUE?NaN:i}function ht(){var e=ve&&ve.hasVideoTrack()?a["default"].VIDEO:a["default"].AUDIO,t=Se.getCurrentDVRInfo(e);return t?t.manifestInfo.dvrWindowSize:0}function pt(e){var t=ve&&ve.hasVideoTrack()?a["default"].VIDEO:a["default"].AUDIO,r=Se.getCurrentDVRInfo(t);if(!r)return 0;var n=Ee.getOriginalLiveDelay(),i=r.range.start+e;return i>r.range.end-n&&(i=r.range.end-n),i}function gt(){if(!ee)throw Oe;return Ee.getOriginalLiveDelay()}function mt(e){if(!ee)throw Oe;var t=Yt().currentTime;if(void 0!==e)t=ve.getTimeRelativeToStreamId(t,e);else if(Ee.getIsDynamic()){var r=ve&&ve.hasVideoTrack()?a["default"].VIDEO:a["default"].AUDIO,n=Se.getCurrentDVRInfo(r);t=null===n||0===t?0:Math.max(0,t-n.range.start)}return t}function vt(){if(!ee)throw Oe;var e=Yt().duration;if(Ee.getIsDynamic()){var t=ve&&ve.hasVideoTrack()?a["default"].VIDEO:a["default"].AUDIO,r=Se.getCurrentDVRInfo(t);e=r?r.range.end-r.range.start:0}return e}function yt(){if(!ee)throw Oe;return mt()<0?NaN:Fr(mt())}function bt(){if(!ee)throw Oe;return Fr(vt())}function Et(e){if(!J)throw Me;return re.getTopBitrateInfoFor(e)}function _t(e){if(!J)throw Me;if(e===a["default"].IMAGE){var t=Rr();if(!t)return-1;var r=t.getThumbnailController();return r?r.getCurrentTrackIndex():-1}return re.getQualityFor(e)}function Tt(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!J)throw Me;if(e===a["default"].IMAGE){var n=Rr();if(!n)return;var i=n.getThumbnailController();i&&i.setTrackByIndex(t)}re.setPlaybackQuality(e,ve.getActiveStreamInfo(),t,{forceReplace:r})}function wt(){re.setElementSize(),re.setWindowResizeEventCalled(!0)}function St(e){(0,z.checkParameterType)(e,"boolean"),te=e}function At(){return te}function Rt(){if(!Z)throw ke;return ee?Ee.getCurrentLiveLatency():NaN}function It(e,t,r){de.addAbrCustomRule(e,t,r)}function Ct(e){de.removeAbrCustomRule(e)}function Dt(){de.removeAllAbrCustomRule()}function Nt(){return de.getAbrCustomRules()}function xt(e,t){de.addUTCTimingSource(e,t)}function Mt(e,t){de.removeUTCTimingSource(e,t)}function Ot(){de.clearDefaultUTCTimingSources()}function Pt(){de.restoreDefaultUTCTimingSources()}function Lt(e){var t=re.getThroughputHistory(),r=Ee.getIsDynamic();return t?t.getAverageThroughput(e,r):0}function kt(e,t){de.setXHRWithCredentialsForType(e,t)}function Ft(e){return de.getXHRWithCredentialsForType(e)}function jt(){return kr()}function Bt(){return Se}function Ut(e){var t=ve.getActiveStreamInfo();return!(!t||!ye)&&ye.enableText(t.id,e)}function qt(e){var t=ve.getActiveStreamInfo();return!(!t||!ye)&&ye.enableForcedTextStreaming(e)}function Gt(){var e=ve.getActiveStreamInfo();return!(!e||!ye)&&ye.isTextEnabled(e)}function Vt(e){if(!ee)throw Oe;var t=ve.getActiveStreamInfo();t&&ye&&ye.setTextTrack(t.id,e)}function Ht(){var e=NaN,t=ve.getActiveStreamInfo();if(t&&ye)return e=ye.getCurrentTrackIdx(t.id),e}function Yt(){if(!Ce.getElement())throw Pe;return Ce.getElement()}function zt(e){if(!Z)throw ke;Ce.setElement(e),e&&(Or(),Pr(),Lr(),ve&&ve.switchToVideoElement()),ee&&Nr(),jr()}function Kt(){return Ce?Ce.getTTMLRenderingDiv():null}function Wt(e){if(!Ce.getElement())throw Pe;Ce.setTTMLRenderingDiv(e)}function $t(e){if(!Ce.getElement())throw Pe;Ce.setVttRenderingDiv(e)}function Xt(e){if(!J)throw Me;var t=Rr();return t?t.getBitrateListFor(e):[]}function Qt(e){if(!J)throw Me;return ce.getStreamsInfo(e)}function Zt(e){if(!J)throw Me;var t=ve.getActiveStreamInfo();return t?ae.getTracksFor(e,t.id):[]}function Jt(e,t,r){if(!J)throw Me;return r=r||ce.getStreamsInfo(t,1)[0],r?ce.getAllMediaInfoForType(r,e,t):[]}function er(e){if(!J)throw Me;var t=ve.getActiveStreamInfo();return ae.getCurrentTrackFor(e,t.id)}function tr(e,t){if(!Z)throw ke;ae.setInitialSettings(e,t)}function rr(e){if(!Z)throw ke;return ae.getInitialSettings(e)}function nr(e){if(!J)throw Me;ae.setTrack(e)}function ir(e){de.registerCustomCapabilitiesFilter(e)}function ar(e){de.unregisterCustomCapabilitiesFilter(e)}function or(e){de.setCustomInitialTrackSelectionFunction(e)}function sr(){de.resetCustomInitialTrackSelectionFunction(null)}function ur(e){de.registerLicenseRequestFilter(e)}function lr(e){de.registerLicenseResponseFilter(e)}function cr(e){de.unregisterLicenseRequestFilter(e)}function fr(e){de.unregisterLicenseResponseFilter(e)}function dr(){return Or()}function hr(e){oe=e}function pr(e){n=e,ve&&ve.setProtectionData(n)}function gr(e,t){if("function"===typeof t)if(e<0)t(null);else{var r=Ee.getIsDynamic()?pt(e):e,n=ve.getStreamForTime(r);if(null!==n){var i=n.getThumbnailController();if(i)return i.provide(r,t);t(null)}else t(null)}}function mr(e,t){var r=Mr(),n=this,i=function e(i){i.error?t(null,i.error):t(i.manifest),je.off(O["default"].INTERNAL_MANIFEST_LOADED,e,n),r.reset()};je.on(O["default"].INTERNAL_MANIFEST_LOADED,i,n),De.initialize(e),r.load(e)}function vr(){if(!r)throw Le;return r}function yr(e){r=e,ve.load(r)}function br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!Z)throw ke;"string"===typeof e&&De.initialize(e),null==t&&(t=NaN),isNaN(t)||(t=Math.max(0,t)),r=e,(J||ee)&&Nr(),ze()&&jr(t)}function Er(){return Be.get()}function _r(e){Be.update(e)}function Tr(){Be.reset()}function wr(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Date(1e3*e),a=i.toLocaleDateString(t),o=i.toLocaleTimeString(t,{hour12:r});return n?o+" "+a:o}function Sr(e){e=Math.max(e,0);var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(r<10?"0"+r.toString():r.toString())+":"+(n<10?"0"+n.toString():n.toString())}function Ar(e,t,r){L["default"].extend(e,t,r,Fe)}function Rr(){if(!J)throw Me;var e=ve.getActiveStreamInfo();return e?ve.getStreamById(e.id):null}function Ir(){return ce}function Cr(){if(Te)return Te.loadSteeringData()}function Dr(){if(Te)return Te.getCurrentSteeringResponseData()}function Nr(){ee=!1,J=!1,ce.reset(),ve.reset(),be.reset(),we.reset(),Ee.reset(),_e.reset(),Te.reset(),re.reset(),ae.reset(),xe.reset(),oe&&(Be.get().streaming.protection.keepProtectionMediaKeys?oe.stop():(oe.reset(),oe=null,Or())),ye.reset(),Re.reset(),Ie.reset()}function xr(){var e=Mr();ve||(ve=(0,l["default"])(Fe).getInstance()),ye||(ye=(0,X["default"])(Fe).create({errHandler:he,manifestModel:Ae,adapter:ce,mediaController:ae,videoModel:Ce,settings:Be})),me.setConfig({capabilities:ge,customParametersModel:de,adapter:ce,settings:Be,manifestModel:Ae,errHandler:he}),ve.setConfig({capabilities:ge,capabilitiesFilter:me,manifestLoader:e,manifestModel:Ae,mediaPlayerModel:fe,customParametersModel:de,protectionController:oe,textController:ye,adapter:ce,dashMetrics:Se,errHandler:he,timelineConverter:ie,videoModel:Ce,playbackController:Ee,serviceDescriptionController:_e,contentSteeringController:Te,abrController:re,mediaController:ae,settings:Be,baseURLController:pe,uriFragmentModel:De,segmentBaseController:xe}),be.setConfig({settings:Be,playbackController:Ee,streamController:ve,videoModel:Ce,timelineConverter:ie,adapter:ce}),Ee.setConfig({streamController:ve,serviceDescriptionController:_e,dashMetrics:Se,adapter:ce,videoModel:Ce,timelineConverter:ie,settings:Be}),we.setConfig({streamController:ve,playbackController:Ee,mediaPlayerModel:fe,videoModel:Ce,settings:Be}),re.setConfig({streamController:ve,domStorage:Ne,mediaPlayerModel:fe,customParametersModel:de,cmsdModel:Ie,dashMetrics:Se,adapter:ce,videoModel:Ce,settings:Be}),Re.setConfig({abrController:re,dashMetrics:Se,playbackController:Ee}),Ie.setConfig({}),re.initialize(),ve.initialize(te,n),ye.initialize(),be.initialize(),we.initialize(),Re.initialize(),Ie.initialize(),Te.initialize(),xe.initialize()}function Mr(){return(0,m["default"])(Fe).create({debug:Ue,errHandler:he,dashMetrics:Se,mediaPlayerModel:fe,requestModifier:(0,E["default"])(Fe).getInstance(),mssHandler:ue,settings:Be})}function Or(){if(oe)return oe;var e=dashjs.Protection;if("function"===typeof e){var t=e(Fe).create();return O["default"].extend(e.events),P["default"].extend(e.events,{publicOnly:!0}),x["default"].extend(e.errors),ge||(ge=(0,y["default"])(Fe).getInstance()),oe=t.createProtectionSystem({debug:Ue,errHandler:he,videoModel:Ce,customParametersModel:de,capabilities:ge,eventBus:je,events:O["default"],BASE64:V,constants:a["default"],cmcdModel:Re,settings:Be}),oe}return null}function Pr(){if(!se){var e=dashjs.MetricsReporting;if("function"===typeof e){var t=e(Fe).create();se=t.createMetricsReporting({debug:Ue,eventBus:je,mediaElement:Yt(),adapter:ce,dashMetrics:Se,mediaPlayerModel:fe,events:O["default"],constants:a["default"],metricsConstants:s["default"]})}}}function Lr(){if(!ue){var e=dashjs.MssHandler;"function"===typeof e&&(x["default"].extend(e.errors),ue=e(Fe).create({eventBus:je,mediaPlayerModel:fe,dashMetrics:Se,manifestModel:Ae,playbackController:Ee,streamController:ve,protectionController:oe,baseURLController:pe,errHandler:he,events:O["default"],constants:a["default"],debug:Ue,initSegmentType:G.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:V,ISOBoxer:H,settings:Be}))}}function kr(){if(!Z)throw ke;if(le)return le;var e=dashjs.OfflineController;if("function"===typeof e){O["default"].extend(e.events),P["default"].extend(e.events,{publicOnly:!0}),x["default"].extend(e.errors);var t=Mr(),r=(0,K["default"])(Fe).create();return r.setConfig({manifestModel:Ae,adapter:ce,manifestLoader:t,errHandler:he}),le=e(Fe).create({debug:Ue,manifestUpdater:r,baseURLController:pe,manifestLoader:t,manifestModel:Ae,mediaPlayerModel:fe,abrController:re,playbackController:Ee,adapter:ce,errHandler:he,dashMetrics:Se,timelineConverter:ie,segmentBaseController:xe,schemeLoaderFactory:ne,eventBus:je,events:O["default"],errors:x["default"],constants:a["default"],settings:Be,dashConstants:o["default"],urlUtils:(0,W["default"])(Fe).getInstance()}),le}return null}function Fr(e){var t,r,n=ve&&ve.hasVideoTrack()?a["default"].VIDEO:a["default"].AUDIO,i=Se.getCurrentDVRInfo(n);return i?(t=i.manifestInfo.availableFrom.getTime()/1e3,r=e+(t+i.range.start),r):0}function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;le&&le.resetRecords(),!J&&r&&(J=!0,t.info("Streaming Initialized"),xr(),"string"===typeof r?ve.load(r,e):ve.loadWithManifest(r,e)),!ee&&ze()&&(ee=!0,t.info("Playback Initialized"))}return e={initialize:Ve,setConfig:Ge,on:Ke,off:We,extend:Ar,attachView:zt,attachSource:br,isReady:ze,preload:Qe,play:Ze,isPaused:et,pause:Je,isSeeking:nt,isDynamic:it,getLowLatencyModeEnabled:at,seek:tt,seekToOriginalLive:rt,setPlaybackRate:ot,getPlaybackRate:st,setMute:ut,isMuted:lt,setVolume:ct,getVolume:ft,time:mt,duration:vt,timeAsUTC:yt,durationAsUTC:bt,getActiveStream:Rr,getDVRWindowSize:ht,getDVRSeekOffset:pt,getTargetLiveDelay:gt,convertToTimeCode:Sr,formatUTC:wr,getVersion:$e,getDebug:Xe,getBufferLength:dt,getTTMLRenderingDiv:Kt,getVideoElement:Yt,getSource:vr,updateSource:yr,getCurrentLiveLatency:Rt,getTopBitrateInfoFor:Et,setAutoPlay:St,getAutoPlay:At,getDashMetrics:Bt,getQualityFor:_t,setQualityFor:Tt,updatePortalSize:wt,enableText:Ut,enableForcedTextStreaming:qt,isTextEnabled:Gt,setTextTrack:Vt,getBitrateInfoListFor:Xt,getStreamsFromManifest:Qt,getTracksFor:Zt,getTracksForTypeFromManifest:Jt,getCurrentTrackFor:er,setInitialMediaSettingsFor:tr,getInitialMediaSettingsFor:rr,setCurrentTrack:nr,addABRCustomRule:It,removeABRCustomRule:Ct,removeAllABRCustomRule:Dt,getABRCustomRules:Nt,getAverageThroughput:Lt,retrieveManifest:mr,addUTCTimingSource:xt,removeUTCTimingSource:Mt,clearDefaultUTCTimingSources:Ot,restoreDefaultUTCTimingSources:Pt,setXHRWithCredentialsForType:kt,getXHRWithCredentialsForType:Ft,getProtectionController:dr,attachProtectionController:hr,setProtectionData:pr,registerLicenseRequestFilter:ur,registerLicenseResponseFilter:lr,unregisterLicenseRequestFilter:cr,unregisterLicenseResponseFilter:fr,registerCustomCapabilitiesFilter:ir,unregisterCustomCapabilitiesFilter:ar,setCustomInitialTrackSelectionFunction:or,resetCustomInitialTrackSelectionFunction:sr,attachTTMLRenderingDiv:Wt,attachVttRenderingDiv:$t,getCurrentTextTrackIndex:Ht,provideThumbnail:gr,getDashAdapter:Ir,getOfflineController:jt,triggerSteeringRequest:Cr,getCurrentSteeringResponseData:Dr,getSettings:Er,updateSettings:_r,resetSettings:Tr,reset:He,destroy:Ye},qe(),e}Z.__dashjs_factory_name="MediaPlayer";var J=L["default"].getClassFactory(Z);J.events=P["default"],J.errors=x["default"],L["default"].updateClassFactory(Z.__dashjs_factory_name,J);const ee=J},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
  !*** ./src/streaming/MediaPlayerEvents.js ***!
  \********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../core/events/EventsBase */"./src/core/events/EventsBase.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(){var e;return a(this,r),e=t.call(this),e.AST_IN_FUTURE="astInFuture",e.BUFFER_EMPTY="bufferStalled",e.BUFFER_LOADED="bufferLoaded",e.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",e.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",e.DYNAMIC_TO_STATIC="dynamicToStatic",e.ERROR="error",e.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",e.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",e.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",e.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",e.LOG="log",e.MANIFEST_LOADED="manifestLoaded",e.METRICS_CHANGED="metricsChanged",e.METRIC_CHANGED="metricChanged",e.METRIC_ADDED="metricAdded",e.METRIC_UPDATED="metricUpdated",e.PERIOD_SWITCH_STARTED="periodSwitchStarted",e.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",e.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",e.QUALITY_CHANGE_RENDERED="qualityChangeRendered",e.TRACK_CHANGE_RENDERED="trackChangeRendered",e.STREAM_INITIALIZING="streamInitializing",e.STREAM_UPDATED="streamUpdated",e.STREAM_ACTIVATED="streamActivated",e.STREAM_DEACTIVATED="streamDeactivated",e.STREAM_INITIALIZED="streamInitialized",e.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",e.TEXT_TRACKS_ADDED="allTextTracksAdded",e.TEXT_TRACK_ADDED="textTrackAdded",e.TTML_PARSED="ttmlParsed",e.TTML_TO_PARSE="ttmlToParse",e.CAPTION_RENDERED="captionRendered",e.CAPTION_CONTAINER_RESIZE="captionContainerResize",e.CAN_PLAY="canPlay",e.CAN_PLAY_THROUGH="canPlayThrough",e.PLAYBACK_ENDED="playbackEnded",e.PLAYBACK_ERROR="playbackError",e.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",e.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",e.PLAYBACK_LOADED_DATA="playbackLoadedData",e.PLAYBACK_PAUSED="playbackPaused",e.PLAYBACK_PLAYING="playbackPlaying",e.PLAYBACK_PROGRESS="playbackProgress",e.PLAYBACK_RATE_CHANGED="playbackRateChanged",e.PLAYBACK_SEEKED="playbackSeeked",e.PLAYBACK_SEEKING="playbackSeeking",e.PLAYBACK_STALLED="playbackStalled",e.PLAYBACK_STARTED="playbackStarted",e.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",e.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",e.PLAYBACK_WAITING="playbackWaiting",e.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",e.EVENT_MODE_ON_START="eventModeOnStart",e.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",e.CONFORMANCE_VIOLATION="conformanceViolation",e.REPRESENTATION_SWITCH="representationSwitch",e.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",e.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",e}return r}(n["default"]),p=new h;const g=p},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
  !*** ./src/streaming/MediaPlayerFactory.js ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ./MediaPlayer */"./src/streaming/MediaPlayer.js");function i(){var e,t="application/dash+xml";function r(r,i,a){if(!r||!/^VIDEO$/i.test(r.nodeName))return null;if(r._dashjs_player)return r._dashjs_player;var o,s=r.id||r.name||"video element";if(i=i||[].slice.call(r.querySelectorAll("source")).filter((function(e){return e.type==t}))[0],!i&&r.src)i=document.createElement("source"),i.src=r.src;else if(!i&&!r.src)return null;return a=a||{},o=(0,n["default"])(a).create(),o.initialize(r,i.src,r.autoplay),e||(e=o.getDebug().getLogger()),e.debug("Converted "+s+" to dash.js player and added content: "+i.src),r._dashjs_player=o,o}function i(e,n){var i=[];e=e||"[data-dashjs-player]",n=n||document;for(var o=n.querySelectorAll(e),s=0;s<o.length;s++){var u=r(o[s],null);i.push(u)}for(var l=n.querySelectorAll('source[type="'+t+'"]'),c=0;c<l.length;c++){var f=a(l[c]),d=r(f,null);i.push(d)}return i}function a(e){return/^VIDEO$/i.test(e.nodeName)?e:a(e.parentNode)}return{create:r,createAll:i}}var a,o=i();function s(){window.removeEventListener("load",s),o.createAll()}function u(){window.dashjs&&(window.clearInterval(a),o.createAll())}var l="undefined"!==typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate;!l&&"undefined"!==typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?o.createAll():a=window.setInterval(u,500):window.addEventListener("load",s));const c=o},"./src/streaming/PreBufferSink.js":
/*!****************************************!*\
  !*** ./src/streaming/PreBufferSink.js ***!
  \****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../core/Debug */"./src/core/Debug.js"),i=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js");function a(e){var t,r,i,a=this.context,o=[],s=e;function u(){r=(0,n["default"])(a).getInstance().getLogger(t)}function l(){o=[],i=null,s=null}function c(e){return"InitializationSegment"!==e.segmentType?(o.push(e),o.sort((function(e,t){return e.start-t.start})),i=null):i=e,r.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),s&&s({chunk:e}),Promise.resolve()}function f(e,t){return o=o.filter((function(r){return!((isNaN(t)||r.start<t)&&(isNaN(e)||r.end>e))})),Promise.resolve()}function d(){return Promise.resolve()}function h(){for(var e=[],t=0;t<o.length;t++){var r=o[t];0===e.length||r.start>e[e.length-1].end?e.push({start:r.start,end:r.end}):e[e.length-1].end=r.end}var n={start:function(t){return e[t].start},end:function(t){return e[t].end}};return Object.defineProperty(n,"length",{get:function(){return e.length}}),n}function p(){return Promise.resolve()}function g(){return this}function m(e,t){var r=v(e,t);return i&&(r.push(i),i=null),f(e,t),r}function v(e,t){return o.filter((function(r){return(isNaN(t)||r.start<t)&&(isNaN(e)||r.end>e)}))}function y(e){e()}return t={getAllBufferRanges:h,append:c,remove:f,abort:d,discharge:m,reset:l,updateTimestampOffset:p,waitForUpdateEnd:y,getBuffer:g},u(),t}a.__dashjs_factory_name="PreBufferSink";var o=i["default"].getClassFactory(a);const s=o},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
  !*** ./src/streaming/SourceBufferSink.js ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(/*! ../core/Debug */"./src/core/Debug.js"),i=r(/*! ./vo/DashJSError */"./src/streaming/vo/DashJSError.js"),a=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../core/errors/Errors */"./src/core/errors/Errors.js"),s=r(/*! ../core/Settings */"./src/core/Settings.js"),u=r(/*! ./constants/Constants */"./src/streaming/constants/Constants.js"),l=r(/*! ./vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),c=r(/*! ../core/events/Events */"./src/core/events/Events.js"),f=.1,d=.01,h=50;function p(e){var t,r,a,p,g,m,v=this.context,y=(0,s["default"])(v).getInstance(),b=e.textController,E=e.eventBus,_=[],T=[],w=!1,S=e.mediaSource,A=null;function R(){a=(0,n["default"])(v).getInstance().getLogger(t)}function I(e,t,n){g=e,r=g.type;var i=g.codec;D(n),M();var a=[];return a.push(q()),a.push(L(g.streamInfo)),a.push(C(i)),t&&void 0!==t.MSETimeOffset&&a.push(k(t.MSETimeOffset)),Promise.all(a)}function C(e){return new Promise((function(t){$((function(){p.changeType&&p.changeType(e),t()}))}))}function D(e){p=e.getBuffer()}function N(e,t,n){g=t,r=g.type;var i=g.codec;try{if(i.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return x(e);p=S.addSourceBuffer(i),M();var a=[];return a.push(L(g.streamInfo)),n&&void 0!==n.MSETimeOffset&&a.push(k(n.MSETimeOffset)),Promise.all(a)}catch(o){return g.type==u["default"].TEXT&&!g.isFragmented||-1!==i.indexOf('codecs="stpp')||-1!==i.indexOf('codecs="vtt')?x(e):Promise.reject(o)}}function x(e){return p=b.getTextSourceBuffer(e),Promise.resolve()}function M(){if("function"===typeof p.addEventListener)try{p.addEventListener("updateend",z,!1),p.addEventListener("error",K,!1),p.addEventListener("abort",K,!1)}catch(e){m=setInterval(z,h)}else m=setInterval(z,h)}function O(){return r}function P(){try{"function"===typeof p.removeEventListener&&(p.removeEventListener("updateend",z,!1),p.removeEventListener("error",K,!1),p.removeEventListener("abort",K,!1)),clearInterval(m)}catch(e){a.error(e)}}function L(e){return new Promise((function(t){p&&y.get().streaming.buffer.useAppendWindow?$((function(){try{if(!p)return void t();var r=S.duration,n=0;e&&!isNaN(e.start)&&!isNaN(e.duration)&&isFinite(e.duration)&&(r=e.start+e.duration),e&&!isNaN(e.start)&&(n=e.start),p.appendWindowEnd===r&&p.appendWindowStart===n||(p.appendWindowStart=0,p.appendWindowEnd=r+d,p.appendWindowStart=Math.max(n-f,0),a.debug("Updated append window for ".concat(g.type,". Set start to ").concat(p.appendWindowStart," and end to ").concat(p.appendWindowEnd))),t()}catch(i){a.warn("Failed to set append window"),t()}})):t()}))}function k(e){return new Promise((function(t){p?$((function(){try{p.timestampOffset===e||isNaN(e)||(p.timestampOffset=e,a.debug("Set MSE timestamp offset to ".concat(e))),t()}catch(r){t()}})):t()}))}function F(){if(p){try{_=[],P(),w=!1,T=[],p.getClassName&&"TextSourceBuffer"===p.getClassName()||(a.debug("Removing sourcebuffer from media source"),S.removeSourceBuffer(p))}catch(e){}p=null}A=null}function j(){return p}function B(){try{return p.buffered}catch(e){return a.error("getAllBufferRanges exception: "+e.message),null}}function U(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,a){e?(T.push({data:e,promise:{resolve:n,reject:a},request:r}),$(V.bind(t))):a({chunk:e,error:new i["default"](o["default"].APPEND_ERROR_CODE,o["default"].APPEND_ERROR_MESSAGE)})}))}function q(){return new Promise((function(e){$((function(){var t=p.appendWindowStart,r=p.appendWindowEnd;p&&(p.abort(),p.appendWindowStart=t,p.appendWindowEnd=r),e()}))}))}function G(e){return new Promise((function(t,r){var n=e.start,a=e.end;n>=0&&a>n?$((function(){try{p.remove(n,a),$((function(){t({from:n,to:a,unintended:!1}),e.resolve&&e.resolve()}))}catch(s){r({from:n,to:a,unintended:!1,error:new i["default"](o["default"].REMOVE_ERROR_CODE,o["default"].REMOVE_ERROR_MESSAGE)}),e.reject&&e.reject(s)}})):t()}))}function V(){if(!w&&T.length>0){w=!0;var e=T[0];T.splice(0,1);var t=function(){w=!1,T.length>0&&V.call(this),e&&e.data&&e.data.segmentType&&e.data.segmentType!==l.HTTPRequest.INIT_SEGMENT_TYPE&&delete e.data.bytes,e.promise.resolve({chunk:e.data})};try{A=e.request,0===e.data.bytes.byteLength?t.call(this):(p.appendBuffer?p.appendBuffer(e.data.bytes):p.append(e.data.bytes,e.data),$(t.bind(this)))}catch(r){a.fatal('SourceBuffer append failed "'+r+'"'),T.length>0?V():w=!1,delete e.data.bytes,e.promise.reject({chunk:e.data,error:new i["default"](r.code,r.message)})}}}function H(){return new Promise((function(e){try{T=[],"open"===S.readyState?$((function(){try{p&&p.abort(),e()}catch(t){e()}})):p&&p.setTextTrack&&"ended"===S.readyState?(p.abort(),e()):e()}catch(t){e()}}))}function Y(){if(_.length>0&&!p.updating){var e=_.shift();e(),Y()}}function z(){p.updating||Y()}function K(e){var t=e.target||{};W(c["default"].SOURCE_BUFFER_ERROR,{error:t,lastRequestAppended:A})}function W(e,t){var n=t||{};E.trigger(e,n,{streamId:g.streamInfo.id,mediaType:r})}function $(e){_.push(e),p.updating||Y()}return t={getType:O,getAllBufferRanges:B,getBuffer:j,append:U,remove:G,abort:H,reset:F,updateTimestampOffset:k,initializeForStreamSwitch:I,initializeForFirstUse:N,updateAppendWindow:L,changeType:C},R(),t}p.__dashjs_factory_name="SourceBufferSink";var g=a["default"].getClassFactory(p);const m=g},"./src/streaming/Stream.js":
/*!*********************************!*\
  !*** ./src/streaming/Stream.js ***!
  \*********************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(/*! ./constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../dash/constants/DashConstants */"./src/dash/constants/DashConstants.js"),a=r(/*! ./StreamProcessor */"./src/streaming/StreamProcessor.js"),o=r(/*! ./controllers/FragmentController */"./src/streaming/controllers/FragmentController.js"),s=r(/*! ./thumbnail/ThumbnailController */"./src/streaming/thumbnail/ThumbnailController.js"),u=r(/*! ../core/EventBus */"./src/core/EventBus.js"),l=r(/*! ../core/events/Events */"./src/core/events/Events.js"),c=r(/*! ../core/Debug */"./src/core/Debug.js"),f=r(/*! ../core/errors/Errors */"./src/core/errors/Errors.js"),d=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),h=r(/*! ./vo/DashJSError */"./src/streaming/vo/DashJSError.js"),p=r(/*! ./utils/BoxParser */"./src/streaming/utils/BoxParser.js"),g=r(/*! ./utils/URLUtils */"./src/streaming/utils/URLUtils.js"),m=r(/*! ./controllers/BlacklistController */"./src/streaming/controllers/BlacklistController.js"),v=[n["default"].VIDEO,n["default"].AUDIO,n["default"].TEXT,n["default"].MUXED,n["default"].IMAGE];function y(e){e=e||{};var t,r,d,y,b,E,_,T,w,S,A,R,I,C,D,N,x,M,O=this.context,P=(0,u["default"])(O).getInstance(),L=(0,g["default"])(O).getInstance(),k=e.manifestModel,F=e.mediaPlayerModel,j=e.dashMetrics,B=e.manifestUpdater,U=e.adapter,q=e.timelineConverter,G=e.capabilities,V=e.errHandler,H=e.abrController,Y=e.playbackController,z=e.eventController,K=e.mediaController,W=e.protectionController,$=e.textController,X=e.videoModel,Q=e.streamInfo,Z=e.settings;function J(){try{N=(0,c["default"])(O).getInstance(),r=N.getLogger(t),be(),D=(0,p["default"])(O).getInstance(),I=(0,m["default"])(O).create({updateEventName:l["default"].SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:l["default"].SEGMENT_LOCATION_BLACKLIST_ADD}),A=(0,o["default"])(O).create({streamInfo:Q,mediaPlayerModel:F,dashMetrics:j,errHandler:V,settings:Z,boxParser:D,dashConstants:i["default"],urlUtils:L})}catch(e){throw e}}function ee(){te(),ne(),$.initializeForStream(Q),P.trigger(l["default"].STREAM_UPDATED,{streamInfo:Q})}function te(){P.on(l["default"].BUFFERING_COMPLETED,je,t),P.on(l["default"].DATA_UPDATE_COMPLETED,Be,t),P.on(l["default"].INBAND_EVENTS,Ue,t)}function re(){P.off(l["default"].DATA_UPDATE_COMPLETED,Be,t),P.off(l["default"].BUFFERING_COMPLETED,je,t),P.off(l["default"].INBAND_EVENTS,Ue,t)}function ne(){W&&(P.on(l["default"].KEY_ERROR,Me,t),P.on(l["default"].SERVER_CERTIFICATE_UPDATED,Me,t),P.on(l["default"].LICENSE_REQUEST_COMPLETE,Me,t),P.on(l["default"].KEY_SYSTEM_SELECTED,Me,t),P.on(l["default"].KEY_SESSION_CREATED,Me,t),P.on(l["default"].KEY_STATUSES_CHANGED,Me,t))}function ie(){W&&(P.off(l["default"].KEY_ERROR,Me,t),P.off(l["default"].SERVER_CERTIFICATE_UPDATED,Me,t),P.off(l["default"].LICENSE_REQUEST_COMPLETE,Me,t),P.off(l["default"].KEY_SYSTEM_SELECTED,Me,t),P.off(l["default"].KEY_SESSION_CREATED,Me,t),P.off(l["default"].KEY_STATUSES_CHANGED,Me,t))}function ae(){return Q?Q.id:null}function oe(e,t){return new Promise((function(r,n){if(!b)return Ze()?(b=!0,P.trigger(l["default"].STREAM_ACTIVATED,{streamInfo:Q}),void r(t)):void ue(e,t).then((function(e){b=!0,P.trigger(l["default"].STREAM_ACTIVATED,{streamInfo:Q}),r(e)}))["catch"]((function(e){n(e)}));r(t)}))}function se(e,t){return new Promise((function(n,i){Ze()?i():(r.info("[startPreloading] Preloading next stream with id ".concat(Ae())),Qe(!0),le(e,t).then((function(){for(var e=0;e<d.length&&d[e];e++)d[e].setExplicitBufferingTime(Se()),d[e].getScheduleController().startScheduleTimer();n()}))["catch"]((function(){Qe(!1),i()})))}))}function ue(e,t){return le(e,t)}function le(e,t){return new Promise((function(i,a){Ne(),S=!0,Le();var o=X.getElement();v.forEach((function(t){(t!==n["default"].TEXT||e)&&(t!==n["default"].VIDEO||!o||o&&/^VIDEO$/i.test(o.nodeName))&&fe(t,e)})),pe(t).then((function(t){if(S=!1,0===d.length){var n="No streams to play.";V.error(new h["default"](f["default"].MANIFEST_ERROR_ID_NOSTREAMS_CODE,n,k.getValue())),r.fatal(n)}else ke();e&&$.createTracks(Q),i(t)}))["catch"]((function(e){a(e)}))}))}function ce(e){return new Promise((function(t,r){fe(n["default"].TEXT,e),ge().then((function(){$.createTracks(Q),t()}))["catch"]((function(e){r(e)}))}))}function fe(t,a){var o,u=U.getAllMediaInfoForType(Q,t),c=[],f=null;if(u&&0!==u.length){t===n["default"].VIDEO&&(_=!0),t===n["default"].AUDIO&&(T=!0);for(var d=0,h=u.length;d<h;d++)f=u[d],t===n["default"].TEXT&&f.isEmbedded&&($.addEmbeddedTrack(Q,f),c.push(f)),de(f)&&K.addTrack(f);if(c.length>0&&(K.setInitialMediaSettingsForType(t,Q),$.addMediaInfosToBuffer(Q,t,c)),u=u.filter((function(e){return!e.isEmbedded})),0!==u.length){if(t===n["default"].IMAGE)return R=(0,s["default"])(O).create({streamInfo:Q,adapter:U,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:N,eventBus:P,events:l["default"],dashConstants:i["default"],dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController}),void R.initialize();P.trigger(l["default"].STREAM_INITIALIZING,{streamInfo:Q,mediaInfo:f}),K.setInitialMediaSettingsForType(t,Q);var p=he(u,a);o=K.getCurrentTrackFor(t,Q.id),o&&(H.updateTopQualityIndex(o),p.selectMediaInfo(t===n["default"].TEXT&&o.isEmbedded?u[0]:o))}}else r.info("No "+t+" data.")}function de(e){var t,i=e?e.type:null;return i===n["default"].MUXED?(t="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",r.fatal(t),V.error(new h["default"](f["default"].MANIFEST_ERROR_ID_MULTIPLEXED_CODE,t,k.getValue())),!1):i===n["default"].TEXT||i===n["default"].IMAGE||(!(e.contentProtection&&!G.supportsEncryptedMedia())||(V.error(new h["default"](f["default"].CAPABILITY_MEDIAKEYS_ERROR_CODE,f["default"].CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),!1))}function he(t,r){var i=t&&t.length>0?t[0]:null,o=A.getModel(i?i.type:null),s=i?i.type:null,u=i?i.mimeType:null,l=i?i.isFragmented:null,c=(0,a["default"])(O).create({streamInfo:Q,type:s,mimeType:u,timelineConverter:q,adapter:U,manifestModel:k,mediaPlayerModel:F,fragmentModel:o,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,segmentBaseController:e.segmentBaseController,abrController:H,playbackController:Y,mediaController:K,textController:$,errHandler:V,settings:Z,boxParser:D,segmentBlacklistController:I});c.initialize(r,_,l),d.push(c);for(var f=0;f<t.length;f++)c.addMediaInfo(t[f]);return s===n["default"].TEXT&&$.addMediaInfosToBuffer(Q,s,t,o),c}function pe(e){return new Promise((function(t){var r={},n=d.map((function(t){return t.createBufferSinks(e)}));Promise.all(n).then((function(e){e.forEach((function(e){e&&(r[e.getType()]=e)})),t(r)}))["catch"]((function(){t(r)}))}))}function ge(){var e=Ge(n["default"].TEXT);return e?e.createBufferSinks():Promise.resolve()}function me(e){for(var t=d?d.length:0,r=!1,n=0;n<t;n++){var i=d[n].getFragmentModel();i.abortRequests(),i.resetInitialSettings(),d[n].reset(r,e)}$&&$.deactivateStream(Q),d=[],b=!1,E=!1,Qe(!1),we(!1),P.trigger(l["default"].STREAM_DEACTIVATED,{streamInfo:Q})}function ve(){return b}function ye(e){return new Promise((function(t,n){for(var i=[],a=0;a<d.length;)de(d[a].getMediaInfo())?(i.push(d[a].setMediaSource(e)),a++):(d[a].reset(),d.splice(a,1));Promise.all(i).then((function(){for(var e=0;e<d.length;e++)d[e].dischargePreBuffer();if(0===d.length){var n="No streams to play.";V.error(new h["default"](f["default"].MANIFEST_ERROR_ID_NOSTREAMS_CODE,n+"nostreams",k.getValue())),r.fatal(n)}t()}))["catch"]((function(e){r.error(e),n(e)}))}))}function be(e){me(e),y=!1,_=!1,T=!1,w={},S=!1,x=!1,M=[]}function Ee(e){A&&(A.reset(),A=null),H&&Q&&H.clearDataForStream(Q.id),I&&(I.reset(),I=null),be(e),Q=null,re(),ie()}function _e(){return Q?Q.duration:NaN}function Te(){return x}function we(e){x=e}function Se(){return Q?Q.start:NaN}function Ae(){return Q?Q.id:null}function Re(){return Q}function Ie(){return T}function Ce(){return _}function De(){return R}function Ne(){if(!X||!H)throw new Error(n["default"].MISSING_CONFIG_ERROR)}function xe(e){if(Ne(),e===n["default"].IMAGE)return R?R.getBitrateList():[];var t=Fe(e);return H.getBitrateList(t)}function Me(e){e.error&&(V.error(e.error),r.fatal(e.error.message))}function Oe(e){if(b&&Q){E=!1;var t=e.newMediaInfo,i=k.getValue();U.setCurrentMediaInfo(Q.id,t.type,t);var a=qe(t);if(a){var o=Y.getTime();r.info("Stream -  Process track changed at current time "+o),i.refreshManifestOnSwitchTrack?(M.push(e),B.getIsUpdating()||(r.debug("Stream -  Refreshing manifest for switch track"),B.refreshManifest())):a.selectMediaInfo(t).then((function(){t.type!==n["default"].VIDEO&&t.type!==n["default"].AUDIO||H.updateTopQualityIndex(t),a.prepareTrackSwitch()}))}}}function Pe(e){var t=Ge(e.mediaType);t&&t.prepareQualityChange(e)}function Le(){if(z){var e=U.getEventsFor(Q);e&&e.length>0&&z.addInlineEvents(e,Q.id)}}function ke(){for(var e=d.length,t=!!w.audio||!!w.video,r=t?new h["default"](f["default"].DATA_UPDATE_FAILED_ERROR_CODE,f["default"].DATA_UPDATE_FAILED_ERROR_MESSAGE):null,i=0;i<e;i++)if(d[i].isUpdating()||S)return;if(W){W.clearMediaInfoArray();for(var a=0;a<e&&d[a];a++){var o=d[a].getType(),s=d[a].getMediaInfo();if(o===n["default"].AUDIO||o===n["default"].VIDEO||o===n["default"].TEXT&&s.isFragmented){var u=d[a].getMediaInfo();u&&W.initializeForMedia(u)}}W.handleKeySystemFromManifest()}r?V.error(r):y||(y=!0,X.waitForReadyState(n["default"].VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(function(){P.trigger(l["default"].STREAM_INITIALIZED,{streamInfo:Q})})))}function Fe(e){for(var t=null,r=0;r<d.length;r++)if(t=d[r],t.getType()===e)return t.getMediaInfo();return null}function je(){var e=Ve(),t=e.length;if(0!==t){for(var i=0;i<t;i++)if(!e[i].isBufferingCompleted()&&(e[i].getType()===n["default"].AUDIO||e[i].getType()===n["default"].VIDEO))return void r.debug("onBufferingCompleted - One streamProcessor has finished but",e[i].getType(),"one is not buffering completed");r.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),E=!0,P.trigger(l["default"].STREAM_BUFFERING_COMPLETED,{streamInfo:Q},{streamInfo:Q})}else r.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Be(e){w[e.mediaType]=e.error,ke()}function Ue(e){z&&z.addInbandEvents(e.events,Q.id)}function qe(e){return e&&e.type?Ge(e.type):null}function Ge(e){if(!e)return null;var t=Ve();return t.filter((function(t){return t.getType()===e}))[0]}function Ve(){for(var e,t,r=[],i=0;i<d.length;i++)t=d[i],e=t.getType(),e!==n["default"].AUDIO&&e!==n["default"].VIDEO&&e!==n["default"].TEXT||r.push(t);return r}function He(){for(var e=d.length,t=0;t<e&&d[t];t++)d[t].getScheduleController().startScheduleTimer()}function Ye(e){return new Promise((function(t){S=!0,Q=e,z&&Le();for(var r=[],n=0,i=d.length;n<i;n++){var a=d[n],o=a.getMediaInfo();r.push(a.updateStreamInfo(Q));var s=U.getAllMediaInfoForType(Q,a.getType());if(s=s.filter((function(e){return!e.isEmbedded})),s){a.clearMediaInfoArray();for(var u=0;u<s.length;u++){var c=s[u];a.addMediaInfo(s[u]),U.areMediaInfosEqual(o,c)&&(H.updateTopQualityIndex(c),r.push(a.selectMediaInfo(c)))}}}Promise.all(r).then((function(){r=[];while(M.length>0){var e=M.pop(),t=e.newMediaInfo,n=qe(e.oldMediaInfo);if(!n)return;r.push(n.prepareTrackSwitch()),n.selectMediaInfo(t)}return Promise.all(r)})).then((function(){S=!1,ke(),P.trigger(l["default"].STREAM_UPDATED,{streamInfo:Q}),t()}))}))}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Xe(e,n["default"].VIDEO,t)&&Xe(e,n["default"].AUDIO,t)}function Ke(e){return!e||We(n["default"].VIDEO,e)&&We(n["default"].AUDIO,e)}function We(e,t){var r=Re(),n=t.getStreamInfo();if(!n||!r)return!0;var i=U.getAdaptationForType(n.index,e,n),a=U.getAdaptationForType(r.index,e,r);return i&&a?!(!$e(a)&&$e(i)):!i&&!a}function $e(e){return!!e&&!!(e.ContentProtection||e.Representation&&e.Representation.length>0&&e.Representation[0].ContentProtection)}function Xe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e||!e.hasOwnProperty("getStreamInfo"))return!1;var n=e.getStreamInfo(),i=r?r.getStreamInfo():Re();if(!n||!i)return!1;var a=U.getAdaptationForType(n.index,t,n),o=U.getAdaptationForType(i.index,t,i);if(!a||!o)return!a&&!o;var s=a&&o&&a.mimeType===o.mimeType,u=o.Representation_asArray.map((function(e){return e.codecs})),l=a.Representation_asArray.map((function(e){return e.codecs})),c=l.some((function(e){return u.indexOf(e)>-1})),f=l.some((function(e){return u.some((function(t){return G.codecRootCompatibleWithCodec(t,e)}))}));return c||f&&s}function Qe(e){C=e}function Ze(){return C}function Je(){return E}function et(){return U}return t={initialize:ee,getStreamId:ae,activate:oe,deactivate:me,getIsActive:ve,getDuration:_e,getStartTime:Se,getId:Ae,getStreamInfo:Re,getHasAudioTrack:Ie,getHasVideoTrack:Ce,startPreloading:se,initializeForTextWithMediaSource:ce,getThumbnailController:De,getBitrateListFor:xe,updateData:Ye,reset:Ee,getProcessors:Ve,setMediaSource:ye,isMediaCodecCompatible:ze,isProtectionCompatible:Ke,getPreloaded:Ze,getIsEndedEventSignaled:Te,setIsEndedEventSignaled:we,getAdapter:et,getHasFinishedBuffering:Je,setPreloaded:Qe,startScheduleControllers:He,prepareTrackChange:Oe,prepareQualityChange:Pe},J(),t}y.__dashjs_factory_name="Stream";const b=d["default"].getClassFactory(y)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
  !*** ./src/streaming/StreamProcessor.js ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var n=r(/*! ./constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../dash/constants/DashConstants */"./src/dash/constants/DashConstants.js"),a=r(/*! ./constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),o=r(/*! ./models/FragmentModel */"./src/streaming/models/FragmentModel.js"),s=r(/*! ./controllers/BufferController */"./src/streaming/controllers/BufferController.js"),u=r(/*! ./text/NotFragmentedTextBufferController */"./src/streaming/text/NotFragmentedTextBufferController.js"),l=r(/*! ./controllers/ScheduleController */"./src/streaming/controllers/ScheduleController.js"),c=r(/*! ../dash/controllers/RepresentationController */"./src/dash/controllers/RepresentationController.js"),f=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),d=r(/*! ./utils/SupervisorTools */"./src/streaming/utils/SupervisorTools.js"),h=r(/*! ../core/EventBus */"./src/core/EventBus.js"),p=r(/*! ../core/events/Events */"./src/core/events/Events.js"),g=r(/*! ../dash/DashHandler */"./src/dash/DashHandler.js"),m=r(/*! ../core/errors/Errors */"./src/core/errors/Errors.js"),v=r(/*! ./vo/DashJSError */"./src/streaming/vo/DashJSError.js"),y=r(/*! ../core/Debug */"./src/core/Debug.js"),b=r(/*! ./utils/RequestModifier */"./src/streaming/utils/RequestModifier.js"),E=r(/*! ../streaming/utils/URLUtils */"./src/streaming/utils/URLUtils.js"),_=r(/*! ./utils/BoxParser */"./src/streaming/utils/BoxParser.js"),T=r(/*! ./vo/metrics/PlayList */"./src/streaming/vo/metrics/PlayList.js"),w=r(/*! ../dash/controllers/SegmentsController */"./src/dash/controllers/SegmentsController.js"),S=r(/*! ./vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js");function A(e){e=e||{};var t,r,f,A,R,I,C,D,N,x,M,O,P,L=this.context,k=(0,h["default"])(L).getInstance(),F=e.streamInfo,j=e.type,B=e.errHandler,U=e.mimeType,q=e.timelineConverter,G=e.adapter,V=e.manifestModel,H=e.mediaPlayerModel,Y=e.fragmentModel,z=e.abrController,K=e.playbackController,W=e.mediaController,$=e.textController,X=e.dashMetrics,Q=e.settings,Z=e.boxParser,J=e.segmentBlacklistController;function ee(){r=(0,y["default"])(L).getInstance().getLogger(t),ae(),k.on(p["default"].DATA_UPDATE_COMPLETED,ve,t,{priority:h["default"].EVENT_PRIORITY_HIGH}),k.on(p["default"].INIT_FRAGMENT_NEEDED,ce,t),k.on(p["default"].MEDIA_FRAGMENT_NEEDED,fe,t),k.on(p["default"].INIT_FRAGMENT_LOADED,$e,t),k.on(p["default"].MEDIA_FRAGMENT_LOADED,Xe,t),k.on(p["default"].BUFFER_LEVEL_STATE_CHANGED,ye,t),k.on(p["default"].BUFFER_CLEARED,be,t),k.on(p["default"].SEEK_TARGET,nt,t),k.on(p["default"].FRAGMENT_LOADING_ABANDONED,Ae,t),k.on(p["default"].FRAGMENT_LOADING_COMPLETED,Re,t),k.on(p["default"].QUOTA_EXCEEDED,Ne,t),k.on(p["default"].SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ce,t),k.on(p["default"].SET_NON_FRAGMENTED_TEXT,De,t),k.on(p["default"].SOURCE_BUFFER_ERROR,Ee,t)}function te(r,a,o){O=(0,w["default"])(L).create({events:p["default"],eventBus:k,streamInfo:F,timelineConverter:q,dashConstants:i["default"],segmentBaseController:e.segmentBaseController,type:j}),M=(0,g["default"])(L).create({streamInfo:F,type:j,timelineConverter:q,dashMetrics:X,mediaPlayerModel:H,baseURLController:e.baseURLController,errHandler:B,segmentsController:O,settings:Q,boxParser:Z,events:p["default"],eventBus:k,errors:m["default"],debug:(0,y["default"])(L).getInstance(),requestModifier:(0,b["default"])(L).getInstance(),dashConstants:i["default"],constants:n["default"],urlUtils:(0,E["default"])(L).getInstance()}),f=F.manifestInfo.isDynamic,M.initialize(f),z.registerStreamType(j,t),D=(0,c["default"])(L).create({streamInfo:F,type:j,abrController:z,dashMetrics:X,playbackController:K,timelineConverter:q,dashConstants:i["default"],events:p["default"],eventBus:k,errors:m["default"],isDynamic:f,segmentsController:O}),I=rt(j,o),I&&I.initialize(r),C=(0,l["default"])(L).create({streamInfo:F,type:j,mimeType:U,adapter:G,dashMetrics:X,mediaPlayerModel:H,fragmentModel:Y,abrController:z,playbackController:K,textController:$,mediaController:W,bufferController:I,settings:Q}),C.initialize(a),P=0,N=!1}function re(){return F.id}function ne(){return j}function ie(){return G.getIsTextTrack(D.getData())}function ae(){R=[],A=null,P=0,N=!1,x=!1}function oe(e,r){M&&M.reset(),I&&(I.reset(e,r),I=null),C&&(C.reset(),C=null),D&&(D.reset(),D=null),O&&(O=null),z&&z.unRegisterStreamType(re(),j),k.off(p["default"].DATA_UPDATE_COMPLETED,ve,t),k.off(p["default"].INIT_FRAGMENT_NEEDED,ce,t),k.off(p["default"].MEDIA_FRAGMENT_NEEDED,fe,t),k.off(p["default"].INIT_FRAGMENT_LOADED,$e,t),k.off(p["default"].MEDIA_FRAGMENT_LOADED,Xe,t),k.off(p["default"].BUFFER_LEVEL_STATE_CHANGED,ye,t),k.off(p["default"].BUFFER_CLEARED,be,t),k.off(p["default"].SEEK_TARGET,nt,t),k.off(p["default"].FRAGMENT_LOADING_ABANDONED,Ae,t),k.off(p["default"].FRAGMENT_LOADING_COMPLETED,Re,t),k.off(p["default"].SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ce,t),k.off(p["default"].SET_NON_FRAGMENTED_TEXT,De,t),k.off(p["default"].QUOTA_EXCEEDED,Ne,t),k.off(p["default"].SOURCE_BUFFER_ERROR,Ee,t),ae(),j=null,F=null}function se(){return!!D&&D.isUpdating()}function ue(e){return new Promise((function(t){var n=I.hasBufferAtTime(e.seekTime);if(n)return I.pruneBuffer(),void t();C.clearScheduleTimer(),Y.abortRequests(),I.prepareForPlaybackSeek().then((function(){var t=I.getAllRangesWithSafetyFactor(e.seekTime);return I.clearBuffers(t)})).then((function(){var r=I.getContinuousBufferTimeForTargetTime(e.seekTime);if(!isNaN(r)&&!isNaN(F.duration)&&isFinite(F.duration)&&r>=F.start+F.duration)I.setIsBufferingCompleted(!0),t();else{var n=isNaN(r)?e.seekTime:r;it(n),I.setSeekTarget(n);var i=[];i.push(I.updateAppendWindow());var a=Ye();i.push(I.updateBufferTimestampOffset(a)),Promise.all(i).then((function(){C.setInitSegmentRequired(!0),C.setCheckPlaybackQuality(!1),C.startScheduleTimer(),t()}))}}))["catch"]((function(e){r.error(e)}))}))}function le(){return new Promise((function(e,t){try{C.clearScheduleTimer(),Y.abortRequests(),I.prepareForPlaybackSeek().then((function(){return I.pruneAllSafely()})).then((function(){e()}))}catch(r){t(r)}}))}function ce(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.sender)if(K.getIsManifestUpdateInProgress())me();else if((!ie()||$.isTextEnabled())&&I&&e.representationId&&!I.appendInitSegmentFromCache(e.representationId)){var r=D.getCurrentRepresentation();if(0===r.range)return void fe();var n=M?M.getInitRequest(A,r):null;n?Y.executeRequest(n):t&&(C.setInitSegmentRequired(!0),me())}}function fe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(K.getIsManifestUpdateInProgress()||I.getIsPruningInProgress())me();else{var r=ge();r?(N=!1,de(r)):he(t)}}function de(e){isNaN(e.startTime+e.duration)||(P=e.startTime+e.duration),e.delayLoadingTime=(new Date).getTime()+C.getTimeToLoadDelay(),C.setTimeToLoadDelay(0),pe(e)?(r.warn("Fragment request url ".concat(e.url," for stream id ").concat(F.id," and media type ").concat(j," is on the ignore list and will be skipped")),me()):(r.debug("Next fragment request url for stream id ".concat(F.id," and media type ").concat(j," is ").concat(e.url)),Y.executeRequest(e))}function he(e){var t,n=D.getCurrentRepresentation();if(Q.get().streaming.gaps.enableSeekFix&&(N||0===K.getTime())&&(f?f&&n.segmentInfoType===i["default"].SEGMENT_TIMELINE&&(t=M.getValidTimeAheadOfTargetTime(P,A,n,Q.get().streaming.gaps.threshold)):t=M.getValidTimeAheadOfTargetTime(P,A,n,Q.get().streaming.gaps.threshold),!isNaN(t)&&t!==P))return void(K.isSeeking()||0===K.getTime()?(r.warn("Adjusting playback time ".concat(t," because of gap in the manifest. Seeking by ").concat(t-P)),K.seek(t,!1,!1)):(r.warn("Adjusting buffering time ".concat(t," because of gap in the manifest. Adjusting time by ").concat(t-P)),it(t),e&&me()));var a=M.isLastSegmentRequested(n,P);if(a){var o=M.getCurrentIndex();return r.debug("Segment requesting for stream ".concat(F.id," has finished")),k.trigger(p["default"].STREAM_REQUESTING_COMPLETED,{segmentIndex:o},{streamId:F.id,mediaType:j}),I.segmentRequestingCompleted(o),void C.clearScheduleTimer()}e&&me()}function pe(e){var t=e.url;return e.range&&(t=t.concat("_",e.range)),J.contains(t)}function ge(){var e,t=Ye();if(isNaN(P)||ne()===n["default"].TEXT&&!$.isTextEnabled())return null;if(M){var r=D&&t?D.getRepresentationForQuality(t.quality):null;e=N?M.getSegmentRequestForTime(A,r,P):M.getNextSegmentRequest(A,r)}return e}function me(){C.startScheduleTimer(K.getLowLatencyModeEnabled()?Q.get().streaming.scheduling.lowLatencyTimeout:Q.get().streaming.scheduling.defaultTimeout)}function ve(e){e.error||(C.setCurrentRepresentation(G.convertRepresentationToRepresentationInfo(e.currentRepresentation)),I.getIsBufferingCompleted()||I.updateBufferTimestampOffset(e.currentRepresentation))}function ye(e){X.addBufferState(j,e.state,C.getBufferTarget()),e.state!==a["default"].BUFFER_EMPTY||K.isSeeking()||(r.info("Buffer is empty! Stalling!"),X.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function be(e){Y.syncExecutedRequestsWithBufferedRange(I.getBuffer().getAllBufferRanges(),F.duration),e.quotaExceeded&&e.from>K.getTime()&&it(e.from),e.hasEnoughSpaceToAppend&&e.quotaExceeded&&C.startScheduleTimer()}function Ee(e){if(e&&e.lastRequestAppended&&e.lastRequestAppended.url){var t=e.lastRequestAppended.url;e.lastRequestAppended.range&&(t=t.concat("_",e.lastRequestAppended.range)),r.warn("Blacklisting segment with url ".concat(t)),J.add(t)}}function _e(e){r.debug("Preparing quality switch for type ".concat(j));var t=e.newQuality;x=!0,C.clearScheduleTimer();var n=Ye(t);C.setCurrentRepresentation(n),D.prepareQualityChange(t),Y.abortRequests(),I.updateBufferTimestampOffset(n).then((function(){e.reason&&e.reason.forceReplace?Te():Q.get().streaming.buffer.fastSwitchEnabled?we(n):Se(),X.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),X.createPlaylistTraceMetrics(n.id,1e3*K.getTime(),K.getPlaybackRate())}))}function Te(){k.trigger(p["default"].BUFFER_REPLACEMENT_STARTED,{mediaType:j,streamId:F.id},{mediaType:j,streamId:F.id}),I.prepareForReplacementQualitySwitch().then((function(){et(),x=!1}))["catch"]((function(){et(),x=!1}))}function we(e){var t=K.getTime(),r=1.5*(isNaN(e.fragmentDuration)?1:e.fragmentDuration),n=Y.getRequests({state:o["default"].FRAGMENT_MODEL_EXECUTED,time:t+r,threshold:0})[0];if(n&&!ie()){var i=I.getBufferLevel(),s=z.getAbandonmentStateFor(F.id,j);if(n.quality<e.quality&&i>=r&&s!==a["default"].ABANDON_LOAD){var u=t+r;it(u),C.setCheckPlaybackQuality(!1),C.startScheduleTimer()}else Se()}else C.startScheduleTimer();x=!1}function Se(){tt(),x=!1}function Ae(e){r.info("onFragmentLoadingAbandoned request: "+e.request.url+" has been aborted"),K.isSeeking()||C.getSwitchStrack()||x||(r.info("onFragmentLoadingAbandoned request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),e.request&&e.request.isInitializationRequest()?C.setInitSegmentRequired(!0):it(e.request.startTime+e.request.duration/2),C.startScheduleTimer(0))}function Re(e){r.info("OnFragmentLoadingCompleted for stream id "+F.id+" and media type "+j+" - Url:",e.request?e.request.url:"undefined",e.request.range?", Range:"+e.request.range:""),ie()&&C.startScheduleTimer(0),e.error&&e.request.serviceLocation&&Ie(e)}function Ie(e){r.info("Fragment loading completed with an error"),e&&e.request&&e.request.type&&(e.request.type===S.HTTPRequest.INIT_SEGMENT_TYPE?ce({representationId:e.request.representationId,sender:{}},!1):e.request.type===S.HTTPRequest.MEDIA_SEGMENT_TYPE&&(it(e.request.startTime+e.request.duration/2),fe({},!1)))}function Ce(){it(K.getTime()),He().startScheduleTimer()}function De(e){var t=e.currentTrackInfo;if(t){var r=R.find((function(e){return e.index===t.index&&e.lang===t.lang}));r&&je(r).then((function(){I.setIsBufferingCompleted(!1),it(K.getTime()),C.setInitSegmentRequired(!0),C.startScheduleTimer()}))}}function Ne(e){it(e.quotaExceededTime),C.clearScheduleTimer()}function xe(){return D}function Me(){return I?I.getBuffer():null}function Oe(){return I}function Pe(){I.dischargePreBuffer()}function Le(){return Y}function ke(e){return F=e,ze()?Promise.resolve():I.updateAppendWindow()}function Fe(){return F}function je(e){e===A||e&&A&&e.type!==A.type||(A=e);var t=G.getRealAdaptation(F,A),r=G.getVoRepresentations(A);if(D){var i,a,o=D.getData(),s=z.getMaxAllowedIndexFor(j,F.id),u=z.getMinAllowedIndexFor(j,F.id),l=null;return null!==o&&o.id===t.id||j===n["default"].TEXT?i=z.getQualityFor(j,F.id):(a=z.getThroughputHistory().getAverageThroughput(j,f),l=a||z.getInitialBitrateFor(j,F.id),i=z.getQualityForBitrate(A,l,F.id)),void 0!==u&&i<u&&(i=u),i>s&&(i=s),D.updateData(t,r,j,A.isFragmented,i)}return Promise.resolve()}function Be(e){-1===R.indexOf(e)&&R.push(e)}function Ue(){R=[]}function qe(){return A}function Ge(){return I.getMediaSource()}function Ve(e){return I.setMediaSource(e,A)}function He(){return C}function Ye(e){var t;return void 0!==e?((0,d.checkInteger)(e),t=D?D.getRepresentationForQuality(e):null):t=D?D.getCurrentRepresentation():null,G.convertRepresentationToRepresentationInfo(t)}function ze(){return!!I&&I.getIsBufferingCompleted()}function Ke(){return I?I.getBufferLevel():0}function We(){var e=Ye(),t=D&&e?D.getRepresentationForQuality(e.quality):null;return M.getNextSegmentRequestIdempotent(A,t)}function $e(e){if(Q.get().streaming.enableManifestTimescaleMismatchFix){var t=e.chunk,r=t.bytes,n=t.quality,i=Ye(n),a=D&&i?D.getRepresentationForQuality(i.quality):null;if(i&&a){var o=Z.getMediaTimescaleFromMoov(r);a.timescale=o}}}function Xe(e){var t=e.chunk,r=t.bytes,n=t.quality,i=Ye(n),a=D&&i?D.getRepresentationForQuality(i.quality):null;if(i&&a){var s=G.getEventsFor(i.mediaInfo,null,F),u=G.getEventsFor(i,a,F);if(s&&s.length>0||u&&u.length>0){var l=Y.getRequests({state:o["default"].FRAGMENT_MODEL_EXECUTED,quality:n,index:t.index})[0],c=Qe(r,l,s,u);k.trigger(p["default"].INBAND_EVENTS,{events:c},{streamId:F.id})}}}function Qe(e,t,r,n){try{for(var i={},a=[],o=r.concat(n),s=0,u=o.length;s<u;s++)i[o[s].schemeIdUri+"/"+o[s].value]=o[s];var l=(0,_["default"])(L).getInstance().parse(e),c=l.getBoxes("emsg");if(!c||0===c.length)return a;for(var f=l.getBox("sidx"),d=!f||isNaN(f.earliest_presentation_time)||isNaN(f.timescale)?t&&!isNaN(t.mediaStartTime)?t.mediaStartTime:0:f.earliest_presentation_time/f.timescale,h=Math.max(d,0),p=D.getCurrentRepresentation(),g=0,m=c.length;g<m;g++){var v=G.getEvent(c[g],i,h,p);v&&a.push(v)}return a}catch(y){return[]}}function Ze(e){var t=Me();return t?Promise.resolve(t):I?I.createBufferSink(A,e):Promise.resolve(null)}function Je(){return new Promise((function(e){r.debug("Preparing track switch for type ".concat(j));var t=j===n["default"].TEXT||Q.get().streaming.trackSwitchMode[j]===n["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE&&K.getTimeToStreamEnd(F)>Q.get().streaming.buffer.stallThreshold;if(I.getIsBufferingCompleted()&&!t)return I.prepareForNonReplacementTrackSwitch(A.codec).then((function(){k.trigger(p["default"].BUFFERING_COMPLETED,{},{streamId:F.id,mediaType:j})}))["catch"]((function(){k.trigger(p["default"].BUFFERING_COMPLETED,{},{streamId:F.id,mediaType:j})})),void e();C.clearScheduleTimer(),C.setSwitchTrack(!0),t?(k.trigger(p["default"].BUFFER_REPLACEMENT_STARTED,{mediaType:j,streamId:F.id},{mediaType:j,streamId:F.id}),Y.abortRequests(),I.prepareForReplacementTrackSwitch(A.codec).then((function(){var e=Ye();return I.updateBufferTimestampOffset(e)})).then((function(){et(),e()}))["catch"]((function(){et(),e()}))):I.prepareForNonReplacementTrackSwitch(A.codec).then((function(){tt(),e()}))["catch"]((function(){tt(),e()}))}))}function et(){var e=K.getTime();Q.get().streaming.buffer.flushBufferAtTrackSwitch&&K.seek(e+.001,!1,!0),it(e),I.setSeekTarget(e),C.startScheduleTimer()}function tt(){var e=K.getTime(),t=I.getContinuousBufferTimeForTargetTime(e),r=isNaN(t)?e:t;it(r),C.startScheduleTimer()}function rt(e,t){var r=null;return e?(r=e!==n["default"].TEXT||t?(0,s["default"])(L).create({streamInfo:F,type:e,mediaPlayerModel:H,manifestModel:V,fragmentModel:Y,errHandler:B,mediaController:W,representationController:D,adapter:G,textController:$,abrController:z,playbackController:K,settings:Q}):(0,u["default"])(L).create({streamInfo:F,type:e,mimeType:U,fragmentModel:Y,textController:$,errHandler:B,settings:Q}),r):(B.error(new v["default"](m["default"].MEDIASOURCE_TYPE_UNSUPPORTED_CODE,m["default"].MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}function nt(e){e&&!isNaN(e.time)&&(it(e.time),I.setSeekTarget(e.time))}function it(e){P=e,N=!0}function at(e,t){X.pushPlayListTraceMetrics(e,t)}return t={initialize:te,getStreamId:re,getType:ne,isUpdating:se,getBufferController:Oe,dischargePreBuffer:Pe,getFragmentModel:Le,getScheduleController:He,getRepresentationController:xe,getRepresentationInfo:Ye,getBufferLevel:Ke,isBufferingCompleted:ze,createBufferSinks:Ze,updateStreamInfo:ke,getStreamInfo:Fe,selectMediaInfo:je,clearMediaInfoArray:Ue,addMediaInfo:Be,prepareTrackSwitch:Je,prepareQualityChange:_e,getMediaInfo:qe,getMediaSource:Ge,setMediaSource:Ve,getBuffer:Me,setExplicitBufferingTime:it,finalisePlayList:at,probeNextRequest:We,prepareInnerPeriodPlaybackSeeking:ue,prepareOuterPeriodPlaybackSeeking:le,reset:oe},ee(),t}A.__dashjs_factory_name="StreamProcessor";const R=f["default"].getClassFactory(A)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
  !*** ./src/streaming/XlinkLoader.js ***!
  \**************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ./vo/DashJSError */"./src/streaming/vo/DashJSError.js"),i=r(/*! ./net/URLLoader */"./src/streaming/net/URLLoader.js"),a=r(/*! ./vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),o=r(/*! ./vo/TextRequest */"./src/streaming/vo/TextRequest.js"),s=r(/*! ../core/EventBus */"./src/core/EventBus.js"),u=r(/*! ../core/events/Events */"./src/core/events/Events.js"),l=r(/*! ../core/FactoryMaker */"./src/core/FactoryMaker.js"),c=r(/*! ../core/errors/Errors */"./src/core/errors/Errors.js");function f(e){e=e||{};var t,r="urn:mpeg:dash:resolve-to-zero:2013",l=this.context,f=(0,s["default"])(l).getInstance(),d=(0,i["default"])(l).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,errors:c["default"]});function h(e,t,i){var s=function(r,a){t.resolved=!0,t.resolvedContent=r||null,f.trigger(u["default"].XLINK_ELEMENT_LOADED,{element:t,resolveObject:i,error:r||a?null:new n["default"](c["default"].XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,c["default"].XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+e)})};if(e===r)s(null,!0);else{var l=new o["default"](e,a.HTTPRequest.XLINK_EXPANSION_TYPE);d.load({request:l,success:function(e){s(e)},error:function(){s(null)}})}}function p(){d&&(d.abort(),d=null)}return t={load:h,reset:p},t}f.__dashjs_factory_name="XlinkLoader";const d=l["default"].getClassFactory(f)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
  \******************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
  !*** ./src/streaming/constants/Constants.js ***!
  \**********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>u});var o=function(){function e(){n(this,e),this.init()}return a(e,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),e}(),s=new o;const u=s},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
  !*** ./src/streaming/constants/MetricsConstants.js ***!
  \*****************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>u});var o=function(){function e(){n(this,e),this.init()}return a(e,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),e}(),s=new o;const u=s},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
  !*** ./src/streaming/constants/ProtectionConstants.js ***!
  \********************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>u});var o=function(){function e(){n(this,e),this.init()}return a(e,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),e}(),s=new o;const u=s},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
  !*** ./src/streaming/controllers/AbrController.js ***!
  \****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var n=r(/*! ../rules/abr/ABRRulesCollection */"./src/streaming/rules/abr/ABRRulesCollection.js"),i=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),a=r(/*! ../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),o=r(/*! ../vo/BitrateInfo */"./src/streaming/vo/BitrateInfo.js"),s=r(/*! ../models/FragmentModel */"./src/streaming/models/FragmentModel.js"),u=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),l=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),c=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),f=r(/*! ../rules/RulesContext */"./src/streaming/rules/RulesContext.js"),d=r(/*! ../rules/SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),h=r(/*! ../rules/SwitchRequestHistory */"./src/streaming/rules/SwitchRequestHistory.js"),p=r(/*! ../rules/DroppedFramesHistory */"./src/streaming/rules/DroppedFramesHistory.js"),g=r(/*! ../rules/ThroughputHistory */"./src/streaming/rules/ThroughputHistory.js"),m=r(/*! ../../core/Debug */"./src/core/Debug.js"),v=r(/*! ../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),y=r(/*! ../utils/SupervisorTools */"./src/streaming/utils/SupervisorTools.js"),b=r(/*! ../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),E=1e3,_=100,T=0;function w(){var e,t,r,c,w,S,A,R,I,C,D,N,x,M,O,P,L,k,F,j,B,U,q,G,V,H,Y,z=this.context,K=(0,m["default"])(z).getInstance(),W=(0,u["default"])(z).getInstance();function $(){t=K.getLogger(e),ee()}function X(){B=(0,p["default"])(z).create(),U=(0,g["default"])(z).create({settings:Y}),r=(0,n["default"])(z).create({dashMetrics:H,customParametersModel:P,mediaPlayerModel:O,settings:Y}),r.initialize(),W.on(b["default"].QUALITY_CHANGE_RENDERED,ae,e),W.on(b["default"].METRIC_ADDED,oe,e),W.on(l["default"].LOADING_PROGRESS,ie,e)}function Q(e,t){var r=t.getStreamInfo().id;A[r]||(A[r]={}),j[r]||(j[r]={}),R[r]||(R[r]={}),j[r][e]=(0,h["default"])(z).create(),A[r][e]=t,R[r][e]={},R[r][e].state=a["default"].ALLOW_LOAD,Z(e),e===i["default"].VIDEO&&xe()}function Z(e){var t=Y.get().streaming.abr.ABRStrategy;t===i["default"].ABR_STRATEGY_L2A?(q[e]=!1,V[e]=!1,G[e]=!0):t===i["default"].ABR_STRATEGY_LoLP?(q[e]=!1,V[e]=!0,G[e]=!1):t===i["default"].ABR_STRATEGY_BOLA?(q[e]=!0,V[e]=!1,G[e]=!1):t===i["default"].ABR_STRATEGY_THROUGHPUT?(q[e]=!1,V[e]=!1,G[e]=!1):t===i["default"].ABR_STRATEGY_DYNAMIC&&(q[e]=!(!q||!q[e])&&q[e],V[e]=!1,G[e]=!1)}function J(e,t){try{A[e]&&A[e][t]&&delete A[e][t],j[e]&&j[e][t]&&delete j[e][t],R[e]&&R[e][t]&&delete R[e][t]}catch(r){}}function ee(){w={},S={},R={},A={},j={},q={},G={},V={},void 0===C&&(C=!1),B&&B.reset(),F=void 0,B=void 0,U=void 0,clearTimeout(I),I=null}function te(){ee(),W.off(l["default"].LOADING_PROGRESS,ie,e),W.off(b["default"].QUALITY_CHANGE_RENDERED,ae,e),W.off(b["default"].METRIC_ADDED,oe,e),r&&r.reset()}function re(e){e&&(e.streamController&&(c=e.streamController),e.domStorage&&(k=e.domStorage),e.mediaPlayerModel&&(O=e.mediaPlayerModel),e.customParametersModel&&(P=e.customParametersModel),e.cmsdModel&&(L=e.cmsdModel),e.dashMetrics&&(H=e.dashMetrics),e.adapter&&(x=e.adapter),e.videoModel&&(M=e.videoModel),e.settings&&(Y=e.settings))}function ne(){if(!k||!k.hasOwnProperty("getSavedBitrateSettings"))throw new Error(i["default"].MISSING_CONFIG_ERROR)}function ie(t){var n=t.request.mediaType,i=t.streamId;if(n&&i&&A[i]&&Y.get().streaming.abr.autoSwitchBitrate[n]){var o=A[i][n];if(o){var u=(0,f["default"])(z).create({abrController:e,streamProcessor:o,currentRequest:t.request,useBufferOccupancyABR:q[n],useL2AABR:G[n],useLoLPABR:V[n],videoModel:M}),l=r.shouldAbandonFragment(u,i);if(l.quality>d["default"].NO_CHANGE){var h=o.getFragmentModel(),p=h.getRequests({state:s["default"].FRAGMENT_MODEL_LOADING,index:t.request.index})[0];p&&(R[i][n].state=a["default"].ABANDON_LOAD,j[i][n].reset(),j[i][n].push({oldValue:ye(n,i),newValue:l.quality,confidence:1,reason:l.reason}),be(n,c.getActiveStreamInfo(),l.quality,l.reason),clearTimeout(I),I=setTimeout((function(){R[i][n].state=a["default"].ALLOW_LOAD,I=null}),Y.get().streaming.abandonLoadTimeout))}}}}function ae(e){e.mediaType===i["default"].VIDEO&&(void 0!==F&&B.push(e.streamId,F,M.getPlaybackQuality()),F=e.newQuality)}function oe(e){e.metric!==a["default"].HTTP_REQUEST||!e.value||e.value.type!==v.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==i["default"].AUDIO&&e.mediaType!==i["default"].VIDEO||U.push(e.mediaType,e.value,Y.get().streaming.abr.useDeadTimeLatency),e.metric!==a["default"].BUFFER_LEVEL||e.mediaType!==i["default"].AUDIO&&e.mediaType!==i["default"].VIDEO||Ae(e.mediaType,.001*e.value.level)}function se(e,t){try{var r;return w[t]=w[t]||{},w[t].hasOwnProperty(e)||(w[t][e]=0),r=fe(e,t),r=he(r,e,t),r=pe(r,e,t),Y.get().streaming.cmsd.enabled&&Y.get().streaming.cmsd.abr.applyMb&&(r=de(r,e,t)),r}catch(n){return}}function ue(e,t){try{return ce(e,t)}catch(r){return}}function le(e,t){try{var r=O.getAbrBitrateParameter("maxBitrate",e);return r>-1?we(A[t][e].getMediaInfo(),r,t):void 0}catch(n){return}}function ce(e,t){try{var r=O.getAbrBitrateParameter("minBitrate",e);if(r>-1){var n=A[t][e].getMediaInfo(),i=Se(n),a=we(n,r,t);return i[a]&&a<i.length-1&&i[a].bitrate<1e3*r&&a++,a}return}catch(o){return}}function fe(e,t){var r=w[t][e],n=r;if(!A[t]||!A[t][e])return n;var i=ue(e,t);void 0!==i&&(n=Math.max(r,i));var a=le(e,t);return void 0!==a&&(n=Math.min(n,a)),n}function de(e,r,n){if("video"!==r)return e;var i=L.getMaxBitrate(r);if(i<0)return e;var a=Te(n,"audio",ye("audio",n));i-=a?a.bitrate/1e3:0;var o=we(A[n][r].getMediaInfo(),i,n);return t.debug("Stream ID: "+n+" ["+r+"] Apply max bit rate from CMSD: "+i),Math.min(e,o)}function he(e,t,r){var n=w[r][t],i=Y.get().streaming.abr.maxRepresentationRatio[t];return isNaN(i)||i>=1||i<0?e:Math.min(e,Math.round(n*i))}function pe(e,t,r){if(t!==i["default"].VIDEO||!Y.get().streaming.abr.limitBitrateByPortal||!A[r]||!A[r][t])return e;C||xe();var n=A[r][t].getStreamInfo(),a=x.getAdaptationForType(n.index,t,n).Representation_asArray,o=e;if(D>0&&N>0){while(o>0&&a[o]&&D<a[o].width&&D-a[o-1].width<a[o].width-D)o-=1;while(o<a.length-1&&a[o].width===a[o+1].width)o+=1}return o}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||(t=c.getActiveStreamInfo().id),e&&A&&A[t]&&A[t][e]){var r=se(e,t),n=Se(A[t][e].getMediaInfo());return n[r]?n[r]:null}return null}function me(e,t){if(ne(),e===i["default"].TEXT)return NaN;var r=k.getSavedBitrateSettings(e),n=O.getAbrBitrateParameter("initialBitrate",e),a=Y.get().streaming.abr.initialRepresentationRatio[e];if(-1===n)if(a>-1){var o=A[t][e].getStreamInfo(),s=x.getAdaptationForType(o.index,e,o).Representation_asArray;if(Array.isArray(s)){var u=Math.max(Math.round(s.length*a)-1,0);n=s[u].bandwidth/1e3}else n=0}else n=isNaN(r)?e===i["default"].VIDEO?E:_:r;return n}function ve(t,n){try{if(!t||!A||!A[n]||!A[n][t])return!1;if(B){var i=M.getPlaybackQuality();i&&B.push(n,F,i)}if(!Y.get().streaming.abr.autoSwitchBitrate[t])return!1;var o=ye(t,n),s=(0,f["default"])(z).create({abrController:e,switchHistory:j[n][t],droppedFramesHistory:B,streamProcessor:A[n][t],currentValue:o,useBufferOccupancyABR:q[t],useL2AABR:G[t],useLoLPABR:V[t],videoModel:M}),u=ue(t,n),l=se(t,n),c=r.getMaxQuality(s),h=c.quality;return void 0!==u&&(h>d["default"].NO_CHANGE?h:o)<u&&(h=u),h>l&&(h=l),j[n][t].push({oldValue:o,newValue:h}),h>d["default"].NO_CHANGE&&h!==o&&(R[n][t].state===a["default"].ALLOW_LOAD||h<o)&&(_e(t,o,h,l,c.reason,n),!0)}catch(p){return!1}}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var r;if(t||(t=c.getActiveStreamInfo().id),e&&A[t]&&A[t][e])if(t)return S[t]=S[t]||{},S[t].hasOwnProperty(e)||(S[t][e]=T),r=S[t][e],r;return T}catch(n){return T}}function be(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t&&t.id&&e){var i=t.id,a=ye(e,i);(0,y.checkInteger)(r);var o=se(e,i);r!==a&&r>=0&&r<=o&&_e(e,a,r,o,n,i)}}function Ee(e,t){return R[e]&&R[e][t]?R[e][t].state:null}function _e(e,r,n,i,a,o){if(e&&A[o]&&A[o][e]){var s=A[o][e].getStreamInfo(),u=s&&s.manifestInfo&&s.manifestInfo.isDynamic,c=H.getCurrentBufferLevel(e);t.info("Stream ID: "+o+" ["+e+"] switch from "+r+" to "+n+"/"+i+" (buffer: "+c+") "+(a?JSON.stringify(a):".")),S[o]=S[o]||{},S[o][e]=n;var f=Te(o,e,n);W.trigger(l["default"].QUALITY_CHANGE_REQUESTED,{oldQuality:r,newQuality:n,reason:a,streamInfo:s,bitrateInfo:f,maxIdx:i,mediaType:e},{streamId:s.id,mediaType:e});var d=U.getAverageThroughput(e,u);isNaN(d)||k.setSavedBitrateSettings(e,d)}}function Te(e,t,r){if(t&&A&&A[e]&&A[e][t]){var n=Se(A[e][t].getMediaInfo());return n[r]?n[r]:null}return null}function we(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e&&e.type?A[r][e.type].getRepresentationInfo():null;if(Y.get().streaming.abr.useDeadTimeLatency&&n&&i&&i.fragmentDuration){n/=1e3;var a=i.fragmentDuration;if(n>a)return 0;var o=n/a;t*=1-o}for(var s=Se(e),u=s.length-1;u>=0;u--){var l=s[u];if(1e3*t>=l.bitrate)return u}return T}function Se(e){var t=[];if(!e||!e.bitrateList)return t;for(var r,n=e.bitrateList,i=e.type,a=0,s=n.length;a<s;a++)r=new o["default"],r.mediaType=i,r.qualityIndex=a,r.bitrate=n[a].bandwidth,r.width=n[a].width,r.height=n[a].height,r.scanType=n[a].scanType,t.push(r);return t}function Ae(e,t){var r=Y.get().streaming.abr.ABRStrategy;r===i["default"].ABR_STRATEGY_DYNAMIC&&Re(e,t)}function Re(e,r){try{var n=O.getStableBufferTime(),i=n,a=.5*n,o=q[e],s=r>(o?a:i);q[e]=s,s!==o&&(s?t.info("["+e+"] switching from throughput to buffer occupancy ABR rule (buffer: "+r.toFixed(3)+")."):t.info("["+e+"] switching from buffer occupancy to throughput ABR rule (buffer: "+r.toFixed(3)+")."))}catch(u){t.error(u)}}function Ie(){return U}function Ce(e){var t=e.type,r=e.streamInfo.id,n=e.representationCount-1;return w[r]=w[r]||{},w[r][t]=n,n}function De(e){var t=e?e.id:null,r=ye(i["default"].AUDIO,t),n=ye(i["default"].VIDEO,t),a=r===se(i["default"].AUDIO,t)&&n===se(i["default"].VIDEO,t);return a}function Ne(e){C=e}function xe(){if(M){var e=Y.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio"),t=e?window.devicePixelRatio:1;D=M.getClientWidth()*t,N=M.getClientHeight()*t}}function Me(e){B&&B.clearForStream(e),A[e]&&delete A[e],j[e]&&delete j[e],R[e]&&delete R[e]}return e={initialize:X,isPlayingAtTopQuality:De,updateTopQualityIndex:Ce,clearDataForStream:Me,getThroughputHistory:Ie,getBitrateList:Se,getQualityForBitrate:we,getTopBitrateInfoFor:ge,getMinAllowedIndexFor:ue,getMaxAllowedIndexFor:se,getInitialBitrateFor:me,getQualityFor:ye,getAbandonmentStateFor:Ee,setPlaybackQuality:be,checkPlaybackQuality:ve,setElementSize:xe,setWindowResizeEventCalled:Ne,registerStreamType:Q,unRegisterStreamType:J,setConfig:re,reset:te},$(),e}w.__dashjs_factory_name="AbrController";var S=c["default"].getSingletonFactory(w);S.QUALITY_DEFAULT=T,c["default"].updateSingletonFactory(w.__dashjs_factory_name,S);const A=S},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
  !*** ./src/streaming/controllers/BaseURLController.js ***!
  \********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../models/BaseURLTreeModel */"./src/streaming/models/BaseURLTreeModel.js"),i=r(/*! ../utils/BaseURLSelector */"./src/streaming/utils/BaseURLSelector.js"),a=r(/*! ../utils/URLUtils */"./src/streaming/utils/URLUtils.js"),o=r(/*! ../../dash/vo/BaseURL */"./src/dash/vo/BaseURL.js"),s=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),u=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),l=r(/*! ../../core/events/Events */"./src/core/events/Events.js");function c(){var e,t,r,s,c=this.context,f=(0,u["default"])(c).getInstance(),d=(0,a["default"])(c).getInstance();function h(e){r.invalidateSelectedIndexes(e.entry)}function p(){r=(0,n["default"])(c).create(),s=(0,i["default"])(c).create(),f.on(l["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,h,e)}function g(e){e.baseURLTreeModel&&(r=e.baseURLTreeModel),e.baseURLSelector&&(s=e.baseURLSelector),e.adapter&&(t=e.adapter)}function m(e){r.update(e),s.chooseSelector(t.getIsDVB(e))}function v(e){var t=r.getForPath(e),n=t.reduce((function(e,t){var r=s.select(t);return r?(d.isRelative(r.url)?e.url=d.resolve(r.url,e.url):(e.url=r.url,e.serviceLocation=r.serviceLocation),e.availabilityTimeOffset=r.availabilityTimeOffset,e.availabilityTimeComplete=r.availabilityTimeComplete,e):new o["default"]}),new o["default"]);if(!d.isRelative(n.url))return n}function y(){r.reset(),s.reset()}function b(e){r.setConfig({adapter:t}),m(e)}return e={reset:y,initialize:b,resolve:v,setConfig:g},p(),e}c.__dashjs_factory_name="BaseURLController";const f=s["default"].getClassFactory(c)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
  !*** ./src/streaming/controllers/BlacklistController.js ***!
  \**********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/EventBus */"./src/core/EventBus.js");function a(e){var t;e=e||{};var r=[],n=(0,i["default"])(this.context).getInstance(),a=e.updateEventName,o=e.addBlacklistEventName;function s(e){return!!(r.length&&e&&e.length)&&-1!==r.indexOf(e)}function u(e){-1===r.indexOf(e)&&(r.push(e),n.trigger(a,{entry:e}))}function l(e){u(e.entry)}function c(){o&&n.on(o,l,t)}function f(){r=[]}return t={add:u,contains:s,reset:f},c(),t}a.__dashjs_factory_name="BlackListController";const o=n["default"].getClassFactory(a)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
  !*** ./src/streaming/controllers/BufferController.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),a=r(/*! ../models/FragmentModel */"./src/streaming/models/FragmentModel.js"),o=r(/*! ../SourceBufferSink */"./src/streaming/SourceBufferSink.js"),s=r(/*! ../PreBufferSink */"./src/streaming/PreBufferSink.js"),u=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),l=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),c=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),f=r(/*! ../../core/Debug */"./src/core/Debug.js"),d=r(/*! ../utils/InitCache */"./src/streaming/utils/InitCache.js"),h=r(/*! ../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),p=r(/*! ../../core/errors/Errors */"./src/core/errors/Errors.js"),g=r(/*! ../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),m=r(/*! ../../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),v=.5,y=.01,b=22,E="BufferController";function _(e){e=e||{};var t,r,c,_,T,w,S,A,R,I,C,D,N,x,M,O,P,L,k,F,j=this.context,B=(0,u["default"])(j).getInstance(),U=e.errHandler,q=e.fragmentModel,G=e.representationController,V=e.adapter,H=e.textController,Y=e.abrController,z=e.playbackController,K=e.streamInfo,W=e.type,$=e.settings;function X(){r=(0,f["default"])(j).getInstance().getLogger(t),P=(0,d["default"])(j).getInstance(),rt()}function Q(e){te(e),B.on(l["default"].INIT_FRAGMENT_LOADED,ue,t),B.on(l["default"].MEDIA_FRAGMENT_LOADED,ce,t),B.on(l["default"].WALLCLOCK_TIME_UPDATED,Ve,t),B.on(m["default"].PLAYBACK_PLAYING,Re,t),B.on(m["default"].PLAYBACK_PROGRESS,Se,t),B.on(m["default"].PLAYBACK_TIME_UPDATED,Se,t),B.on(m["default"].PLAYBACK_RATE_CHANGED,He,t),B.on(m["default"].PLAYBACK_STALLED,Ae,t)}function Z(){return K.id}function J(){return W}function ee(){return E}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,n){w=e,R&&t&&"function"===typeof R.discharge?(I=R,ne(t).then((function(){r()}))["catch"]((function(e){n(e)}))):r()}))}function re(e){return V.convertRepresentationToRepresentationInfo(G.getRepresentationForQuality(e))}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(r,n){P&&e?w?ae(e,t).then((function(e){r(e)}))["catch"]((function(e){n(e)})):ie().then((function(e){r(e)}))["catch"]((function(e){n(e)})):r(null)}))}function ie(){var e=this;return new Promise((function(t,r){var n=Y.getQualityFor(W,K.id);R=(0,s["default"])(j).create(he.bind(e)),Ue(re(n)).then((function(){t(R)}))["catch"]((function(){r()}))}))}function ae(e,t){return new Promise((function(n,i){var a=Y.getQualityFor(W,K.id);R=(0,o["default"])(j).create({mediaSource:w,textController:H,eventBus:B}),oe(e,t,a).then((function(){return Ue(re(a))})).then((function(){n(R)}))["catch"]((function(e){r.fatal("Caught error on create SourceBuffer: "+e),U.error(new h["default"](p["default"].MEDIASOURCE_TYPE_UNSUPPORTED_CODE,p["default"].MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+W)),i(e)}))}))}function oe(e,t,r){var i=re(r);return t&&t[W]&&(W===n["default"].VIDEO||W===n["default"].AUDIO)?R.initializeForStreamSwitch(e,i,t[W]):R.initializeForFirstUse(K,e,i)}function se(){if(R&&I&&"function"===typeof I.discharge){var e=I.getAllBufferRanges();if(e.length>0){for(var t="Beginning "+W+"PreBuffer discharge, adding buffer for:",n=0;n<e.length;n++)t+=" start: "+e.start(n)+", end: "+e.end(n)+";";r.debug(t)}else r.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");C=[];for(var i=I.discharge(),a=null,o=0;o<i.length;o++){var s=i[o];if(s.segmentType!==g.HTTPRequest.INIT_SEGMENT_TYPE){var u=P.extract(s.streamId,s.representationId);u&&a!==u&&(C.push(u),R.append(u),a=u)}C.push(s),R.append(s)}I.reset(),I=null}}function ue(e){$.get().streaming.cacheInitSegments&&(r.info("Init fragment finished loading saving to",W+"'s init cache"),P.save(e.chunk)),r.debug("Append Init fragment",W," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),fe(e.chunk)}function le(e){var t=P.extract(K.id,e);return!!t&&(r.info("Append Init fragment",W," with representationId:",t.representationId," and quality:",t.quality,", data size:",t.bytes.byteLength),fe(t),!0)}function ce(e){fe(e.chunk,e.request)}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;R.append(e,t).then((function(e){he(e)}))["catch"]((function(e){he(e)})),e.mediaInfo.type===n["default"].VIDEO&&tt(l["default"].VIDEO_CHUNK_RECEIVED,{chunk:e})}function de(e){if(e&&e.length>0)for(var t=0,n=e.length;t<n;t++)r.debug("Buffered range: "+e.start(t)+" - "+e.end(t)+", currentTime = ",z.getTime())}function he(e){if(e.error)return e.error.code===b&&ge(),void(e.error.code!==b&&Je()||(r.warn("Clearing playback buffer to overcome quota exceed situation"),tt(l["default"].QUOTA_EXCEEDED,{criticalBufferLevel:T,quotaExceededTime:e.chunk.start}),ke(Le())));if(R&&(Ne(),O=!1,N=e.chunk,N&&N.endFragment)){N&&!isNaN(N.index)&&(S=Math.max(N.index,S),xe());var t=R.getAllBufferRanges();N.segmentType===g.HTTPRequest.MEDIA_SEGMENT_TYPE&&(de(t),Se(),pe());var n=!1;C&&(C.indexOf(N)>0&&(n=!0),C=null),N&&!n&&tt(l["default"].BYTES_APPENDED_END_FRAGMENT,{quality:N.quality,startTime:N.start,index:N.index,bufferedRanges:t,segmentType:N.segmentType,mediaType:W})}}function pe(){if(!isNaN(F))if(W===n["default"].AUDIO||W===n["default"].VIDEO){var e=z.getTime(),t=Ce(e,0),r=Ce(F,0);if(t&&r&&t.start===r.start)F=NaN;else{var i=G.getCurrentRepresentation().segmentDuration,a=Ce(F,i);a&&($.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(e-F)>i?F<=a.end&&z.seek(Math.max(F,a.start),!1,!0):e<a.start&&z.seek(a.start,!1,!0))}}else F=NaN}function ge(){if(O=!0,T=.8*Qe(),r.warn("Quota exceeded, Critical Buffer: "+T),T>0){var e=Math.max(.2*T,1),t=T-e,n=Math.min($.get().streaming.buffer.bufferTimeAtTopQuality,.9*t),i=Math.min($.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*t),a={streaming:{buffer:{bufferToKeep:parseFloat(e.toFixed(5)),bufferTimeAtTopQuality:parseFloat(n.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(i.toFixed(5))}}};$.update(a)}}function me(){return c&&$e(!1),R.abort()}function ve(e){return new Promise((function(t,r){R.abort().then((function(){return qe()})).then((function(){return $.get().streaming.buffer.useChangeTypeForTrackSwitch?R.changeType(e):Promise.resolve()})).then((function(){return Ee()})).then((function(){$e(!1),t()}))["catch"]((function(e){r(e)}))}))}function ye(){return new Promise((function(e,t){R.abort().then((function(){return qe()})).then((function(){return Ee()})).then((function(){$e(!1),e()}))["catch"]((function(e){t(e)}))}))}function be(e){return new Promise((function(t,r){qe().then((function(){return $.get().streaming.buffer.useChangeTypeForTrackSwitch?R.changeType(e):Promise.resolve()})).then((function(){t()}))["catch"]((function(e){r(e)}))}))}function Ee(){return new Promise((function(e,t){var r=_e();if(!r||0===r.length)return Se(),void e();ke(r).then((function(){e()}))["catch"]((function(e){t(e)}))}))}function _e(e){var t=[],r=R.getAllBufferRanges();if(!r||0===r.length)return t;if(!e&&0!==e||isNaN(e))t.push({start:r.start(0),end:r.end(r.length-1)+v});else{var n=Te(e,r),i=we(e,r);n&&t.push(n),i&&t.push(i)}return t}function Te(e,t){var r=$.get().streaming.buffer.bufferToKeep,n=t.start(0),i=e-n;if(i>r){var o=Math.max(0,e-r),s=q.getRequests({state:a["default"].FRAGMENT_MODEL_EXECUTED,time:e,threshold:y})[0];if(s&&(o=Math.min(s.startTime,o)),o>0)return{start:n,end:o}}return null}function we(e,t){var n=t.end(t.length-1)+v,i=Ze(e),o=K.manifestInfo.duration>=$.get().streaming.buffer.longFormContentDurationThreshold,s=o?$.get().streaming.buffer.bufferTimeAtTopQualityLongForm:$.get().streaming.buffer.bufferTimeAtTopQuality,u=isNaN(i)?e:Math.min(i,e+s);if(u>=t.end(t.length-1))return null;var l=q.getRequests({state:a["default"].FRAGMENT_MODEL_EXECUTED,time:e,threshold:y})[0];l&&(u=Math.max(l.startTime+l.duration,u));var c=$.get().streaming.buffer.avoidCurrentTimeRangePruning;if(c)for(var f=0;f<t.length;f++)if(t.start(f)<=e&&e<=t.end(f)&&t.start(f)<=u&&u<=t.end(f)){var d=u;u=f+1<t.length?t.start(f+1):t.end(f)+1,r.debug("Buffered range ["+t.start(f)+", "+t.end(f)+"] overlaps with targetTime "+e+" and range to be pruned ["+d+", "+n+"], using ["+u+", "+n+"] instead"+(u<n?"":" (no actual pruning)"));break}return u<t.end(t.length-1)?{start:u,end:n}:null}function Se(){(!k||W===n["default"].TEXT&&H.isTextEnabled())&&Ne()}function Ae(){Me()}function Re(){Me(),F=NaN}function Ie(e){try{var t=R.getAllBufferRanges();if(!t||0===t.length)return!1;var n=0;while(n<t.length){var i=t.start(n),a=t.end(n);if(e>=i&&e<=a)return!0;n+=1}return!1}catch(o){return r.error(o),!1}}function Ce(e,t){var r,n,i=R.getAllBufferRanges(),a=0,o=0,s=null,u=null,l=0,c=isNaN(t)?.15:t;if(null!==i&&void 0!==i){for(n=0,r=i.length;n<r;n++)if(a=i.start(n),o=i.end(n),null===s)l=Math.abs(a-e),(e>=a&&e<o||l<=c)&&(s=a,u=o);else{if(l=a-u,!(l<=c))break;u=o}if(null!==s)return{start:s,end:u}}return null}function De(e,t){var r,n;return $.get().streaming.gaps.jumpGaps&&(t=$.get().streaming.gaps.smallGapLimit),r=Ce(e,t),n=null===r?0:r.end-e,n}function Ne(){if(z){var e=$.get().streaming.gaps.jumpGaps&&!isNaN($.get().streaming.gaps.smallGapLimit)?$.get().streaming.gaps.smallGapLimit:NaN;_=Math.max(De(z.getTime()||0,e),0),tt(l["default"].BUFFER_LEVEL_UPDATED,{mediaType:W,bufferLevel:_}),Me()}}function xe(){var e=S>=A-1,t=z.getTimeToStreamEnd(K)-_<1e-5;!e&&!t||c||($e(!0),r.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(K.id," and type ").concat(W)))}function Me(){W!==n["default"].AUDIO&&W!==n["default"].VIDEO||((!z.getLowLatencyModeEnabled()&&_<$.get().streaming.buffer.stallThreshold||0===_)&&!c?Oe(i["default"].BUFFER_EMPTY):(c||_>=$.get().streaming.buffer.stallThreshold||z.getLowLatencyModeEnabled()&&_>0)&&Oe(i["default"].BUFFER_LOADED))}function Oe(e){D===e||e===i["default"].BUFFER_EMPTY&&0===z.getTime()||W===n["default"].TEXT&&!H.isTextEnabled()||(D=e,tt(l["default"].BUFFER_LEVEL_STATE_CHANGED,{state:e}),tt(e===i["default"].BUFFER_LOADED?l["default"].BUFFER_LOADED:l["default"].BUFFER_EMPTY),r.debug(e===i["default"].BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Pe(){R&&W!==n["default"].TEXT&&(c||ke(Le()))}function Le(){var e=[],t=R.getAllBufferRanges();if(!t||0===t.length)return e;var r=z.getTime(),n=Math.max(0,r-$.get().streaming.buffer.bufferToKeep),i=q.getRequests({state:a["default"].FRAGMENT_MODEL_EXECUTED,time:r,threshold:y})[0];if(i)n=Math.min(i.startTime,n);else if(0===r&&z.getIsDynamic())return[];if(t.start(0)<=n){for(var o={start:0,end:n},s=0;s<t.length&&t.end(s)<=n;s++)o.end=t.end(s);o.start<o.end&&e.push(o)}return e}function ke(e){return new Promise((function(t,r){if(e&&R&&0!==e.length){var n=[];e.forEach((function(e){n.push(Fe(e))})),M||je(),Promise.all(n).then((function(){t()}))["catch"]((function(e){r(e)}))}else t()}))}function Fe(e){return new Promise((function(t,r){e.resolve=t,e.reject=r,L.push(e)}))}function je(){try{if(0===L.length||!R)return r.debug("Nothing to prune, halt pruning"),L=[],void(M=!1);var e=R.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return r.debug("SourceBuffer is empty (or does not exist), halt pruning"),L=[],void(M=!1);var t=L.shift();r.debug("".concat(W,": Removing buffer from: ").concat(t.start," to ").concat(t.end)),M=!0;var n=z.getTime();n<t.end&&$e(!1),R.remove(t).then((function(e){Be(e)}))["catch"]((function(e){Be(e)}))}catch(i){M=!1}}function Be(e){r.debug("onRemoved buffer from:",e.from,"to",e.to);var t=R.getAllBufferRanges();de(t),0===L.length&&(M=!1,Ne()),e.unintended&&(r.warn("Detected unintended removal from:",e.from,"to",e.to,"setting streamprocessor time to",e.from),tt(l["default"].SEEK_TARGET,{time:e.from})),M?je():(k?k=!1:Ne(),tt(l["default"].BUFFER_CLEARED,{from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:Je(),quotaExceeded:O}))}function Ue(e){return new Promise((function(t){e&&void 0!==e.MSETimeOffset&&R&&R.updateTimestampOffset?R.updateTimestampOffset(e.MSETimeOffset).then((function(){t()}))["catch"]((function(){t()})):t()}))}function qe(){return R&&!c?R.updateAppendWindow(K):Promise.resolve()}function Ge(e){isNaN(e)||(A=e,xe())}function Ve(){x++;var e=x*($.get().streaming.wallclockTimeUpdateInterval/1e3);e>=$.get().streaming.buffer.bufferPruningInterval&&(x=0,Pe())}function He(){Me()}function Ye(){return R}function ze(){return _}function Ke(){return w}function We(){return c}function $e(e){c!==e&&(c=e,c?tt(l["default"].BUFFERING_COMPLETED):A=Number.POSITIVE_INFINITY)}function Xe(){return M}function Qe(){try{var e,t,r=R.getAllBufferRanges(),n=0;if(!r)return n;for(t=0,e=r.length;t<e;t++)n+=r.end(t)-r.start(t);return n}catch(i){return 0}}function Ze(e){try{var t=e,r=R.getAllBufferRanges();if(!r||0===r.length)return NaN;var n=0;while(t===e&&n<r.length){var i=r.start(n),a=r.end(n);t>=i&&t<=a&&(t=a),n+=1}return t===e?NaN:t}catch(o){}}function Je(){var e=Qe();return isNaN(e)||e<T}function et(e){F=e}function tt(e,t){var r=t||{};B.trigger(e,r,{streamId:K.id,mediaType:W})}function rt(e,t){if(T=Number.POSITIVE_INFINITY,D=void 0,A=Number.POSITIVE_INFINITY,S=0,N=null,c=!1,M=!1,O=!1,_=0,x=0,L=[],F=NaN,R){var r=R;R=null,e||t||r.abort().then((function(){r.reset(t),r=null}))}k=!1}function nt(e,t){B.off(l["default"].INIT_FRAGMENT_LOADED,ue,this),B.off(l["default"].MEDIA_FRAGMENT_LOADED,ce,this),B.off(l["default"].WALLCLOCK_TIME_UPDATED,Ve,this),B.off(m["default"].PLAYBACK_PLAYING,Re,this),B.off(m["default"].PLAYBACK_PROGRESS,Se,this),B.off(m["default"].PLAYBACK_TIME_UPDATED,Se,this),B.off(m["default"].PLAYBACK_RATE_CHANGED,He,this),B.off(m["default"].PLAYBACK_STALLED,Ae,this),rt(e,t)}return t={initialize:Q,getStreamId:Z,getType:J,getBufferControllerType:ee,createBufferSink:ne,dischargePreBuffer:se,getBuffer:Ye,getBufferLevel:ze,getRangeAt:Ce,hasBufferAtTime:Ie,pruneBuffer:Pe,setMediaSource:te,getMediaSource:Ke,appendInitSegmentFromCache:le,getIsBufferingCompleted:We,setIsBufferingCompleted:$e,getIsPruningInProgress:Xe,reset:nt,prepareForPlaybackSeek:me,prepareForReplacementTrackSwitch:ve,prepareForNonReplacementTrackSwitch:be,prepareForReplacementQualitySwitch:ye,updateAppendWindow:qe,getAllRangesWithSafetyFactor:_e,getContinuousBufferTimeForTargetTime:Ze,clearBuffers:ke,pruneAllSafely:Ee,updateBufferTimestampOffset:Ue,setSeekTarget:et,segmentRequestingCompleted:Ge},X(),t}_.__dashjs_factory_name=E;const T=c["default"].getClassFactory(_)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
  !*** ./src/streaming/controllers/CatchupController.js ***!
  \********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),o=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),s=r(/*! ../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),u=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),l=r(/*! ../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),c=r(/*! ../../core/Utils */"./src/core/Utils.js");function f(){var e,t,r,n,f,d,h,p,g,m,v=this.context,y=(0,a["default"])(v).getInstance();function b(){_(),B()}function E(e){e&&(e.settings&&(f=e.settings),e.videoModel&&(n=e.videoModel),e.streamController&&(d=e.streamController),e.playbackController&&(h=e.playbackController),e.mediaPlayerModel&&(p=e.mediaPlayerModel))}function _(){y.on(s["default"].BUFFER_LEVEL_UPDATED,I,e),y.on(s["default"].BUFFER_LEVEL_STATE_CHANGED,C,e),y.on(s["default"].PLAYBACK_PROGRESS,N,e),y.on(s["default"].PLAYBACK_TIME_UPDATED,N,e),y.on(s["default"].PLAYBACK_SEEKED,R,e),y.on(u["default"].SETTING_UPDATED_CATCHUP_ENABLED,D,e),y.on(u["default"].SETTING_UPDATED_PLAYBACK_RATE_MIN,B,e),y.on(u["default"].SETTING_UPDATED_PLAYBACK_RATE_MAX,B,e),y.on(s["default"].STREAM_INITIALIZED,B,e)}function T(){y.off(s["default"].BUFFER_LEVEL_UPDATED,I,e),y.off(s["default"].BUFFER_LEVEL_STATE_CHANGED,C,e),y.off(s["default"].PLAYBACK_PROGRESS,N,e),y.off(s["default"].PLAYBACK_TIME_UPDATED,N,e),y.off(s["default"].PLAYBACK_SEEKED,N,e),y.off(u["default"].SETTING_UPDATED_CATCHUP_ENABLED,D,e),y.off(u["default"].SETTING_UPDATED_PLAYBACK_RATE_MIN,B,e),y.off(u["default"].SETTING_UPDATED_PLAYBACK_RATE_MAX,B,e),y.off(s["default"].STREAM_INITIALIZED,B,e)}function w(){m=(0,i["default"])(v).getInstance().getLogger(e),A()}function S(){T(),A(),n.setPlaybackRate(1,!0)}function A(){t=!1;var e=c["default"].parseUserAgent();r=e&&e.browser&&e.browser.name&&"safari"===e.browser.name.toLowerCase()}function R(){t=!1}function I(e){if(e.streamId===d.getActiveStreamInfo().id&&g){var t=h.getLiveDelay(),r=h.getBufferLevel();r>t/2&&(g=!1)}}function C(e){e.streamId===d.getActiveStreamInfo().id&&(g=e.state===l["default"].BUFFER_EMPTY)}function D(){p.getCatchupModeEnabled()||n.setPlaybackRate(1)}function N(){h.getIsDynamic()&&p.getCatchupModeEnabled()&&(p.getCatchupPlaybackRates().max>0||p.getCatchupPlaybackRates().min<0)&&!h.isPaused()&&!h.isSeeking()&&O()&&x()}function x(){if(!t&&n){var e,i=n.getPlaybackRate(),a=p.getCatchupPlaybackRates(),s=h.getBufferLevel(),u=M(),l=p.getCatchupMaxDrift();if(!isNaN(l)&&l>0&&u>l)m.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),t=!0,h.seekToCurrentLive(!0,!1);else{var c=h.getCurrentLiveLatency(),d=h.getLiveDelay();if(P()===o["default"].LIVE_CATCHUP_MODE_LOLP){var g=f.get().streaming.liveCatchup.playbackBufferMin;e=j(a,c,d,g,s)}else e=F(a,c,d,s);var v=r?.25:.02/(.5/a.max);e&&Math.abs(i-e)>=v&&(m.debug("[CatchupController]: Setting playback rate to ".concat(e)),n.setPlaybackRate(e))}}}function M(){var e=h.getCurrentLiveLatency(),t=h.getLiveDelay();return e-t}function O(){try{if(!h.getTime()>0||t)return!1;var e=P();if(e===o["default"].LIVE_CATCHUP_MODE_LOLP){var r=h.getBufferLevel(),n=f.get().streaming.liveCatchup.playbackBufferMin;return k(r,n)}return L()}catch(i){return!1}}function P(){var e=f.get().streaming.liveCatchup.playbackBufferMin;return f.get().streaming.liveCatchup.mode!==o["default"].LIVE_CATCHUP_MODE_LOLP||null===e||isNaN(e)?o["default"].LIVE_CATCHUP_MODE_DEFAULT:o["default"].LIVE_CATCHUP_MODE_LOLP}function L(){try{var e=Math.abs(M());return e>0}catch(t){return!1}}function k(e,t){try{var r=Math.abs(M());return r>0||e<t}catch(n){return!1}}function F(e,t,r,n){if(g)return 1;var i=t-r,a=i<0?Math.abs(e.min):e.max,o=5*i,s=2*a/(1+Math.pow(Math.E,-o)),u=1-a+s;return h.getPlaybackStalled()&&n<=r/2&&i>0&&(u=1),u}function j(e,t,r,n,i){var a;if(i<n){var o=Math.abs(e.min),s=i-n,u=5*s,l=2*o/(1+Math.pow(Math.E,-u));a=1-o+l,m.debug("[LoL+ playback control_buffer-based] bufferLevel: "+i+", newRate: "+a)}else{var c=e.max,f=.02;if(Math.abs(t-r)<=f*r)a=1;else{var d=t-r,h=5*d,p=2*c/(1+Math.pow(Math.E,-h));a=1-c+p}m.debug("[LoL+ playback control_latency-based] latency: "+t+", newRate: "+a)}return a}function B(){p.getCatchupPlaybackRates(!0)}return e={reset:S,setConfig:E,initialize:b},w(),e}f.__dashjs_factory_name="CatchupController";const d=n["default"].getSingletonFactory(f)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
  !*** ./src/streaming/controllers/EventController.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),o=r(/*! ../../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),s=r(/*! ../net/XHRLoader */"./src/streaming/net/XHRLoader.js");function u(){var e,t,r,n,u,l,c,f,d,h,p,g="urn:mpeg:dash:event:2012",m=1,v="urn:mpeg:dash:event:callback:2015",y=1,b=300,E={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},_=this.context,T=(0,a["default"])(_).getInstance();function w(){t=(0,i["default"])(_).getInstance().getLogger(e),A()}function S(){if(!c||!f)throw new Error("setConfig function has to be called previously")}function A(){p=!1,r={},n={},u=null,h=!1,l=Date.now()/1e3}function R(){try{null!==u&&p&&(clearInterval(u),u=null,p=!1,L())}catch(e){throw e}}function I(){try{S(),t.debug("Start Event Controller");var e=d.get().streaming.eventControllerRefreshDelay;p||isNaN(e)||(p=!0,u=setInterval(C,e))}catch(r){throw r}}function C(){try{if(!h){h=!0;var e=f.getTime(),i=e-l;i=l>0?Math.max(0,i):0,D(n,i,e),D(r,i,e),N(n),N(r),l=e,h=!1}}catch(a){h=!1,t.error(a)}}function D(e,r,n){try{var i=function(i){if(void 0!==i){var a=isNaN(i.duration)?0:i.duration;i.calculatedPresentationTime<=n&&i.calculatedPresentationTime+r+a>=n?U(i,o["default"].EVENT_MODE_ON_START):(j(n,a+r,i.calculatedPresentationTime)||B(i))&&(t.debug("Removing event ".concat(i.id," from period ").concat(i.eventStream.period.id," as it is expired or invalid")),q(e,i))}};F(e,i)}catch(a){t.error(a)}}function N(e){try{for(var r in e)e.hasOwnProperty(r)&&0===Object.keys(e[r]).length&&delete e[r]}catch(n){t.error(n)}}function x(e,n){try{if(S(),r[n]||(r[n]={}),e)for(var i=0;i<e.length;i++){var a=e[i],s=f.getTime(),u=isNaN(a.duration)?0:a.duration;if(!j(s,u,a.calculatedPresentationTime)){var l=O(a,r[n],!0);l===E.ADDED?(t.debug("Added inline event with id ".concat(a.id," from period ").concat(n)),U(a,o["default"].EVENT_MODE_ON_RECEIVE)):l===E.UPDATED&&t.debug("Updated inline event with id ".concat(a.id," from period ").concat(n))}}}catch(c){throw c}}function M(e,r){try{S(),n[r]||(n[r]={});for(var i=0;i<e.length;i++){var a=e[i],s=f.getTime(),u=isNaN(a.duration)?0:a.duration;if(!j(s,u,a.calculatedPresentationTime)){var l=O(a,n[r],!1);l===E.ADDED?(a.eventStream.schemeIdUri===g&&P(a),t.debug("Added inband event with id ".concat(a.id," from period ").concat(r)),U(a,o["default"].EVENT_MODE_ON_RECEIVE)):t.debug("Inband event with scheme_id_uri ".concat(a.eventStream.schemeIdUri,", value ").concat(a.eventStream.value,", period id ").concat(r," and event id ").concat(a.id," was ignored because it has been added before."))}}C()}catch(c){throw c}}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.eventStream.schemeIdUri,i=e.eventStream.value,a=e.id,o=E.DISCARDED;t[n]||(t[n]=[]);var s=t[n].findIndex((function(e){return(!i||e.eventStream.value&&e.eventStream.value===i)&&e.id===a}));if(-1===s)t[n].push(e),e.triggeredReceivedEvent=!1,e.triggeredStartEvent=!1,o=E.ADDED;else if(r){var u=t[n][s];e.triggeredReceivedEvent=u.triggeredReceivedEvent,e.triggeredStartEvent=u.triggeredStartEvent,t[n][s]=e,o=E.UPDATED}return o}function P(e){try{if(e.eventStream.value==m){var r,n=e.calculatedPresentationTime;r=4294967295==e.calculatedPresentationTime?NaN:e.calculatedPresentationTime+e.duration,T.trigger(o["default"].MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:n,newDuration:r,newManifestValidAfter:NaN},{mode:o["default"].EVENT_MODE_ON_START})}}catch(i){t.error(i)}}function L(){try{k(n),k(r)}catch(e){t.error(e)}}function k(e){try{var r=f.getTime(),n=function(e){var t=e.eventStream&&e.eventStream.period&&!isNaN(e.eventStream.period.duration)?e.eventStream.period.duration:NaN,n=e.eventStream&&e.eventStream.period&&!isNaN(e.eventStream.period.start)?e.eventStream.period.start:NaN;if(!isNaN(t)&&!isNaN(n)){var i=e.calculatedPresentationTime;Math.abs(i-r)<b&&U(e,o["default"].EVENT_MODE_ON_START)}};F(e,n)}catch(i){t.error(i)}}function F(e,r){try{if(e)for(var n=Object.keys(e),i=0;i<n.length;i++)for(var a=e[n[i]],o=Object.keys(a),s=0;s<o.length;s++){var u=a[o[s]];u.forEach((function(e){void 0!==e&&r(e)}))}}catch(l){t.error(l)}}function j(e,r,n){try{return e-r>n}catch(i){return t.error(i),!1}}function B(e){try{var r=e.eventStream.period.start+e.eventStream.period.duration;return e.calculatedPresentationTime>r}catch(n){return t.error(n),!1}}function U(e,r){try{var n=f.getTime(),i=e.id;if(r===o["default"].EVENT_MODE_ON_RECEIVE&&!e.triggeredReceivedEvent)return t.debug("Received event ".concat(i)),e.triggeredReceivedEvent=!0,void T.trigger(e.eventStream.schemeIdUri,{event:e},{mode:r});e.triggeredStartEvent||(e.eventStream.schemeIdUri===g&&e.eventStream.value==m?0===e.duration&&0===e.presentationTimeDelta||(t.debug("Starting manifest refresh event ".concat(i," at ").concat(n)),G()):e.eventStream.schemeIdUri===v&&e.eventStream.value==y?(t.debug("Starting callback event ".concat(i," at ").concat(n)),V(e.messageData)):(t.debug("Starting event ".concat(i," from period ").concat(e.eventStream.period.id," at ").concat(n)),T.trigger(e.eventStream.schemeIdUri,{event:e},{mode:r})),e.triggeredStartEvent=!0)}catch(a){t.error(a)}}function q(e,r){try{var n=r.eventStream.schemeIdUri,i=r.eventStream.period.id,a=r.eventStream.value,o=r.id;e[i][n]=e[i][n].filter((function(e){return a&&e.eventStream.value&&e.eventStream.value!==a||e.id!==o})),0===e[i][n].length&&delete e[i][n]}catch(s){t.error(s)}}function G(){try{S(),c.refreshManifest()}catch(e){t.error(e)}}function V(e){try{var r=(0,s["default"])(_).create({});r.load({method:"get",url:e,request:{responseType:"arraybuffer"}})}catch(n){t.error(n)}}function H(e){try{if(!e)return;e.manifestUpdater&&(c=e.manifestUpdater),e.playbackController&&(f=e.playbackController),e.settings&&(d=e.settings)}catch(t){throw t}}function Y(){return r}function z(){return n}function K(){R(),A()}return e={addInlineEvents:x,addInbandEvents:M,getInbandEvents:z,getInlineEvents:Y,start:I,setConfig:H,reset:K},w(),e}u.__dashjs_factory_name="EventController";const l=n["default"].getSingletonFactory(u)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
  !*** ./src/streaming/controllers/FragmentController.js ***!
  \*********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../vo/DataChunk */"./src/streaming/vo/DataChunk.js"),a=r(/*! ../models/FragmentModel */"./src/streaming/models/FragmentModel.js"),o=r(/*! ../FragmentLoader */"./src/streaming/FragmentLoader.js"),s=r(/*! ../utils/RequestModifier */"./src/streaming/utils/RequestModifier.js"),u=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),l=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),c=r(/*! ../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),f=r(/*! ../../core/errors/Errors */"./src/core/errors/Errors.js"),d=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),h=r(/*! ../../core/Debug */"./src/core/Debug.js"),p=r(/*! ../utils/SegmentResponseModifier */"./src/streaming/utils/SegmentResponseModifier.js");function g(e){e=e||{};var t,r,d,g=this.context,m=(0,u["default"])(g).getInstance(),v=e.errHandler,y=e.mediaPlayerModel,b=e.dashMetrics,E=(0,h["default"])(g).getInstance(),_=(0,p["default"])(g).getInstance(),T=e.streamInfo;function w(){r=E.getLogger(t),R(),m.on(c["default"].FRAGMENT_LOADING_COMPLETED,D,t),m.on(c["default"].FRAGMENT_LOADING_PROGRESS,D,t)}function S(){return T.id}function A(t){var r=d[t];return r||(r=(0,a["default"])(g).create({streamInfo:T,type:t,dashMetrics:b,fragmentLoader:(0,o["default"])(g).create({dashMetrics:b,mediaPlayerModel:y,errHandler:v,requestModifier:(0,s["default"])(g).getInstance(),settings:e.settings,boxParser:e.boxParser,eventBus:m,events:l["default"],errors:f["default"],dashConstants:e.dashConstants,urlUtils:e.urlUtils,streamId:S()}),debug:E,eventBus:m,events:l["default"]}),d[t]=r),r}function R(){for(var e in d)d[e].reset();d={}}function I(){m.off(c["default"].FRAGMENT_LOADING_COMPLETED,D,this),m.off(c["default"].FRAGMENT_LOADING_PROGRESS,D,this),R()}function C(e,t,r,n){var a=new i["default"];return a.streamId=r,a.mediaInfo=t.mediaInfo,a.segmentType=t.type,a.start=t.startTime,a.duration=t.duration,a.end=a.start+a.duration,a.bytes=e,a.index=t.index,a.quality=t.quality,a.representationId=t.representationId,a.endFragment=n,a}function D(e){if(e.sender){var t=e.request,i=e.response,a=t.isInitializationRequest(),o=t.mediaInfo.streamInfo;if(e.error&&(t.mediaType===n["default"].AUDIO||t.mediaType===n["default"].VIDEO||t.mediaType===n["default"].TEXT&&t.mediaInfo.isFragmented)&&m.trigger(l["default"].SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation}),i&&o){var s=C(i,t,T.id,e.type!==l["default"].FRAGMENT_LOADING_PROGRESS);_.modifyResponseAsync(s).then((function(e){m.trigger(a?l["default"].INIT_FRAGMENT_LOADED:l["default"].MEDIA_FRAGMENT_LOADED,{chunk:e,request:t},{streamId:o.id,mediaType:t.mediaType})}))["catch"]((function(e){r.error(e),m.trigger(a?l["default"].INIT_FRAGMENT_LOADED:l["default"].MEDIA_FRAGMENT_LOADED,{chunk:s,request:t},{streamId:o.id,mediaType:t.mediaType})}))}else r.warn("No "+t.mediaType+" bytes to push or stream is inactive.")}}return t={getStreamId:S,getModel:A,reset:I},w(),t}g.__dashjs_factory_name="FragmentController";const m=d["default"].getClassFactory(g)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
  !*** ./src/streaming/controllers/GapController.js ***!
  \****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),o=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),s=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),u=100,l=10,c=.1;function f(){var e,t,r,n,f,d,h,p,g,m,v,y,b=this.context,E=(0,o["default"])(b).getInstance();function _(){R()}function T(){y=(0,i["default"])(b).getInstance().getLogger(e),w()}function w(){j(),I(),S()}function S(){f=null,d=NaN,n=0,m=null,v={}}function A(e){e&&(e.settings&&(r=e.settings),e.playbackController&&(h=e.playbackController),e.streamController&&(p=e.streamController),e.videoModel&&(g=e.videoModel))}function R(){E.on(a["default"].WALLCLOCK_TIME_UPDATED,M,this),E.on(a["default"].INITIAL_STREAM_SWITCH,x,this),E.on(a["default"].PLAYBACK_SEEKING,C,this),E.on(a["default"].BUFFER_REPLACEMENT_STARTED,D,e),E.on(a["default"].TRACK_CHANGE_RENDERED,N,e)}function I(){E.off(a["default"].WALLCLOCK_TIME_UPDATED,M,this),E.off(a["default"].INITIAL_STREAM_SWITCH,x,this),E.off(a["default"].PLAYBACK_SEEKING,C,this),E.off(a["default"].BUFFER_REPLACEMENT_STARTED,D,e),E.off(a["default"].TRACK_CHANGE_RENDERED,N,e)}function C(){m&&(clearTimeout(m),m=null)}function D(e){try{if(e.streamId!==p.getActiveStreamInfo().id||e.mediaType!==s["default"].VIDEO&&e.mediaType!==s["default"].AUDIO)return;e.streamId===p.getActiveStreamInfo().id&&(v[e.mediaType]=!0)}catch(e){y.error(e)}}function N(e){e&&e.mediaType&&(v[e.mediaType]=!1)}function x(){f||F()}function M(){if(O(r.get().streaming.gaps.enableSeekFix)&&(n++,n>=l)){var e=h.getTime();t===e?B(e,!0):(t=e,d=NaN),n=0}}function O(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!p.getActiveStream())return!1;var t=Object.keys(v).some((function(e){return v[e]})),n=!!e&&P();return!t&&r.get().streaming.gaps.jumpGaps&&p.getActiveStreamProcessors().length>0&&(!h.isSeeking()||n)&&!h.isPaused()&&!p.getIsStreamSwitchInProgress()&&!p.getHasMediaOrInitialisationError()}function P(){var e=p.getActiveStream(),t=parseFloat((e.getStartTime()+e.getDuration()).toFixed(5));return h.getTime()+r.get().streaming.gaps.threshold>=t}function L(e,t){try{if(!e||e.length<=1&&t>0)return NaN;var n=NaN,i=0;while(isNaN(n)&&i<e.length){var a=i>0?e.end(i-1):0;t<e.start(i)&&a-t<r.get().streaming.gaps.threshold&&(n=i),i+=1}return n}catch(o){return null}}function k(e,t){for(var r=0,n=e.length;r<n;r++)if(t>=e.start(r)&&t<=e.end(r))return!0;return!1}function F(){try{f||(y.debug("Starting the gap controller"),f=setInterval((function(){if(O()){var e=h.getTime();B(e)}}),u))}catch(e){}}function j(){y.debug("Stopping the gap controller"),f&&(clearInterval(f),f=null)}function B(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=r.get().streaming.gaps.enableStallFix,a=r.get().streaming.gaps.stallSeek,o=r.get().streaming.gaps.smallGapLimit,s=r.get().streaming.gaps.jumpLargeGaps,u=g.getBufferRange(),l=NaN,f=!1;if(t=L(u,e),!isNaN(t)){var v=u.start(t),b=v-e;b>0&&(b<=o||s)&&(l=v)}var E=h.getTimeToStreamEnd();if(isNaN(l)&&n&&isFinite(E)&&!isNaN(E)&&E<o&&(l=parseFloat(h.getStreamEndTime().toFixed(5)),f=!0),i&&isNaN(l)&&n&&isNaN(t)&&k(u,e)&&(0===a?(y.warn("Toggle play pause to break stall"),g.pause(),g.play()):(y.warn("Jumping ".concat(a,"s to break stall")),l=e+a)),l>0&&d!==l&&l>e&&!m){var _=l-e;if(f){var T=p.getStreamForTime(l),w=T&&!!T.getPreloaded();y.warn("Jumping to end of stream because of gap from ".concat(e," to ").concat(l,". Gap duration: ").concat(_)),h.seek(l,!0,w)}else{var S=h.getIsDynamic(),A=t>0?u.end(t-1):e,R=S?1e3*Math.max(0,_-c):0;m=window.setTimeout((function(){h.seek(l,!0,!0),y.warn("Jumping gap occuring in period ".concat(p.getActiveStream().getStreamId()," starting at ").concat(A," and ending at ").concat(l,". Jumping by: ").concat(l-A)),m=null}),R)}d=l}}return e={reset:w,setConfig:A,initialize:_},T(),e}f.__dashjs_factory_name="GapController";const d=n["default"].getSingletonFactory(f)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
  !*** ./src/streaming/controllers/MediaController.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),a=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),o=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),s=r(/*! ../../core/Debug */"./src/core/Debug.js"),u=r(/*! bcp-47-normalize */"./node_modules/bcp-47-normalize/index.js"),l=r.n(u),c=r(/*! bcp-47-match */"./node_modules/bcp-47-match/index.js");function f(){var e,t,r,o,u,f,d,h,p=this.context,g=(0,a["default"])(p).getInstance();function m(){t=(0,s["default"])(p).getInstance().getLogger(e),D()}function v(e,t){var r=f[e]||S(e),i=b(e,t.id),a=[];r||(r=h.getSavedMediaSettings(e),w(e,r)),i&&0!==i.length&&(r&&(a=Array.from(i),a=x(a,M,r),a=x(a,O,r),a=x(a,P,r),e===n["default"].AUDIO&&f[e]||(a=x(a,L,r)),a=x(a,k,r),a=x(a,F,r)),0===a.length?T(H(e,i),!0):a.length>1?T(H(e,a,!!f[e])):T(a[0]))}function y(e){if(e){var t=e.type;if(R(t)){var n=e.streamInfo.id;r[n]||(r[n]=X());for(var i=r[n][t].list,a=0,o=i.length;a<o;++a)if(I(i[a],e))return;i.push(e)}}}function b(e,t){return e&&r[t]&&r[t][e]?r[t][e].list:[]}function E(e,t){return e&&r[t]&&r[t][e]?r[t][e].current:null}function _(e){if(!e)return!1;var t=e.type,n=e.streamInfo.id;return r[n]&&r[n][t]&&I(r[n][t].current,e)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.streamInfo){var a=e.type,s=e.streamInfo,u=s.id,l=E(a,u);if(r[u]&&r[u][a]&&(r[u][a].current=e,r[u][a].current&&(a!==n["default"].TEXT&&!I(e,l)||a===n["default"].TEXT&&e.isFragmented)&&g.trigger(i["default"].CURRENT_TRACK_CHANGED,{oldMediaInfo:l,newMediaInfo:e,switchMode:o.get().streaming.trackSwitchMode[a]},{streamId:u}),!t)){var c=N(e);if(!c||!r[u][a].storeLastSettings)return;c.roles&&(c.role=c.roles[0],delete c.roles),c.accessibility&&(c.accessibility=c.accessibility[0]),c.audioChannelConfiguration&&(c.audioChannelConfiguration=c.audioChannelConfiguration[0]),f[a]=c,h.setSavedMediaSettings(a,c)}}}function w(e,t){e&&t&&(u[e]=t)}function S(e){return e?u[e]:null}function A(){h.setSavedMediaSettings(n["default"].TEXT,null)}function R(e){return e===n["default"].AUDIO||e===n["default"].VIDEO||e===n["default"].TEXT||e===n["default"].IMAGE}function I(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var r=e.id===t.id,n=e.viewpoint===t.viewpoint,i=e.lang===t.lang,a=e.codec===t.codec,o=e.roles.toString()===t.roles.toString(),s=e.accessibility.toString()===t.accessibility.toString(),u=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return r&&a&&n&&i&&o&&s&&u}function C(e){e&&(e.domStorage&&(h=e.domStorage),e.settings&&(o=e.settings),e.customParametersModel&&(d=e.customParametersModel))}function D(){r={},f={},B()}function N(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration},r=t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0;return r?t:null}function x(e,t,r){var n=[];return e.forEach((function(e){t(r,e)&&n.push(e)})),0!==n.length?n:e}function M(e,t){return!e.lang||e.lang instanceof RegExp?t.lang.match(e.lang):""!==t.lang&&(0,c.extendedFilter)(t.lang,l()(e.lang)).length>0}function O(e,t){return void 0===e.index||null===e.index||t.index===e.index}function P(e,t){return!e.viewpoint||e.viewpoint===t.viewpoint}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!e.role||!!t.roles.filter((function(t){return t===e.role}))[0];return i||t.type===n["default"].AUDIO&&r}function k(e,t){var r;return r=e.accessibility?!!t.accessibility.filter((function(t){return t===e.accessibility}))[0]:!t.accessibility.length,r}function F(e,t){var r=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter((function(t){return t===e.audioChannelConfiguration}))[0];return r}function j(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var i=!1;if(e.lang){if(e.lang instanceof RegExp)i=t.lang.match(e.lang);else if(""!==t.lang){var a=l()(e.lang);a&&(i=(0,c.extendedFilter)(t.lang,a).length>0)}}else i=!0;var o=void 0===e.index||null===e.index||t.index===e.index,s=!e.viewpoint||e.viewpoint===t.viewpoint,u=!e.role||!!t.roles.filter((function(t){return t===e.role}))[0],f=!e.accessibility||!!t.accessibility.filter((function(t){return t===e.accessibility}))[0],d=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter((function(t){return t===e.audioChannelConfiguration}))[0];return i&&o&&s&&(u||t.type===n["default"].AUDIO&&r)&&f&&d}catch(h){return!1}}function B(){u={audio:null,video:null,text:null}}function U(e){var t=0,r=[];return e.forEach((function(e){isNaN(e.selectionPriority)||(e.selectionPriority>t?(t=e.selectionPriority,r=[e]):e.selectionPriority===t&&r.push(e))})),r}function q(e){var t,r=0,n=[];return e.forEach((function(e){t=Math.max.apply(Math,e.bitrateList.map((function(e){return e.bandwidth}))),t>r?(r=t,n=[e]):t===r&&n.push(e)})),n}function G(e){var t,r=1/0,n=[];return e.forEach((function(e){var i=e.bitrateList.reduce((function(e,t){var r=Math.max(1,t.width*t.height),n=t.bandwidth/r;return e+n}),0);t=i/e.bitrateList.length,t<r?(r=t,n=[e]):t===r&&n.push(e)})),n}function V(e){var t,r=0,n=[];return e.forEach((function(e){t=e.representationCount,t>r?(r=t,n=[e]):t===r&&n.push(e)})),n}function H(e,r){if(e===n["default"].TEXT)return r[0];var i,a=o.get().streaming.selectionModeForInitialTrack,s=d.getCustomInitialTrackSelectionFunction();if(s&&"function"===typeof s)i=s(r);else switch(a){case n["default"].TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:i=Y(r);break;case n["default"].TRACK_SELECTION_MODE_HIGHEST_BITRATE:i=z(r);break;case n["default"].TRACK_SELECTION_MODE_FIRST_TRACK:i=K(r);break;case n["default"].TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:i=W(r);break;case n["default"].TRACK_SELECTION_MODE_WIDEST_RANGE:i=$(r);break;default:t.warn("Track selection mode ".concat(a," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),i=K(r);break}return i.length>0?i[0]:r[0]}function Y(e){var t=U(e);return t.length>1&&(t=q(t)),t.length>1&&(t=V(t)),t}function z(e){var t=q(e);return t.length>1&&(t=V(t)),t}function K(e){return e[0]}function W(e){var t=G(e);return t.length>1&&(t=q(t)),t}function $(e){var t=V(e);return t.length>1&&(t=q(e)),t}function X(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}}}return e={setInitialMediaSettingsForType:v,addTrack:y,getTracksFor:b,getCurrentTrackFor:E,isCurrentTrack:_,setTrack:T,selectInitialTrack:H,setInitialSettings:w,getInitialSettings:S,getTracksWithHighestBitrate:q,getTracksWithHighestEfficiency:G,getTracksWithWidestRange:V,isTracksEqual:I,matchSettings:j,matchSettingsLang:M,matchSettingsIndex:O,matchSettingsViewPoint:P,matchSettingsRole:L,matchSettingsAccessibility:k,matchSettingsAudioChannelConfig:F,saveTextSettingsDisabled:A,setConfig:C,reset:D},m(),e}f.__dashjs_factory_name="MediaController";var d=o["default"].getSingletonFactory(f);o["default"].updateSingletonFactory(f.__dashjs_factory_name,d);const h=d},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
  !*** ./src/streaming/controllers/MediaSourceController.js ***!
  \************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js");function a(){var e,t,r,n=this.context;function a(){r=(0,i["default"])(n).getInstance().getLogger(e)}function o(){var e="WebKitMediaSource"in window,r="MediaSource"in window;return r?t=new MediaSource:e&&(t=new WebKitMediaSource),t}function s(e){var r=window.URL.createObjectURL(t);return e.setSource(r),r}function u(e){e.setSource(null)}function l(e){t&&"open"===t.readyState&&(null===e&&isNaN(e)||t.duration!==e&&(d(t)?setTimeout(l.bind(null,e),50):(r.info("Set MediaSource duration:"+e),t.duration=e)))}function c(e,r){t&&"function"===typeof t.setLiveSeekableRange&&"function"===typeof t.clearLiveSeekableRange&&"open"===t.readyState&&e>=0&&e<r&&(t.clearLiveSeekableRange(),t.setLiveSeekableRange(e,r))}function f(e){if(e&&"open"===e.readyState){for(var t=e.sourceBuffers,n=0;n<t.length;n++){if(t[n].updating)return;if(0===t[n].buffered.length)return}r.info("call to mediaSource endOfStream"),e.endOfStream()}}function d(e){for(var t=e.sourceBuffers,r=0;r<t.length;r++)if(t[r].updating)return!0;return!1}return e={createMediaSource:o,attachMediaSource:s,detachMediaSource:u,setDuration:l,setSeekable:c,signalEndOfStream:f},a(),e}a.__dashjs_factory_name="MediaSourceController";const o=n["default"].getSingletonFactory(a)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
  !*** ./src/streaming/controllers/PlaybackController.js ***!
  \*********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),a=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),o=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),s=r(/*! ../../core/Debug */"./src/core/Debug.js"),u=r(/*! ../../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),l=r(/*! ../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),c=500;function f(){var e,t,r,o,f,d,h,p,g,m,v,y,b,E,_,T,w,S,A,R,I,C,D,N,x=this.context,M=(0,i["default"])(x).getInstance();function O(){t=(0,s["default"])(x).getInstance().getLogger(e),P()}function P(){q(),E=!1,m=0,v=0,T=0,C=!1,w=!0,S=!1,D=!1,A=NaN,h&&(M.off(a["default"].DATA_UPDATE_COMPLETED,he,e),M.off(a["default"].LOADING_PROGRESS,ke,e),M.off(a["default"].MANIFEST_UPDATED,qe,e),M.off(a["default"].STREAMS_COMPOSED,Ge,e),M.off(u["default"].PLAYBACK_ENDED,Ne,e),M.off(u["default"].STREAM_INITIALIZING,je,e),M.off(u["default"].REPRESENTATION_SWITCH,Be,e),M.off(u["default"].BUFFER_LEVEL_STATE_CHANGED,me,e),de(),Ye()),g=null,h=null,y=null,b=null}function L(e,t){y=e,!0!==t&&k()}function k(){He(),b=y.manifestInfo.isDynamic,I=!1,R=!1,M.on(a["default"].DATA_UPDATE_COMPLETED,he,e),M.on(a["default"].LOADING_PROGRESS,ke,e),M.on(a["default"].MANIFEST_UPDATED,qe,e),M.on(a["default"].STREAMS_COMPOSED,Ge,e),M.on(u["default"].PLAYBACK_ENDED,Ne,e,{priority:i["default"].EVENT_PRIORITY_HIGH}),M.on(u["default"].STREAM_INITIALIZING,je,e),M.on(u["default"].REPRESENTATION_SWITCH,Be,e),M.on(u["default"].BUFFER_LEVEL_STATE_CHANGED,me,e),E&&(E=!1,U())}function F(){return I}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return parseFloat((B(e)-K()).toFixed(5))}function B(e){var t=e||y;return t.start+t.duration}function U(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y&&h&&h.getElement()?(e&&b&&z(K()),h.play()):E=!0}function q(){y&&h&&h.pause()}function G(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(y&&h){var a=isNaN(A)?h.getTime():A;e!==a&&(R=!0===n,R||(A=e),t.info("Requesting seek to time: "+e+(R?" (internal)":"")),b&&i&&z(e),h.setCurrentTime(e,r))}}function V(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Y();if(0!==n){m=v;var i=n-m;G(i,e,t,r)}}function H(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Y();if(0!==n){var i=n-m;G(i,e,t,r)}}function Y(){if(y&&h&&b){var e=r&&r.hasVideoTrack()?n["default"].VIDEO:n["default"].AUDIO,t=f.getCurrentDVRInfo(e);return t&&t.range?t.range.end:0}}function z(e){var t=new Date(p.getClientReferenceTime()),r=d.getRegularPeriods()[0],n=p.calcPresentationTimeFromWallTime(t,r);m=n-e}function K(){return y&&h?h.getTime():null}function W(){return y&&h?h.isPaused():null}function $(){return y&&h?h.isSeeking():null}function X(){return y&&h?h.isStalled():null}function Q(){return y&&h?h.getPlaybackRate():null}function Z(){return y&&h?h.getPlayedRanges():null}function J(){return y&&h?h.getEnded():null}function ee(){return b}function te(){return r}function re(){return C}function ne(){return T}function ie(){return m}function ae(){return v}function oe(){if(!b||isNaN(T))return NaN;var e=K();if(isNaN(e)||0===e)return 0;var t=(new Date).getTime()+1e3*p.getClientTimeOffset();return Math.max(((t-T-1e3*e)/1e3).toFixed(3),0)}function se(e,t){var r,n,i,a=4,s=4,u=!isNaN(e)&&isFinite(e)?e:NaN,l=d.getSuggestedPresentationDelay(),c=o.getServiceDescriptionSettings();return r=isNaN(N.get().streaming.delay.liveDelay)?null===N.get().streaming.delay.liveDelayFragmentCount||isNaN(N.get().streaming.delay.liveDelayFragmentCount)||isNaN(u)?c&&!isNaN(c.liveDelay)&&c.liveDelay>0?c.liveDelay:!0===N.get().streaming.delay.useSuggestedPresentationDelay&&null!==l&&!isNaN(l)&&l>0?l:isNaN(u)?t&&!isNaN(t.minBufferTime)?t.minBufferTime*a:y.manifestInfo.minBufferTime*a:u*s:u*N.get().streaming.delay.liveDelayFragmentCount:N.get().streaming.delay.liveDelay,i=d.getAvailabilityStartTime(),null!==i&&(T=i),n=t&&t.dvrWindowSize>0?Math.min(r,t.dvrWindowSize):r,m=n,v=n,n}function ue(e){e&&(e.streamController&&(r=e.streamController),e.serviceDescriptionController&&(o=e.serviceDescriptionController),e.dashMetrics&&(f=e.dashMetrics),e.adapter&&(d=e.adapter),e.videoModel&&(h=e.videoModel),e.timelineConverter&&(p=e.timelineConverter),e.settings&&(N=e.settings))}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!W()&&b&&0!==h.getReadyState()&&!$()&&!C){e||(e=r.hasVideoTrack()?n["default"].VIDEO:n["default"].AUDIO);var i=K(),a=ce(i,e),o=!isNaN(a)&&a!==i;o&&!$()&&(X()||I||1===h.getReadyState())&&(t.debug("UpdateCurrentTime: Seek to actual time: ".concat(a," from currentTime: ").concat(i)),G(a,!1,!1))}}function ce(e,t){var r,n=f.getCurrentDVRInfo(t),i=n?n.range:null;return i?(r=e>i.end?Math.max(i.end-m,i.start):e>0&&e+.25<i.start&&Math.abs(e-i.start)<31536e4?S?Math.max(i.end-m,i.start):i.start:e,r):NaN}function fe(){null===g&&(g=setInterval((function(){Me()}),N.get().streaming.wallclockTimeUpdateInterval))}function de(){clearInterval(g),g=null}function he(e){var t=d.convertRepresentationToRepresentationInfo(e.currentRepresentation),r=t?t.mediaInfo.streamInfo:null;null!==r&&y.id===r.id&&(y=r)}function pe(){M.trigger(a["default"].CAN_PLAY)}function ge(){M.trigger(a["default"].CAN_PLAY_THROUGH)}function me(e){e.streamId===r.getActiveStreamInfo().id&&(I=e.state===l["default"].BUFFER_EMPTY,N.get().streaming.buffer.setStallState&&h.setStallState(e.mediaType,e.state===l["default"].BUFFER_EMPTY))}function ve(){t.info("Native video element event: play"),le(),fe(),M.trigger(a["default"].PLAYBACK_STARTED,{startTime:K()})}function ye(){t.info("Native video element event: waiting"),M.trigger(a["default"].PLAYBACK_WAITING,{playingTime:K()})}function be(){t.info("Native video element event: playing"),R=!1,M.trigger(a["default"].PLAYBACK_PLAYING,{playingTime:K()})}function Ee(){t.info("Native video element event: pause"),M.trigger(a["default"].PLAYBACK_PAUSED,{ended:J()})}function _e(){if(!R){var e=K();isNaN(A)||A===e||(e=A),A=NaN,t.info("Seeking to: "+e),fe(),M.trigger(a["default"].PLAYBACK_SEEKING,{seekTime:e,streamId:y.id})}}function Te(){t.info("Native video element event: seeked"),R=!1,M.trigger(a["default"].PLAYBACK_SEEKED)}function we(){y&&M.trigger(a["default"].PLAYBACK_TIME_UPDATED,{timeToEnd:j(),time:K(),streamId:y.id})}function Se(){M.trigger(a["default"].PLAYBACK_PROGRESS,{streamId:y.id})}function Ae(){var e=Q();t.info("Native video element event: ratechange: ",e),M.trigger(a["default"].PLAYBACK_RATE_CHANGED,{playbackRate:e})}function Re(){t.info("Native video element event: loadedmetadata"),M.trigger(a["default"].PLAYBACK_METADATA_LOADED),fe()}function Ie(){t.info("Native video element event: loadeddata"),M.trigger(a["default"].PLAYBACK_LOADED_DATA)}function Ce(){t.info("Native video element event: ended"),q(),de();var e=r?r.getActiveStreamInfo():null;e&&M.trigger(a["default"].PLAYBACK_ENDED,{isLast:e.isLast})}function De(){M.trigger(a["default"].PLAYBACK_VOLUME_CHANGED)}function Ne(e){if(g&&e.isLast){t.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var r=e.seekTime?e.seekTime:B();h.setCurrentTime(r),q(),de()}}function xe(e){var t=e.target||e.srcElement;M.trigger(a["default"].PLAYBACK_ERROR,{error:t.error})}function Me(){M.trigger(a["default"].WALLCLOCK_TIME_UPDATED,{isDynamic:b,time:new Date}),ee()&&(r.addDVRMetric(),W()?Oe():le())}function Oe(){var e=Date.now();(!_||e>_+c)&&(_=e,we())}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null;return r.getActiveStreamProcessors().forEach((function(r){if(!e||0===e.length||-1===e.indexOf(r.getType())){var n=r.getBufferLevel();t=null===t?n:Math.min(t,n)}})),t}function Le(){return S}function ke(e){if(!1===e.stream&&S&&!isNaN(e.request.duration)){var r=1.2*e.request.duration;r>m&&(t.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",r.toFixed(2)),m=r,v=r)}}function Fe(e){M.trigger(a["default"].PLAYBACK_STALLED,{e:e})}function je(e){Ve(e.mediaInfo)}function Be(e){var t=r.getActiveStreamInfo();e&&t&&e.currentRepresentation&&e.streamId&&e.streamId===t.id&&e.mediaType&&(e.mediaType===n["default"].VIDEO||e.mediaType===n["default"].AUDIO)&&(w=e.currentRepresentation.availabilityTimeComplete,S=!w,S&&!D&&(D=!0))}function Ue(){return D}function qe(){C=!0}function Ge(){C=!1}function Ve(e){e&&e.supplementalProperties&&"true"===e.supplementalProperties[n["default"].SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(t.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),S=!0)}function He(){h.addEventListener("canplay",pe),h.addEventListener("canplaythrough",ge),h.addEventListener("play",ve),h.addEventListener("waiting",ye),h.addEventListener("playing",be),h.addEventListener("pause",Ee),h.addEventListener("error",xe),h.addEventListener("seeking",_e),h.addEventListener("seeked",Te),h.addEventListener("timeupdate",we),h.addEventListener("progress",Se),h.addEventListener("ratechange",Ae),h.addEventListener("loadedmetadata",Re),h.addEventListener("loadeddata",Ie),h.addEventListener("stalled",Fe),h.addEventListener("ended",Ce),h.addEventListener("volumechange",De)}function Ye(){h.removeEventListener("canplay",pe),h.removeEventListener("canplaythrough",ge),h.removeEventListener("play",ve),h.removeEventListener("waiting",ye),h.removeEventListener("playing",be),h.removeEventListener("pause",Ee),h.removeEventListener("error",xe),h.removeEventListener("seeking",_e),h.removeEventListener("seeked",Te),h.removeEventListener("timeupdate",we),h.removeEventListener("progress",Se),h.removeEventListener("ratechange",Ae),h.removeEventListener("loadedmetadata",Re),h.removeEventListener("loadeddata",Ie),h.removeEventListener("stalled",Fe),h.removeEventListener("ended",Ce),h.removeEventListener("volumechange",De)}return e={initialize:L,setConfig:ue,getTimeToStreamEnd:j,getBufferLevel:Pe,getPlaybackStalled:F,getTime:K,getLowLatencyModeEnabled:Le,getInitialCatchupModeActivated:Ue,getIsManifestUpdateInProgress:re,getPlaybackRate:Q,getPlayedRanges:Z,getEnded:J,getIsDynamic:ee,getStreamController:te,computeAndSetLiveDelay:se,getLiveDelay:ie,getOriginalLiveDelay:ae,getCurrentLiveLatency:oe,play:U,isPaused:W,isStalled:X,pause:q,isSeeking:$,getStreamEndTime:B,seek:G,seekToOriginalLive:V,seekToCurrentLive:H,reset:P,updateCurrentTime:le,getAvailabilityStartTime:ne},O(),e}f.__dashjs_factory_name="PlaybackController";const d=o["default"].getSingletonFactory(f)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
  !*** ./src/streaming/controllers/ScheduleController.js ***!
  \*********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../models/FragmentModel */"./src/streaming/models/FragmentModel.js"),a=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),o=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),s=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),u=r(/*! ../../core/Debug */"./src/core/Debug.js"),l=r(/*! ../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),c=r(/*! ../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js");function f(e){e=e||{};var t,r,s,f,d,h,p,g,m,v,y,b,E,_=this.context,T=(0,a["default"])(_).getInstance(),w=e.dashMetrics,S=e.mediaPlayerModel,A=e.fragmentModel,R=e.abrController,I=e.playbackController,C=e.textController,D=e.type,N=e.bufferController,x=e.settings;function M(){s=(0,u["default"])(_).getInstance().getLogger(t),se(),r=e.streamInfo}function O(e){p=e,T.on(o["default"].BYTES_APPENDED_END_FRAGMENT,J,t),T.on(o["default"].URL_RESOLUTION_FAILED,ee,t),T.on(c["default"].PLAYBACK_STARTED,te,t),T.on(c["default"].PLAYBACK_RATE_CHANGED,re,t),T.on(c["default"].PLAYBACK_TIME_UPDATED,Q,t)}function P(){return D}function L(){return r.id}function k(e){f=e}function F(e){if(!N.getIsBufferingCompleted()){j();var t=isNaN(e)?0:e;h=setTimeout(U,t)}}function j(){h&&(clearTimeout(h),h=null)}function B(){var e=r.id,t=R.getMaxAllowedIndexFor(D,e);return!(!isNaN(m)&&m==t)&&(s.info("Top quality "+D+" index has changed from "+m+" to "+t),m=t,!0)}function U(){try{if(G())return void j();if(V()){var e=!1;E&&(e=R.checkPlaybackQuality(D,r.id)),e||q()}else F(I.getLowLatencyModeEnabled()?x.get().streaming.scheduling.lowLatencyTimeout:x.get().streaming.scheduling.defaultTimeout)}catch(t){F(I.getLowLatencyModeEnabled()?x.get().streaming.scheduling.lowLatencyTimeout:x.get().streaming.scheduling.defaultTimeout)}}function q(){b||f.quality!==v||y?(y?(s.debug("Switch track for "+D+", representation id = "+f.id),y=!1):s.debug("Quality has changed, get init request for representationid = "+f.id),T.trigger(o["default"].INIT_FRAGMENT_NEEDED,{representationId:f.id,sender:t},{streamId:r.id,mediaType:D}),E=!1,b=!1):(s.debug("Media segment needed for ".concat(D," and stream id ").concat(r.id)),T.trigger(o["default"].MEDIA_FRAGMENT_NEEDED,{},{streamId:r.id,mediaType:D}),E=!0)}function G(){try{return D===n["default"].TEXT&&!C.isTextEnabled()||I.isPaused()&&(!I.getStreamController().getInitialPlayback()||!I.getStreamController().getAutoPlay())&&!x.get().streaming.scheduling.scheduleWhilePaused}catch(e){return!1}}function V(){try{return f&&(isNaN(v)||y||B()||H())}catch(e){return!1}}function H(){if(!D||!f)return!0;var e=w.getCurrentBufferLevel(D);return e<Y()}function Y(){var e=NaN;return D&&f?(e=D===n["default"].TEXT?z():D===n["default"].AUDIO&&p?K():W(),e):e}function z(){try{if(C.isTextEnabled()){if(isNaN(f.fragmentDuration)){var e=w.getCurrentSchedulingInfo(l["default"].SCHEDULING_INFO);return e?e.duration:0}return f.fragmentDuration}return 0}catch(t){return 0}}function K(){try{var e=w.getCurrentBufferLevel(n["default"].VIDEO);return isNaN(f.fragmentDuration)?e+1:Math.max(e+1,f.fragmentDuration)}catch(t){return 0}}function W(){try{var e=f.mediaInfo.streamInfo;if(R.isPlayingAtTopQuality(e)){var t=e.manifestInfo.duration>=x.get().streaming.buffer.longFormContentDurationThreshold;return t?x.get().streaming.buffer.bufferTimeAtTopQualityLongForm:x.get().streaming.buffer.bufferTimeAtTopQuality}return S.getStableBufferTime()}catch(r){return S.getStableBufferTime()}}function $(e){y=e}function X(){return y}function Q(){Z(!0)}function Z(e){if(I&&A){var t=A.getRequests({state:i["default"].FRAGMENT_MODEL_EXECUTED,time:I.getTime(),threshold:0})[0];t&&I.getTime()>=t.startTime&&((!g.mediaInfo||t.mediaInfo.type===g.mediaInfo.type&&t.mediaInfo.id!==g.mediaInfo.id)&&e&&T.trigger(o["default"].TRACK_CHANGE_RENDERED,{mediaType:D,oldMediaInfo:g.mediaInfo,newMediaInfo:t.mediaInfo,streamId:r.id}),t.quality===g.quality&&t.adaptationIndex===g.adaptationIndex||!e||(s.debug("Quality change rendered for streamId ".concat(r.id," and type ").concat(D)),T.trigger(o["default"].QUALITY_CHANGE_RENDERED,{mediaType:D,oldQuality:g.quality,newQuality:t.quality,streamId:r.id})),g={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}}function J(e){s.debug("Appended bytes for ".concat(e.mediaType," and stream id ").concat(r.id)),(isNaN(e.index)||isNaN(v))&&(v=e.quality,s.info("["+D+"] lastInitializedRepresentationInfo changed to "+e.quality)),F(0)}function ee(){A.abortRequests(),j()}function te(){x.get().streaming.scheduling.scheduleWhilePaused||F()}function re(e){w.updatePlayListTraceMetrics({playbackspeed:e.playbackRate.toString()})}function ne(e){d=e}function ie(){return d}function ae(e){E=e}function oe(e){b=e}function se(){E=!0,d=0,v=NaN,g={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},m=NaN,y=!1,b=!1}function ue(){T.off(o["default"].BYTES_APPENDED_END_FRAGMENT,J,t),T.off(o["default"].URL_RESOLUTION_FAILED,ee,t),T.off(c["default"].PLAYBACK_STARTED,te,t),T.off(c["default"].PLAYBACK_RATE_CHANGED,re,t),T.off(c["default"].PLAYBACK_TIME_UPDATED,Q,t),j(),Z(!1),se(),r=null}function le(){return I}return t={initialize:O,getType:P,getStreamId:L,setCurrentRepresentation:k,setTimeToLoadDelay:ne,getTimeToLoadDelay:ie,setSwitchTrack:$,getSwitchStrack:X,startScheduleTimer:F,clearScheduleTimer:j,reset:ue,getBufferTarget:Y,getPlaybackController:le,setCheckPlaybackQuality:ae,setInitSegmentRequired:oe},M(),t}f.__dashjs_factory_name="ScheduleController";const d=s["default"].getClassFactory(f)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
  !*** ./src/streaming/controllers/StreamController.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),a=r(/*! ../Stream */"./src/streaming/Stream.js"),o=r(/*! ../ManifestUpdater */"./src/streaming/ManifestUpdater.js"),s=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),u=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),l=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),c=r(/*! ../vo/metrics/PlayList */"./src/streaming/vo/metrics/PlayList.js"),f=r(/*! ../../core/Debug */"./src/core/Debug.js"),d=r(/*! ../utils/InitCache */"./src/streaming/utils/InitCache.js"),h=r(/*! ../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),p=r(/*! ./TimeSyncController */"./src/streaming/controllers/TimeSyncController.js"),g=r(/*! ./MediaSourceController */"./src/streaming/controllers/MediaSourceController.js"),m=r(/*! ../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),v=r(/*! ../../core/errors/Errors */"./src/core/errors/Errors.js"),y=r(/*! ./EventController */"./src/streaming/controllers/EventController.js"),b=r(/*! ../constants/ConformanceViolationConstants */"./src/streaming/constants/ConformanceViolationConstants.js");function E(e){return S(e)||w(e)||T(e)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){if(e){if("string"===typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function w(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function S(e){if(Array.isArray(e))return A(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=200,I=2;function C(){var e,t,r,l,_,T,w,S,A,C,D,N,x,M,O,P,L,k,F,j,B,U,q,G,V,H,Y,z,K,W,$,X,Q,Z,J,ee,te,re,ne,ie,ae,oe,se,ue,le,ce,fe,de,he=this.context,pe=(0,s["default"])(he).getInstance();function ge(){t=(0,f["default"])(he).getInstance().getLogger(e),D=(0,p["default"])(he).getInstance(),C=(0,g["default"])(he).getInstance(),F=(0,d["default"])(he).getInstance(),It()}function me(e,t){be(),Y=e,H=t,B.initialize(),_=(0,o["default"])(he).create(),_.setConfig({manifestModel:w,adapter:S,manifestLoader:T,errHandler:j,settings:ue}),_.initialize(),k=(0,y["default"])(he).getInstance(),k.setConfig({manifestUpdater:_,playbackController:Q,settings:ue}),k.start(),D.setConfig({dashMetrics:A,baseURLController:x,errHandler:j,settings:ue}),D.initialize(),G&&(pe.trigger(u["default"].PROTECTION_CREATED,{controller:G}),G.setMediaElement(X.getElement()),H&&G.setProtectionData(H)),ve()}function ve(){pe.on(h["default"].PLAYBACK_TIME_UPDATED,He,e),pe.on(h["default"].PLAYBACK_SEEKING,xe,e),pe.on(h["default"].PLAYBACK_ERROR,yt,e),pe.on(h["default"].PLAYBACK_STARTED,Ye,e),pe.on(h["default"].PLAYBACK_PAUSED,ze,e),pe.on(h["default"].PLAYBACK_ENDED,Je,e),pe.on(h["default"].METRIC_ADDED,Dt,e),pe.on(h["default"].MANIFEST_VALIDITY_CHANGED,St,e),pe.on(h["default"].BUFFER_LEVEL_UPDATED,qe,e),pe.on(h["default"].QUALITY_CHANGE_REQUESTED,Ge,e),u["default"].KEY_SESSION_UPDATED&&pe.on(u["default"].KEY_SESSION_UPDATED,Se,e),pe.on(u["default"].MANIFEST_UPDATED,dt,e),pe.on(u["default"].STREAM_BUFFERING_COMPLETED,Ke,e),pe.on(u["default"].TIME_SYNCHRONIZATION_COMPLETED,we,e),pe.on(u["default"].CURRENT_TRACK_CHANGED,ke,e),pe.on(u["default"].SETTING_UPDATED_LIVE_DELAY,Ve,e),pe.on(u["default"].SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ve,e)}function ye(){pe.off(h["default"].PLAYBACK_TIME_UPDATED,He,e),pe.off(h["default"].PLAYBACK_SEEKING,xe,e),pe.off(h["default"].PLAYBACK_ERROR,yt,e),pe.off(h["default"].PLAYBACK_STARTED,Ye,e),pe.off(h["default"].PLAYBACK_PAUSED,ze,e),pe.off(h["default"].PLAYBACK_ENDED,Je,e),pe.off(h["default"].METRIC_ADDED,Dt,e),pe.off(h["default"].MANIFEST_VALIDITY_CHANGED,St,e),pe.off(h["default"].BUFFER_LEVEL_UPDATED,qe,e),pe.off(h["default"].QUALITY_CHANGE_REQUESTED,Ge,e),u["default"].KEY_SESSION_UPDATED&&pe.off(u["default"].KEY_SESSION_UPDATED,Se,e),pe.off(u["default"].MANIFEST_UPDATED,dt,e),pe.off(u["default"].STREAM_BUFFERING_COMPLETED,Ke,e),pe.off(u["default"].TIME_SYNCHRONIZATION_COMPLETED,we,e),pe.off(u["default"].CURRENT_TRACK_CHANGED,ke,e),pe.off(u["default"].SETTING_UPDATED_LIVE_DELAY,Ve,e),pe.off(u["default"].SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ve,e)}function be(){if(!T||!T.hasOwnProperty("load")||!B||!B.hasOwnProperty("initialize")||!B.hasOwnProperty("reset")||!B.hasOwnProperty("getClientTimeOffset")||!w||!j||!A||!Q)throw new Error(n["default"].MISSING_CONFIG_ERROR)}function Ee(){if(!_||!_.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;be(),fe=t,T.load(e)}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Ee(),fe=t,_.setManifest(e)}function we(){Ae()}function Se(){le=!0}function Ae(){try{var e=S.getStreamsInfo();if(!q&&0===e.length)throw new Error("There are no periods in the MPD");q&&e.length>0&&A.updateManifestUpdateInfo({currentTime:Q.getTime(),buffered:X.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:B.getClientTimeOffset()}),U.length>0&&ct(e);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(Re(i)),A.addManifestUpdateStreamInfo(i)}Promise.all(t).then((function(){return ue.get().streaming.applyContentSteering&&!q&&N.shouldQueryBeforeStart()?N.loadSteeringData():Promise.resolve()})).then((function(){q||Ie(e),pe.trigger(u["default"].STREAMS_COMPOSED),We()}))["catch"]((function(e){throw e}))}catch(a){j.error(new m["default"](v["default"].MANIFEST_ERROR_ID_NOSTREAMS_CODE,a.message+" nostreamscomposed",w.getValue())),W=!0,Ct()}}function Re(e){var t=wt(e.id);return t?t.updateData(e):(t=(0,a["default"])(he).create({manifestModel:w,mediaPlayerModel:J,dashMetrics:A,manifestUpdater:_,adapter:S,timelineConverter:B,capabilities:r,capabilitiesFilter:l,errHandler:j,baseURLController:x,segmentBaseController:M,textController:V,abrController:P,playbackController:Q,eventController:k,mediaController:L,protectionController:G,videoModel:X,streamInfo:e,settings:ue}),U.push(t),t.initialize(),Promise.resolve())}function Ie(e){Ue();var r=A.getCurrentDVRInfo().range;if(r.end<r.start){ce&&clearTimeout(ce);var n=Math.min(1e3*(-1*(r.end-r.start)+I),2147483647);return t.debug("Waiting for ".concat(n," ms before playback can start")),pe.trigger(u["default"].AST_IN_FUTURE,{delay:n}),void(ce=setTimeout((function(){Ie(e)}),n))}ue.get().streaming.applyProducerReferenceTime&&Z.calculateProducerReferenceTimeOffsets(e);var i=e[0].manifestInfo;if(ue.get().streaming.applyServiceDescription&&Z.applyServiceDescription(i),S.getIsDynamic()){var a=ft(e,i);Q.computeAndSetLiveDelay(a,i)}var o=ot(),s=Be(o),l=null!==s?s:U[0];pe.trigger(u["default"].INITIAL_STREAM_SWITCH,{startTime:o}),Ce(l,null,o),$e()}function Ce(e,r,n){try{if(z||!e||r===e&&e.getIsActive())return;z=!0,pe.trigger(u["default"].PERIOD_SWITCH_STARTED,{fromStreamInfo:r?r.getStreamInfo():null,toStreamInfo:e.getStreamInfo()});var i=!1;q=e,r&&(i=Fe(e,r),r.deactivate(i)),n=isNaN(n)?!i&&r?e.getStreamInfo().start:NaN:n,t.info("Switch to stream ".concat(e.getId(),". Seektime is ").concat(n,", current playback time is ").concat(Q.getTime(),". Seamless period switch is set to ").concat(i)),oe=oe.filter((function(e){return e.getId()!==q.getId()})),Q.initialize(Et(),!!r),X.getElement()?De(n,i,!1):Ne(n,i)}catch(a){z=!1}}function De(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function a(){if($&&"open"===$.readyState){t.debug("MediaSource is open!"),window.URL.revokeObjectURL(n),$.removeEventListener("sourceopen",a),$.removeEventListener("webkitsourceopen",a),rt();var o=A.getCurrentDVRInfo();C.setSeekable(o.range.start,o.range.end),i?q.setMediaSource($).then((function(){q.initializeForTextWithMediaSource($)})):Ne(e,r)}}function o(){$.addEventListener("sourceopen",a,!1),$.addEventListener("webkitsourceopen",a,!1),n=C.attachMediaSource(X),t.debug("MediaSource attached to element.  Waiting on open...")}$?r?Ne(e,r):(C.detachMediaSource(X),o()):($=C.createMediaSource(),o())}function Ne(e,t){q.activate($,t?ae:void 0,e).then((function(t){if(t){var r=Object.keys(t);r.length>0&&t[r[0]].getBuffer().changeType&&(se=!0),ae=t}isNaN(e)||(pe.trigger(u["default"].SEEK_TARGET,{time:e},{streamId:q.getId()}),Q.seek(e,!1,!0),q.startScheduleControllers()),z=!1,pe.trigger(u["default"].PERIOD_SWITCH_COMPLETED,{toStreamInfo:Et()})}))}function xe(e){var t=e.seekTime,r=Be(t);r&&r!==q?r&&r!==q&&(Me(r),Le(e,r)):(Me(),Pe(e)),vt(c.PlayList.SEEK_START_REASON)}function Me(){Oe()}function Oe(){oe&&oe.length>0&&(oe.forEach((function(e){e.deactivate(!0)})),oe=[])}function Pe(e){var t=q.getProcessors();t.forEach((function(t){return t.prepareInnerPeriodPlaybackSeeking(e)})),mt(c.PlayListTrace.USER_REQUEST_STOP_REASON)}function Le(e,t){var r=e&&!isNaN(e.seekTime)?e.seekTime:NaN,n=q.getProcessors(),i=n.map((function(t){return t.prepareOuterPeriodPlaybackSeeking(e)}));Promise.all(i).then((function(){Ce(t,q,r)}))["catch"]((function(e){j.error(e)}))}function ke(e){e.newMediaInfo.streamInfo.id===q.getId()&&(Oe(),q.prepareTrackChange(e))}function Fe(e,t){try{return ue.get().streaming.buffer.reuseExistingSourceBuffers&&(t.isProtectionCompatible(e)||le)&&(se||t.isMediaCodecCompatible(e,t))}catch(r){return!1}}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if($&&!e.getPreloaded()){var r=Fe(e,t);r&&e.startPreloading($,ae).then((function(){oe.push(e)}))}}function Be(e){if(isNaN(e))return null;for(var t=U.length,r=0;r<t;r++){var n=U[r],i=parseFloat((n.getStartTime()+n.getDuration()).toFixed(5));if(e<i)return n}return null}function Ue(){try{var e=S.getIsDynamic(),t=S.getStreamsInfo(),r=t[0].manifestInfo,i=Q.getTime(),a=B.calcTimeShiftBufferWindow(U,e),o=Ze();if("undefined"===typeof a.start||"undefined"===typeof a.end)return;o&&0!==o.length?o.forEach((function(e){A.addDVRInfo(e.getType(),i,r,a)})):A.addDVRInfo(n["default"].VIDEO,i,r,a)}catch(s){}}function qe(e){if(re&&Y){var t=J.getInitialBufferLevel(),r=[n["default"].TEXT];(isNaN(t)||t<=Q.getBufferLevel(r)||S.getIsDynamic()&&t>Q.getLiveDelay())&&(re=!1,vt(c.PlayList.INITIAL_PLAYOUT_START_REASON),Q.play())}e&&e.mediaType&&A.addBufferLevel(e.mediaType,new Date,1e3*e.bufferLevel)}function Ge(e){e.streamInfo.id===q.getId()&&e.reason&&e.reason.forceReplace&&Oe();var t=wt(e.streamInfo.id);t.prepareQualityChange(e)}function Ve(){if(S.getIsDynamic()&&0!==Q.getOriginalLiveDelay()&&q){var e=S.getStreamsInfo();if(e.length>0){var t=e[0].manifestInfo,r=ft(e,t);Q.computeAndSetLiveDelay(r,t)}}}function He(){if(ht()){var e=X.getPlaybackQuality();e&&A.addDroppedFrames(e)}}function Ye(){t.debug("[onPlaybackStarted]"),!re&&te&&vt(c.PlayList.RESUME_FROM_PAUSE_START_REASON),re&&(re=!1),ne&&(ne=!1,ue.get().streaming.applyContentSteering&&!N.shouldQueryBeforeStart()&&N.loadSteeringData()),te=!1}function ze(e){t.debug("[onPlaybackPaused]"),e.ended||(te=!0,mt(c.PlayListTrace.USER_REQUEST_STOP_REASON))}function Ke(e){t.debug("Stream with id ".concat(e.streamInfo.id," finished buffering"));var r=e.streamInfo.isLast;$&&r?(t.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),C.signalEndOfStream($)):We()}function We(){if(q&&q.getHasFinishedBuffering()){var e=tt(q),t=0;while(t<e.length){var r=e[t],n=0===t?q:e[t-1];!r.getPreloaded()&&n.getHasFinishedBuffering()&&$&&je(r,n),t+=1}}}function $e(){ie||(ie=setInterval((function(){!z&&Q.getTimeToStreamEnd()<=0&&!Q.isSeeking()&&pe.trigger(u["default"].PLAYBACK_ENDED,{isLast:Et().isLast})}),R))}function Xe(){ie&&(clearInterval(ie),ie=null)}function Qe(e,t){for(var r=null,n=0,i=0,a=null,o=0;o<U.length;o++){if(r=U[o],i=r.getStartTime(),a=r.getDuration(),Number.isFinite(i)&&(n=i),r.getId()===t)return e-n;Number.isFinite(a)&&(n+=a)}return null}function Ze(){return q?q.getProcessors():[]}function Je(e){if(q&&!q.getIsEndedEventSignaled()){q.setIsEndedEventSignaled(!0);var r=et();r?(t.debug("StreamController onEnded, found next stream with id ".concat(r.getStreamInfo().id,". Switching from ").concat(q.getStreamInfo().id," to ").concat(r.getStreamInfo().id)),Ce(r,q,NaN)):(t.debug("StreamController no next stream found"),q.setIsEndedEventSignaled(!1)),mt(r?c.PlayListTrace.END_OF_PERIOD_STOP_REASON:c.PlayListTrace.END_OF_CONTENT_STOP_REASON)}e&&e.isLast&&(Xe(),N.stopSteeringRequestTimer())}function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||(q||null);if(!t)return null;var r=t.getStreamInfo(),n=r.start,i=0,a=-1,o=NaN;while(i<U.length){var s=U[i],u=s.getStreamInfo(),l=u.start-n;l>0&&(isNaN(o)||l<o)&&r.id!==u.id&&(o=l,a=i),i+=1}return a>=0?U[a]:null}function tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t=e||(q||null);if(t){var r=t.getStreamInfo();return U.filter((function(e){var t=e.getStreamInfo();return t.start>r.start&&r.id!==t.id}))}}catch(n){return[]}}function rt(e){var t=e||Et().manifestInfo.duration;C.setDuration(t)}function nt(){return q}function it(){return re}function at(){return Y}function ot(){var e,r=S.getIsDynamic();if(r){var n=A.getCurrentDVRInfo(),i=n&&n.range?n.range.end:0;e=i-Q.getOriginalLiveDelay();var a=n?n.range:null;if(a){if(isNaN(fe)&&-1===fe.toString().indexOf("posix:")){var o=st(!0);isNaN(o)||(t.info("Start time from URI parameters: ".concat(o)),e=Math.min(e,o))}else{t.info("Start time provided by the app: ".concat(fe));var s=ut(!0,fe);isNaN(s)||(e=Math.min(e,s))}var u=ue.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;e=Math.max(e,a.start+u)}}else{var l=Nt(),c=l[0].getStreamInfo();if(e=c.start,isNaN(fe)){var f=st(!1);isNaN(f)||(t.info("Start time from URI parameters: ".concat(f)),e=Math.max(e,f))}else{t.info("Start time provided by the app: ".concat(fe));var d=ut(!1,fe);isNaN(d)||(e=Math.max(e,d))}}return e}function st(e){var t=O.getURIFragmentData();if(!t||!t.t)return NaN;var r=Nt()[0],n=r.getStreamInfo().start;return t.t=t.t.split(",")[0],lt(e,t.t,n)}function ut(e,t){var r=0;if(!e){var n=Nt()[0];r=n.getStreamInfo().start}return lt(e,t,r)}function lt(e,t,r){var n=S.getRegularPeriods()[0],i=t.toString(),a=-1!==i.indexOf("posix:")?"now"===i.substring(6)?Date.now()/1e3:parseFloat(i.substring(6)):NaN,o=e&&!isNaN(a)?B.calcPresentationTimeFromWallTime(new Date(1e3*a),n):parseFloat(i)+r;return o}function ct(e){0!==e.length?U=U.filter((function(r){var n=e.filter((function(e){return e.id===r.getId()})).length>0,i=n||r.getId()===q.getId();return i||(t.debug("Removing stream ".concat(r.getId())),r.reset(!0)),i})):t.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}function ft(e,t){try{var r=NaN;if(t&&!isNaN(t.maxFragmentDuration)&&isFinite(t.maxFragmentDuration))return t.maxFragmentDuration;if(e&&1===e.length){var i=e[0],a=[n["default"].VIDEO,n["default"].AUDIO,n["default"].TEXT],o=a.reduce((function(e,t){var r=S.getMediaInfoForType(i,t);return r&&!1!==r.isFragmented&&e.push(r),e}),[]).reduce((function(e,t){var r=S.getVoRepresentations(t);return r&&r.length>0&&r.forEach((function(t){t&&e.push(t)})),e}),[]).reduce((function(e,t){var r=S.convertRepresentationToRepresentationInfo(t);return r&&r.fragmentDuration&&!isNaN(r.fragmentDuration)&&e.push(r.fragmentDuration),e}),[]);r=Math.max.apply(Math,E(o))}return isFinite(r)?r:NaN}catch(s){return NaN}}function dt(e){if(e.error)W=!0,Ct();else{t.info("Manifest updated... updating data system wide.");var r=e.manifest;S.updatePeriods(r);var n=S.getUTCTimingSources();!S.getIsDynamic()||n&&0!==n.length||pe.trigger(h["default"].CONFORMANCE_VIOLATION,{level:b["default"].LEVELS.WARNING,event:b["default"].EVENTS.NO_UTC_TIMING_ELEMENT});var i=S.getIsDynamic()?n.concat(ee.getUTCTimingSources()):n;l.filterUnsupportedFeatures(r).then((function(){x.initialize(r),D.attemptSync(i,S.getIsDynamic())}))}}function ht(){return!!q&&q.getHasVideoTrack()}function pt(){return!!q&&q.getHasAudioTrack()}function gt(e){q&&(Q.initialize(Et()),De(e,!1,!0))}function mt(e,t){t=t||new Date,Ze().forEach((function(r){r.finalisePlayList(t,e)})),A.addPlayList()}function vt(e){A.createPlaylistMetrics(1e3*Q.getTime(),e)}function yt(e){if(e.error){var r="";switch(e.error.code){case 1:r="MEDIA_ERR_ABORTED";break;case 2:r="MEDIA_ERR_NETWORK";break;case 3:r="MEDIA_ERR_DECODE",de.counts.mediaErrorDecode+=1;break;case 4:r="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:r="MEDIA_ERR_ENCRYPTED";break;default:r="UNKNOWN";break}"MEDIA_ERR_DECODE"===r&&ue.get().errors.recoverAttempts.mediaErrorDecode>=de.counts.mediaErrorDecode?bt():(K=!0,e.error.message&&(r+=" ("+e.error.message+")"),e.error.msExtendedCode&&(r+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),t.fatal("Video Element Error: "+r),e.error&&t.fatal(e.error),j.error(new m["default"](e.error.code,r)),Ct())}}function bt(){t.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var e=Q.getTime();q.deactivate(!1),t.warn("MediaSource has been resetted. Resuming playback from time ".concat(e)),De(e,!1,!1)}function Et(){return q?q.getStreamInfo():null}function _t(){return z}function Tt(){return K||W}function wt(e){for(var t=0,r=U.length;t<r;t++)if(U[t].getId()===e)return U[t];return null}function St(e){isNaN(e.newDuration)||rt(e.newDuration)}function At(e){e&&(e.capabilities&&(r=e.capabilities),e.capabilitiesFilter&&(l=e.capabilitiesFilter),e.manifestLoader&&(T=e.manifestLoader),e.manifestModel&&(w=e.manifestModel),e.mediaPlayerModel&&(J=e.mediaPlayerModel),e.customParametersModel&&(ee=e.customParametersModel),e.protectionController&&(G=e.protectionController),e.adapter&&(S=e.adapter),e.dashMetrics&&(A=e.dashMetrics),e.errHandler&&(j=e.errHandler),e.timelineConverter&&(B=e.timelineConverter),e.videoModel&&(X=e.videoModel),e.playbackController&&(Q=e.playbackController),e.serviceDescriptionController&&(Z=e.serviceDescriptionController),e.contentSteeringController&&(N=e.contentSteeringController),e.textController&&(V=e.textController),e.abrController&&(P=e.abrController),e.mediaController&&(L=e.mediaController),e.settings&&(ue=e.settings),e.baseURLController&&(x=e.baseURLController),e.uriFragmentModel&&(O=e.uriFragmentModel),e.segmentBaseController&&(M=e.segmentBaseController))}function Rt(e){H=e,G&&G.setProtectionData(H)}function It(){U=[],fe=NaN,G=null,z=!1,q=null,K=!1,W=!1,re=!0,ne=!0,te=!1,Y=!0,ie=null,le=!1,se=!1,oe=[],ce=null,de={counts:{mediaErrorDecode:0}}}function Ct(){be(),D.reset(),mt(K||W?c.PlayListTrace.FAILURE_STOP_REASON:c.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=U?U.length:0;e<t;e++){var r=U[e];r.reset(K)}ye(),x.reset(),_.reset(),k.reset(),A.clearAllCurrentMetrics(),w.setValue(null),T.reset(),B.reset(),F.reset(),$&&(C.detachMediaSource(X),$=null),X=null,G&&(G=null,H=null,w.getValue()&&pe.trigger(u["default"].PROTECTION_DESTROYED,{data:w.getValue().url})),Xe(),pe.trigger(u["default"].STREAM_TEARDOWN_COMPLETE),It()}function Dt(e){if(e.metric===i["default"].DVR_INFO){var t=pt()?n["default"].AUDIO:n["default"].VIDEO;e.mediaType===t&&C.setSeekable(e.value.range.start,e.value.range.end)}}function Nt(){return U}return e={initialize:me,getActiveStreamInfo:Et,addDVRMetric:Ue,hasVideoTrack:ht,hasAudioTrack:pt,getStreamById:wt,getStreamForTime:Be,getTimeRelativeToStreamId:Qe,load:_e,loadWithManifest:Te,getActiveStreamProcessors:Ze,setConfig:At,setProtectionData:Rt,getIsStreamSwitchInProgress:_t,switchToVideoElement:gt,getHasMediaOrInitialisationError:Tt,getStreams:Nt,getActiveStream:nt,getInitialPlayback:it,getAutoPlay:at,reset:Ct},ge(),e}C.__dashjs_factory_name="StreamController";const D=l["default"].getSingletonFactory(C)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
  !*** ./src/streaming/controllers/TimeSyncController.js ***!
  \*********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(/*! ./../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),i=r(/*! ../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),a=r(/*! ./../../core/EventBus */"./src/core/EventBus.js"),o=r(/*! ./../../core/events/Events */"./src/core/events/Events.js"),s=r(/*! ./../../core/errors/Errors */"./src/core/errors/Errors.js"),u=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),l=r(/*! ../../core/Debug */"./src/core/Debug.js"),c=r(/*! ../utils/URLUtils */"./src/streaming/utils/URLUtils.js"),f=5e3,d=100,h=2,p=2,g=30,m=30,v=600,y=2;function b(){var e,t,r,u,b,E,_,T,w,S,A,R,I,C,D,N,x=this.context,M=(0,a["default"])(x).getInstance(),O=(0,c["default"])(x).getInstance();function P(){t=(0,l["default"])(x).getInstance().getLogger(e),M.on(o["default"].ATTEMPT_BACKGROUND_SYNC,B,e)}function L(e){e&&(e.dashMetrics&&(_=e.dashMetrics),e.baseURLController&&(N=e.baseURLController),e.errHandler&&(D=e.errHandler),e.settings&&(b=e.settings))}function k(){T=[],w=[],S=null,A=null,I=null,R=NaN,r=!1,u=!1,C=b.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function F(){k(),E={"urn:mpeg:dash:utc:http-head:2014":Z,"urn:mpeg:dash:utc:http-xsdate:2014":Q.bind(null,z),"urn:mpeg:dash:utc:http-iso:2014":Q.bind(null,K),"urn:mpeg:dash:utc:direct:2014":X,"urn:mpeg:dash:utc:http-head:2012":Z,"urn:mpeg:dash:utc:http-xsdate:2012":Q.bind(null,z),"urn:mpeg:dash:utc:http-iso:2012":Q.bind(null,K),"urn:mpeg:dash:utc:direct:2012":X,"urn:mpeg:dash:utc:http-ntp:2014":$,"urn:mpeg:dash:utc:ntp:2014":$,"urn:mpeg:dash:utc:sntp:2014":$}}function j(e,t){w=e,r||(V(t)?(r=!0,q()):M.trigger(o["default"].TIME_SYNCHRONIZATION_COMPLETED))}function B(){if(b.get().streaming.utcSynchronization.enabled&&!r&&!u&&I&&I.value&&I.schemeIdUri&&!isNaN(R)&&!isNaN(b.get().streaming.utcSynchronization.backgroundAttempts)&&!(A&&(Date.now()-A)/1e3<m)){T=[],u=!0;var e=isNaN(b.get().streaming.utcSynchronization.backgroundAttempts)?p:b.get().streaming.utcSynchronization.backgroundAttempts;U(e)}}function U(e){try{if(e<=0)return void re();var t=Date.now();E[I.schemeIdUri](I.value,(function(r){var n=Date.now(),i=G(t,n,r);T.push(i),U(e-1)}),(function(){re()}))}catch(r){re()}}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||0;if(!w||0===w.length||t>=w.length)H();else{var r=w[t];if(r)if(E.hasOwnProperty(r.schemeIdUri)){var n=(new Date).getTime();E[r.schemeIdUri](r.value,(function(e){var t=(new Date).getTime(),i=G(n,t,e);I=r,H(i)}),(function(){q(t+1)}))}else q(t+1);else H()}}function G(e,t,r){var n=t-(t-e)/2;return r-n}function V(e){try{if(!e||!b.get().streaming.utcSynchronization.enabled)return!1;var t=isNaN(C)?g:C;return!(S&&t&&!isNaN(t))||(Date.now()-S)/1e3>=t}catch(r){return!0}}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,t=isNaN(e);t&&b.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?J():ee(t,e)}function Y(e){var t,r,n=60,i=60,a=1e3,o=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,s=o.exec(e);return t=Date.UTC(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10),s[6]&&(parseInt(s[6],10)||0),s[7]&&parseFloat(s[7])*a||0),s[9]&&s[10]&&(r=parseInt(s[9],10)*i+parseInt(s[10],10),t+=("+"===s[8]?-1:1)*r*n*a),new Date(t).getTime()}function z(e){var t=Date.parse(e);return isNaN(t)&&(t=Y(e)),t}function K(e){return Date.parse(e)}function W(e){return Date.parse(e)}function $(e,t,r){r()}function X(e,t,r){var n=z(e);isNaN(n)?r():t(n)}function Q(e,t,r,n,a){var o,s,u=!1,l=new XMLHttpRequest,c=a?i.HTTPRequest.HEAD:i.HTTPRequest.GET,d=t.match(/\S+/g);if(t=d.shift(),o=function(){u||(u=!0,d.length?Q(e,d.join(" "),r,n,a):n())},s=function(){var t,n;200===l.status&&(t=a?l.getResponseHeader("Date"):l.response,n=e(t),isNaN(n)||(r(n),u=!0))},O.isRelative(t)){var h=N.resolve();h&&(t=O.resolve(t,h.url))}l.open(c,t),l.timeout=f||0,l.onload=s,l.onloadend=o,l.send()}function Z(e,t,r){Q(W,e,t,r,!0)}function J(){var e=_.getLatestMPDRequestHeaderValueByID("Date"),t=null!==e?new Date(e).getTime():Number.NaN;if(isNaN(t))ee(!0);else{var r=t-Date.now();ee(!1,r)}}function ee(e,i){if(isNaN(R)||isNaN(i)||e||te(i),!e&&!isNaN(i)){S=Date.now(),r=!1;var a=isNaN(R);R=i,a&&B(),t.debug("Completed UTC sync. Setting client - server offset to ".concat(i))}e&&(I=null,r=!1,D.error(new n["default"](s["default"].TIME_SYNC_FAILED_ERROR_CODE,s["default"].TIME_SYNC_FAILED_ERROR_MESSAGE))),M.trigger(o["default"].UPDATE_TIME_SYNC_OFFSET,{offset:i}),M.trigger(o["default"].TIME_SYNCHRONIZATION_COMPLETED)}function te(e){try{var r,n=ne(e),i=isNaN(C)?g:C,a=isNaN(b.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?h:b.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,o=isNaN(b.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?v:b.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,s=isNaN(b.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?y:b.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;n?(r=Math.min(i*a,o),t.debug("Increasing timeBetweenSyncAttempts to ".concat(r))):(r=Math.max(i/a,s),t.debug("Decreasing timeBetweenSyncAttempts to ".concat(r))),C=r}catch(u){}}function re(){if(T&&0!==T.length){var e=T.reduce((function(e,t){return e+t}),0)/T.length;ne(e)?t.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(t.debug("Completed background UTC sync. Setting client - server offset to ".concat(e)),R=e,M.trigger(o["default"].UPDATE_TIME_SYNC_OFFSET,{offset:R})),u=!1,A=Date.now()}}function ne(e){try{if(isNaN(R))return!0;var t=b.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(b.get().streaming.utcSynchronization.maximumAllowedDrift)?b.get().streaming.utcSynchronization.maximumAllowedDrift:d,r=R-t,n=R+t;return e>=r&&e<=n}catch(i){return!0}}function ie(){k(),M.off(o["default"].ATTEMPT_BACKGROUND_SYNC,B,e)}return e={initialize:F,attemptSync:j,setConfig:L,reset:ie},P(),e}b.__dashjs_factory_name="TimeSyncController";var E=u["default"].getSingletonFactory(b);E.HTTP_TIMEOUT_MS=f,u["default"].updateSingletonFactory(b.__dashjs_factory_name,E);const _=E},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
  !*** ./src/streaming/controllers/XlinkController.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ../XlinkLoader */"./src/streaming/XlinkLoader.js"),i=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),a=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),o=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),s=r(/*! ../../../externals/xml2json */"./externals/xml2json.js"),u=r(/*! ../utils/URLUtils */"./src/streaming/utils/URLUtils.js"),l=r(/*! ../../dash/constants/DashConstants */"./src/dash/constants/DashConstants.js"),c="onLoad",f="onActuate",d="urn:mpeg:dash:resolve-to-zero:2013";function h(e){e=e||{};var t,r,o,h,p,g,m=this.context,v=(0,i["default"])(m).getInstance(),y=(0,u["default"])(m).getInstance();function b(){v.on(a["default"].XLINK_ELEMENT_LOADED,A,t),g=(0,n["default"])(m).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings})}function E(e){e&&(r=e)}function _(e){e&&(o=e)}function T(e){var t;p=new s["default"]({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:r}),h=e,h.Period_asArray?(t=I(h.Period_asArray,h,l["default"].PERIOD,c),S(t,l["default"].PERIOD,c)):v.trigger(a["default"].XLINK_READY,{manifest:h})}function w(){v.off(a["default"].XLINK_ELEMENT_LOADED,A,t),g&&(g.reset(),g=null)}function S(e,t,r){var n,i,a={};a.elements=e,a.type=t,a.resolveType=r,0===a.elements.length&&R(a);for(var o=0;o<a.elements.length;o++)n=a.elements[o],i=y.isHTTPURL(n.url)?n.url:n.originalContent.BaseURL+n.url,g.load(i,n,a)}function A(e){var t,r,n="<response>",i="</response>",a="";if(t=e.element,r=e.resolveObject,t.resolvedContent){var o=0;0===t.resolvedContent.indexOf("<?xml")&&(o=t.resolvedContent.indexOf("?>")+2),a=t.resolvedContent.substr(0,o)+n+t.resolvedContent.substr(o)+i,t.resolvedContent=p.xml_str2json(a)}N(r)&&R(r)}function R(e){var t,r,n=[];if(C(e),e.resolveType===f&&v.trigger(a["default"].XLINK_READY,{manifest:h}),e.resolveType===c)switch(e.type){case l["default"].PERIOD:for(t=0;t<h[l["default"].PERIOD+"_asArray"].length;t++)r=h[l["default"].PERIOD+"_asArray"][t],r.hasOwnProperty(l["default"].ADAPTATION_SET+"_asArray")&&(n=n.concat(I(r[l["default"].ADAPTATION_SET+"_asArray"],r,l["default"].ADAPTATION_SET,c))),r.hasOwnProperty(l["default"].EVENT_STREAM+"_asArray")&&(n=n.concat(I(r[l["default"].EVENT_STREAM+"_asArray"],r,l["default"].EVENT_STREAM,c)));S(n,l["default"].ADAPTATION_SET,c);break;case l["default"].ADAPTATION_SET:v.trigger(a["default"].XLINK_READY,{manifest:h});break}}function I(e,t,r,n){var i,a,o,s=[];for(a=e.length-1;a>=0;a--)i=e[a],i.hasOwnProperty("xlink:href")&&i["xlink:href"]===d&&e.splice(a,1);for(a=0;a<e.length;a++)i=e[a],i.hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===n&&(o=D(i["xlink:href"],t,r,a,n,i),s.push(o));return s}function C(e){var t,r,n,i,a,s,u=[];for(i=e.elements.length-1;i>=0;i--){if(t=e.elements[i],r=t.type+"_asArray",!t.resolvedContent||x())delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],u.push(t.originalContent);else if(t.resolvedContent)for(a=0;a<t.resolvedContent[r].length;a++)n=t.resolvedContent[r][a],u.push(n);for(t.parentElement[r].splice(t.index,1),s=0;s<u.length;s++)t.parentElement[r].splice(t.index+s,0,u[s]);u=[]}e.elements.length>0&&o.run(h)}function D(e,t,r,n,i,a){return{url:e,parentElement:t,type:r,index:n,resolveType:i,originalContent:a,resolvedContent:null,resolved:!1}}function N(e){var t,r;for(t=0;t<e.elements.length;t++)if(r=e.elements[t],!1===r.resolved)return!1;return!0}function x(){return!1}return t={resolveManifestOnLoad:T,setMatchers:E,setIron:_,reset:w},b(),t}h.__dashjs_factory_name="XlinkController";const p=o["default"].getClassFactory(h)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
  !*** ./src/streaming/metrics/MetricsReporting.js ***!
  \***************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ./utils/DVBErrorsTranslator */"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),i=r(/*! ./MetricsReportingEvents */"./src/streaming/metrics/MetricsReportingEvents.js"),a=r(/*! ./controllers/MetricsCollectionController */"./src/streaming/metrics/controllers/MetricsCollectionController.js"),o=r(/*! ./metrics/MetricsHandlerFactory */"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),s=r(/*! ./reporting/ReportingFactory */"./src/streaming/metrics/reporting/ReportingFactory.js");function u(){var e,t,r=this.context;function i(e){return t=(0,n["default"])(r).getInstance({eventBus:e.eventBus,dashMetrics:e.dashMetrics,metricsConstants:e.metricsConstants,events:e.events}),t.initialise(),(0,a["default"])(r).create(e)}function u(){return(0,s["default"])(r).getInstance()}function l(){return(0,o["default"])(r).getInstance()}return e={createMetricsReporting:i,getReportingFactory:u,getMetricsHandlerFactory:l},e}u.__dashjs_factory_name="MetricsReporting";var l=dashjs.FactoryMaker.getClassFactory(u);l.events=i["default"],dashjs.FactoryMaker.updateClassFactory(u.__dashjs_factory_name,l);const c=l},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
  \*********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../../core/events/EventsBase */"./src/core/events/EventsBase.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(){var e;return a(this,r),e=t.call(this),e.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",e.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",e.CMCD_DATA_GENERATED="cmcdDataGenerated",e}return r}(n["default"]),p=new h;const g=p},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
  \**************************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ./MetricsController */"./src/streaming/metrics/controllers/MetricsController.js"),i=r(/*! ../utils/ManifestParsing */"./src/streaming/metrics/utils/ManifestParsing.js"),a=r(/*! ../MetricsReportingEvents */"./src/streaming/metrics/MetricsReportingEvents.js");function o(e){var t;e=e||{};var r={},o=this.context,s=e.eventBus,u=e.events;function l(t){if(!t.error){var u=Object.keys(r),l=(0,i["default"])(o).getInstance({adapter:e.adapter,constants:e.constants}).getMetrics(t.manifest);l.forEach((function(i){var a=JSON.stringify(i);if(r.hasOwnProperty(a))u.splice(a,1);else try{var s=(0,n["default"])(o).create(e);s.initialize(i),r[a]=s}catch(t){}})),u.forEach((function(e){r[e].reset(),delete r[e]})),s.trigger(a["default"].METRICS_INITIALISATION_COMPLETE)}}function c(){Object.keys(r).forEach((function(e){r[e].reset()})),r={}}function f(){s.on(u.MANIFEST_UPDATED,l,t),s.on(u.STREAM_TEARDOWN_COMPLETE,c,t)}function d(){s.off(u.MANIFEST_UPDATED,l,t),s.off(u.STREAM_TEARDOWN_COMPLETE,c,t)}return t={reset:d},f(),t}o.__dashjs_factory_name="MetricsCollectionController";const s=dashjs.FactoryMaker.getClassFactory(o)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
  \****************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ./RangeController */"./src/streaming/metrics/controllers/RangeController.js"),i=r(/*! ./ReportingController */"./src/streaming/metrics/controllers/ReportingController.js"),a=r(/*! ./MetricsHandlersController */"./src/streaming/metrics/controllers/MetricsHandlersController.js");function o(e){var t,r,o,s;e=e||{};var u=this.context;function l(s){try{o=(0,n["default"])(u).create({mediaElement:e.mediaElement}),o.initialize(s.Range),r=(0,i["default"])(u).create({debug:e.debug,metricsConstants:e.metricsConstants,mediaPlayerModel:e.mediaPlayerModel}),r.initialize(s.Reporting,o),t=(0,a["default"])(u).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events}),t.initialize(s.metrics,r)}catch(l){throw c(),l}}function c(){t&&t.reset(),r&&r.reset(),o&&o.reset()}return s={initialize:l,reset:c},s}o.__dashjs_factory_name="MetricsController";const s=dashjs.FactoryMaker.getClassFactory(o)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
  \************************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../metrics/MetricsHandlerFactory */"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function i(e){e=e||{};var t,r=[],i=this.context,a=e.eventBus,o=e.events,s=(0,n["default"])(i).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});function u(e){r.forEach((function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)}))}function l(e,n){e.split(",").forEach((function(e,t,i){var a;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var o=i[t+1];o&&-1===o.indexOf("(")&&-1!==o.indexOf(")")&&(e+=","+o,delete i[t+1])}a=s.create(e,n),a&&r.push(a)})),a.on(o.METRIC_ADDED,u,t),a.on(o.METRIC_UPDATED,u,t)}function c(){a.off(o.METRIC_ADDED,u,t),a.off(o.METRIC_UPDATED,u,t),r.forEach((function(e){return e.reset()})),r=[]}return t={initialize:l,reset:c},t}i.__dashjs_factory_name="MetricsHandlersController";const a=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
  \**************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../utils/CustomTimeRanges */"./src/streaming/utils/CustomTimeRanges.js");function i(e){e=e||{};var t,r,i=!1,a=this.context,o=e.mediaElement;function s(e){e&&e.length&&(e.forEach((function(e){var t=e.starttime,n=t+e.duration;r.add(t,n)})),i=!!e[0]._useWallClockTime)}function u(){r.clear()}function l(){r=(0,n["default"])(a).create()}function c(){var e,t=r.length;if(!t)return!0;e=i?(new Date).getTime()/1e3:o.currentTime;for(var n=0;n<t;n+=1){var a=r.start(n),s=r.end(n);if(a<=e&&e<s)return!0}return!1}return t={initialize:s,reset:u,isEnabled:c},l(),t}i.__dashjs_factory_name="RangeController";const a=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
  \******************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../reporting/ReportingFactory */"./src/streaming/metrics/reporting/ReportingFactory.js");function i(e){var t,r=[],i=(0,n["default"])(this.context).getInstance(e);function a(e,t){e.some((function(e){var n=i.create(e,t);if(n)return r.push(n),!0}))}function o(){r.forEach((function(e){return e.reset()})),r=[]}function s(e,t){r.forEach((function(r){return r.report(e,t)}))}return t={initialize:a,reset:o,report:s},t}i.__dashjs_factory_name="ReportingController";const a=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
  \****************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ./handlers/BufferLevelHandler */"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),i=r(/*! ./handlers/DVBErrorsHandler */"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),a=r(/*! ./handlers/HttpListHandler */"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),o=r(/*! ./handlers/GenericMetricHandler */"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function s(e){var t;e=e||{};var r=e.debug?e.debug.getLogger(t):{},s=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,u=this.context,l={BufferLevel:n["default"],DVBErrors:i["default"],HttpList:a["default"],PlayList:o["default"],RepSwitchList:o["default"],TcpList:o["default"]};function c(t,n){var i,a=t.match(s);if(a){try{i=l[a[1]](u).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants}),i.initialize(a[1],n,a[3],a[5])}catch(o){i=null,r.error("MetricsHandlerFactory: Could not create handler for type ".concat(a[1]," with args ").concat(a[3],", ").concat(a[5]," (").concat(o.message,")"))}return i}}function f(e,t){l[e]=t}function d(e){delete l[e]}return t={create:c,register:f,unregister:d},t}s.__dashjs_factory_name="MetricsHandlerFactory";const u=dashjs.FactoryMaker.getSingletonFactory(s)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
  \**********************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../utils/HandlerHelpers */"./src/streaming/metrics/utils/HandlerHelpers.js");function i(e){var t,r,i,a,o,s;e=e||{};var u=this.context,l=(0,n["default"])(u).getInstance(),c=[],f=e.metricsConstants;function d(){try{return Object.keys(c).map((function(e){return c[e]})).reduce((function(e,t){return e.level<t.level?e:t}))}catch(e){return}}function h(){var e=d();e&&s!==e.t&&(s=e.t,r.report(a,e))}function p(e,t,n){t&&(i=l.validateN(n),r=t,a=l.reconstructFullMetricName(e,n),o=setInterval(h,i))}function g(){clearInterval(o),o=null,i=0,r=null,s=null}function m(e,t,r){e===f.BUFFER_LEVEL&&(c[r]=t)}return t={initialize:p,reset:g,handleNewMetric:m},t}i.__dashjs_factory_name="BufferLevelHandler";const a=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
  \********************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../MetricsReportingEvents */"./src/streaming/metrics/MetricsReportingEvents.js");function i(e){var t,r;e=e||{};var i=e.eventBus,a=e.metricsConstants;function o(){i.off(n["default"].METRICS_INITIALISATION_COMPLETE,o,this),i.trigger(n["default"].BECAME_REPORTING_PLAYER)}function s(e,t){t&&(r=t,i.on(n["default"].METRICS_INITIALISATION_COMPLETE,o,this))}function u(){r=null}function l(e,t){e===a.DVB_ERRORS&&r&&r.report(e,t)}return t={initialize:s,reset:u,handleNewMetric:l},t}const a=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
  \************************************************************************/(e,t,r)=>{"use strict";function n(){var e,t,r;function n(e,n){t=e,r=n}function i(){r=null,t=void 0}function a(e,n){e===t&&r&&r.report(t,n)}return e={initialize:n,reset:i,handleNewMetric:a},e}r.r(t),r.d(t,{default:()=>i}),n.__dashjs_factory_name="GenericMetricHandler";const i=dashjs.FactoryMaker.getClassFactory(n)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
  \*******************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../utils/HandlerHelpers */"./src/streaming/metrics/utils/HandlerHelpers.js");function i(e){var t,r,i,a,o,s;e=e||{};var u=[],l=(0,n["default"])(this.context).getInstance(),c=e.metricsConstants;function f(){var e=u;e.length&&r&&r.report(o,e),u=[]}function d(e,t,n,u){t&&(i=l.validateN(n),r=t,u&&u.length&&(a=u),o=l.reconstructFullMetricName(e,n,u),s=setInterval(f,i))}function h(){clearInterval(s),s=null,i=null,a=null,u=[],r=null}function p(e,t){e===c.HTTP_REQUEST&&(a&&a!==t.type||u.push(t))}return t={initialize:d,reset:h,handleNewMetric:p},t}i.__dashjs_factory_name="HttpListHandler";const a=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
  \*************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ./reporters/DVBReporting */"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function i(e){e=e||{};var t,r={"urn:dvb:dash:reporting:2014":n["default"]},i=this.context,a=e.debug?e.debug.getLogger(t):{},o=e.metricsConstants,s=e.mediaPlayerModel||{};function u(e,t){var n;try{n=r[e.schemeIdUri](i).create({metricsConstants:o,mediaPlayerModel:s}),n.initialize(e,t)}catch(u){n=null,a.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(e.schemeIdUri," (").concat(u.message,")"))}return n}function l(e,t){r[e]=t}function c(e){delete r[e]}return t={create:u,register:l,unregister:c},t}i.__dashjs_factory_name="ReportingFactory";const a=dashjs.FactoryMaker.getSingletonFactory(i)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
  \*******************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../utils/MetricSerialiser */"./src/streaming/metrics/utils/MetricSerialiser.js"),i=r(/*! ../../utils/RNG */"./src/streaming/metrics/utils/RNG.js"),a=r(/*! ../../../models/CustomParametersModel */"./src/streaming/models/CustomParametersModel.js");function o(e){var t;e=e||{};var r,o,s,u,l,c,f,d=this.context,h=!0,p=!0,g=[],m=e.metricsConstants;function v(){r=(0,n["default"])(d).getInstance(),s=(0,i["default"])(d).getInstance(),o=(0,a["default"])(d).getInstance(),_()}function y(e,t,r){var n=new XMLHttpRequest;n.withCredentials=o.getXHRWithCredentialsForType(m.HTTP_REQUEST_DVB_REPORTING_TYPE);var i=function(){var e=g.indexOf(n);-1!==e&&(g.splice(e,1),n.status>=200&&n.status<300?t&&t():r&&r())};g.push(n);try{n.open("GET",e),n.onloadend=i,n.onerror=i,n.send()}catch(a){n.onerror()}}function b(e,t){Array.isArray(t)||(t=[t]),l&&f.isEnabled()&&t.forEach((function(t){var n=r.serialise(t);h&&e!==m.DVB_ERRORS&&(n="metricname=".concat(e,"&").concat(n)),n="".concat(c,"?").concat(n),y(n,null,(function(){l=!1}))}))}function E(e,t){var r;if(f=t,c=e.dvb_reportingUrl,!c)throw new Error("required parameter missing (dvb:reportingUrl)");u||(r=e.dvb_probability,r&&(1e3===r||r/1e3>=s.random())&&(l=!0),u=!0)}function _(){u=!1,l=!1,c=null,f=null}function T(){p||(g.forEach((function(e){return e.abort()})),g=[]),_()}return t={report:b,initialize:E,reset:T},v(),t}o.__dashjs_factory_name="DVBReporting";const s=dashjs.FactoryMaker.getClassFactory(o)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
  \************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../vo/DVBErrors */"./src/streaming/metrics/vo/DVBErrors.js"),i=r(/*! ../MetricsReportingEvents */"./src/streaming/metrics/MetricsReportingEvents.js");function a(e){var t,r;e=e||{};var a=e.eventBus,o=e.dashMetrics,s=e.metricsConstants,u=e.events;function l(e){var t=new n["default"];if(r){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.mpdurl||(t.mpdurl=r.originalUrl||r.url),t.terror||(t.terror=new Date),o.addDVBErrors(t)}}function c(e){e.error||(r=e.manifest)}function f(e){l({errorcode:n["default"].BASE_URL_CHANGED,servicelocation:e.entry})}function d(){l({errorcode:n["default"].BECAME_REPORTER})}function h(e){(0===e.responsecode||null==e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&l({errorcode:e.responsecode||n["default"].CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function p(e){switch(e.metric){case s.HTTP_REQUEST:h(e.value);break;default:break}}function g(e){var t,r=e.error?e.error.code:0;switch(r){case MediaError.MEDIA_ERR_NETWORK:t=n["default"].CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=n["default"].CORRUPT_MEDIA_OTHER;break;default:return}l({errorcode:t})}function m(){a.on(u.MANIFEST_UPDATED,c,t),a.on(u.SERVICE_LOCATION_BLACKLIST_CHANGED,f,t),a.on(u.METRIC_ADDED,p,t),a.on(u.METRIC_UPDATED,p,t),a.on(u.PLAYBACK_ERROR,g,t),a.on(i["default"].BECAME_REPORTING_PLAYER,d,t)}function v(){a.off(u.MANIFEST_UPDATED,c,t),a.off(u.SERVICE_LOCATION_BLACKLIST_CHANGED,f,t),a.off(u.METRIC_ADDED,p,t),a.off(u.METRIC_UPDATED,p,t),a.off(u.PLAYBACK_ERROR,g,t),a.off(i["default"].BECAME_REPORTING_PLAYER,d,t)}return t={initialise:m,reset:v},t}a.__dashjs_factory_name="DVBErrorsTranslator";const o=dashjs.FactoryMaker.getSingletonFactory(a)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";function n(){return{reconstructFullMetricName:function(e,t,r){var n=e;return t&&(n+="("+t,r&&r.length&&(n+=","+r),n+=")"),n},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}r.r(t),r.d(t,{default:()=>i}),n.__dashjs_factory_name="HandlerHelpers";const i=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
  \********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../vo/Metrics */"./src/streaming/metrics/vo/Metrics.js"),i=r(/*! ../vo/Range */"./src/streaming/metrics/vo/Range.js"),a=r(/*! ../vo/Reporting */"./src/streaming/metrics/vo/Reporting.js");function o(e){var t;e=e||{};var r=e.adapter,o=e.constants;function s(e,t,n){var i,a,s=0;return t?s=r.getAvailabilityStartTime(e)/1e3:(i=r.getRegularPeriods(e),i.length&&(s=i[0].start)),a=s,n&&n.hasOwnProperty(o.START_TIME)&&(a+=n.starttime),a}function u(e){var t=[];return e&&e.Metrics_asArray&&e.Metrics_asArray.forEach((function(u){var l=new n["default"],c=r.getIsDynamic(e);u.hasOwnProperty("metrics")&&(l.metrics=u.metrics,u.Range_asArray&&u.Range_asArray.forEach((function(t){var n=new i["default"];n.starttime=s(e,c,t),t.hasOwnProperty("duration")?n.duration=t.duration:n.duration=r.getDuration(e),n._useWallClockTime=c,l.Range.push(n)})),u.Reporting_asArray&&(u.Reporting_asArray.forEach((function(e){var t=new a["default"];e.hasOwnProperty(o.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value),e.hasOwnProperty(o.DVB_REPORTING_URL)&&(t.dvb_reportingUrl=e[o.DVB_REPORTING_URL]),e.hasOwnProperty(o.DVB_PROBABILITY)&&(t.dvb_probability=e[o.DVB_PROBABILITY]),l.Reporting.push(t))})),t.push(l)))})),t}return t={getMetrics:u},t}o.__dashjs_factory_name="ManifestParsing";const s=dashjs.FactoryMaker.getSingletonFactory(o)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
  \*********************************************************/(e,t,r)=>{"use strict";function n(){function e(t){var r,n,i=[],a=[];for(r in t)if(t.hasOwnProperty(r)&&0!==r.indexOf("_")){if(n=t[r],void 0!==n&&null!==n||(n=""),Array.isArray(n)){if(!n.length)continue;a=[],n.forEach((function(t){var r="Object"!==Object.prototype.toString.call(t).slice(8,-1);a.push(r?t:e(t))})),n=a.map(encodeURIComponent).join(",")}else"string"===typeof n?n=encodeURIComponent(n):n instanceof Date?n=n.toISOString():"number"===typeof n&&(n=Math.round(n));i.push(r+"="+n)}return i.join("&")}return{serialise:e}}r.r(t),r.d(t,{default:()=>i}),n.__dashjs_factory_name="MetricSerialiser";const i=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
  !*** ./src/streaming/metrics/utils/RNG.js ***!
  \********************************************/(e,t,r)=>{"use strict";function n(){var e,t,r,n=window.crypto||window.msCrypto,i=Uint32Array,a=Math.pow(2,8*i.BYTES_PER_ELEMENT)-1,o=10;function s(){n&&(e||(e=new i(o)),n.getRandomValues(e),t=0)}function u(r,i){var o;return r||(r=0),i||(i=1),n?(t===e.length&&s(),o=e[t]/a,t+=1):o=Math.random(),o*(i-r)+r}return r={random:u},s(),r}r.r(t),r.d(t,{default:()=>i}),n.__dashjs_factory_name="RNG";const i=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
  \***********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00";const a=i},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
  !*** ./src/streaming/metrics/vo/Metrics.js ***!
  \*********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.metrics="",this.Range=[],this.Reporting=[]};const a=i},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
  !*** ./src/streaming/metrics/vo/Range.js ***!
  \*******************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};const a=i},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
  !*** ./src/streaming/metrics/vo/Reporting.js ***!
  \***********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>o});var i=1e3,a=function e(){n(this,e),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=i};const o=a},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ../utils/ObjectUtils */"./src/streaming/utils/ObjectUtils.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=NaN,s=function e(t,r){a(this,e),this.data={baseUrls:t||null,selectedIdx:r||o},this.children=[]};function u(){var e,t,r,i=this.context,a=(0,n["default"])(i).getInstance();function u(){m()}function l(e){e.adapter&&(r=e.adapter)}function c(){if(!r||!r.hasOwnProperty("getBaseURLsFromElement")||!r.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}function f(e,t,n){var i=r.getBaseURLsFromElement(n);e[t]?a.areEqual(i,e[t].data.baseUrls)||(e[t].data.baseUrls=i,e[t].data.selectedIdx=o):e[t]=new s(i)}function d(e){c();var n=r.getBaseURLsFromElement(e);a.areEqual(n,t.data.baseUrls)||(t.data.baseUrls=n,t.data.selectedIdx=o),e&&e.Period_asArray&&e.Period_asArray.forEach((function(e,n){f(t.children,n,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach((function(e,i){f(t.children[n].children,i,e),e.Representation_asArray&&e.Representation_asArray.sort(r.getRepresentationSortFunction()).forEach((function(e,r){f(t.children[n].children[i].children,r,e)}))}))}))}function h(e,r){var n=r||t;e(n.data),n.children&&n.children.forEach((function(t){return h(e,t)}))}function p(e){h((function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=o)}))}function g(e){d(e)}function m(){t=new s}function v(e){var r=t,n=[r.data];return e&&e.forEach((function(e){r=r.children[e],r&&n.push(r.data)})),n.filter((function(e){return e.baseUrls.length}))}return e={reset:m,update:g,getForPath:v,invalidateSelectedIndexes:p,setConfig:l},u(),e}u.__dashjs_factory_name="BaseURLTreeModel";const l=i["default"].getClassFactory(u)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
  !*** ./src/streaming/models/CmcdModel.js ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var n=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),i=r(/*! ../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),a=r(/*! ../metrics/MetricsReportingEvents */"./src/streaming/metrics/MetricsReportingEvents.js"),o=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),s=r(/*! ../../core/Settings */"./src/core/Settings.js"),u=r(/*! ../../streaming/constants/Constants */"./src/streaming/constants/Constants.js"),l=r(/*! ../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),c=r(/*! ../../dash/models/DashManifestModel */"./src/dash/models/DashManifestModel.js"),f=r(/*! ../../core/Utils */"./src/core/Utils.js");function d(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(s)throw a}}}}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g="CMCD",m=1,v={MANIFEST:"m",AUDIO:"a",VIDEO:"v",INIT:"i",CAPTION:"c",ISOBMFF_TEXT_TRACK:"tt",ENCRYPTION_KEY:"k",OTHER:"o"},y={DASH:"d",MSS:"s"},b={VOD:"v",LIVE:"l"},E=5;function _(){var e,t,r,o,h,p,_,T,w,S,A=this.context,R=(0,n["default"])(A).getInstance(),I=(0,s["default"])(A).getInstance();function C(){e=(0,c["default"])(A).getInstance(),x()}function D(){R.on(i["default"].PLAYBACK_RATE_CHANGED,J,t),R.on(i["default"].MANIFEST_LOADED,ee,t),R.on(i["default"].BUFFER_LEVEL_STATE_CHANGED,te,t),R.on(i["default"].PLAYBACK_SEEKED,re,t),R.on(i["default"].PERIOD_SWITCH_COMPLETED,M,t)}function N(e){e&&(e.abrController&&(o=e.abrController),e.dashMetrics&&(h=e.dashMetrics),e.playbackController&&(p=e.playbackController))}function x(){r={pr:1,nor:null,st:null,sf:null,sid:"".concat(f["default"].generateUuid()),cid:null},w={},T={},S={},O()}function M(){O()}function O(){if(p){var e=p.getStreamController();if(e&&"function"===typeof e.getActiveStream){var t=e.getActiveStream();t&&(_=t.getProcessors())}}}function P(e){try{if(I.get().streaming.cmcd&&I.get().streaming.cmcd.enabled){var t=B(e),r=L(t),n=ne(r);return R.trigger(a["default"].CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,cmcdString:n}),{key:g,value:n}}return null}catch(i){return null}}function L(e){try{var t=I.get().streaming.cmcd.enabledKeys;return Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,r){return t[r]=e[r],t}),{})}catch(r){return e}}function k(e,t){var r,n={},i=d(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e[a]&&(n[a]=e[a])}}catch(o){i.e(o)}finally{i.f()}return n}function F(e){try{if(I.get().streaming.cmcd&&I.get().streaming.cmcd.enabled){var t=B(e),r=k(t,j(["br","d","ot","tb"])),n=k(t,j(["bl","dl","mtp","nor","nrr","su"])),i=k(t,j(["bs","rtp"])),o=k(t,j(["cid","pr","sf","sid","st","v"])),s={"CMCD-Object":ne(r),"CMCD-Request":ne(n),"CMCD-Status":ne(i),"CMCD-Session":ne(o)};return R.trigger(a["default"].CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,headers:s}),s}return null}catch(u){return null}}function j(e){var t=I.get().streaming.cmcd.enabledKeys;return e.filter((function(e){return t.includes(e)}))}function B(e){try{var t=null;return e.type===l.HTTPRequest.MPD_TYPE?q(e):e.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE?(V(e.mediaType),G(e)):e.type===l.HTTPRequest.INIT_SEGMENT_TYPE?H(e):e.type===l.HTTPRequest.OTHER_TYPE||e.type===l.HTTPRequest.XLINK_EXPANSION_TYPE?Y(e):e.type===l.HTTPRequest.LICENSE?U(e):t}catch(r){return null}}function U(e){var t=z(e);return t.ot=v.ENCRYPTION_KEY,t}function q(){var e=z();return e.ot=v.MANIFEST,e}function G(e){var t,n=z(),i=K(e),a=$(e),o=X(e.mediaType),s=Q(e.mediaType),l=Z(e.mediaType),c=W(e.mediaType),d=r.pr,h=ie(e.mediaType);e.mediaType===u["default"].VIDEO&&(t=v.VIDEO),e.mediaType===u["default"].AUDIO&&(t=v.AUDIO),e.mediaType===u["default"].TEXT&&(t="application/mp4"===e.mediaInfo.mimeType?v.ISOBMFF_TEXT_TRACK:v.CAPTION);var p=I.get().streaming.cmcd.rtp;return p||(p=ae(e)),n.rtp=p,h&&(e.url!==h.url?n.nor=encodeURIComponent(f["default"].getRelativeUrl(e.url,h.url)):h.range&&(n.nrr=h.range)),i&&(n.br=i),t&&(n.ot=t),isNaN(a)||(n.d=a),isNaN(o)||(n.mtp=o),isNaN(s)||(n.dl=s),isNaN(l)||(n.bl=l),isNaN(c)||(n.tb=c),isNaN(d)||1===d||(n.pr=d),w[e.mediaType]&&(n.bs=!0,w[e.mediaType]=!1),!T[e.mediaType]&&S[e.mediaType]||(n.su=!0,T[e.mediaType]=!1,S[e.mediaType]=!0),n}function V(e){S.hasOwnProperty(e)||(S[e]=!1),T.hasOwnProperty(e)||(T[e]=!1),w.hasOwnProperty(e)||(w[e]=!1)}function H(){var e=z();return e.ot=v.INIT,e.su=!0,e}function Y(){var e=z();return e.ot=v.OTHER,e}function z(){var e={},t=I.get().streaming.cmcd.cid?I.get().streaming.cmcd.cid:r.cid;return e.v=m,e.sid=I.get().streaming.cmcd.sid?I.get().streaming.cmcd.sid:r.sid,e.sid="".concat(e.sid),t&&(e.cid="".concat(t)),isNaN(r.pr)||1===r.pr||null===r.pr||(e.pr=r.pr),r.st&&(e.st=r.st),r.sf&&(e.sf=r.sf),e}function K(e){try{var t=e.quality,r=e.mediaInfo.bitrateList;return parseInt(r[t].bandwidth/1e3)}catch(n){return null}}function W(e){try{var t=o.getTopBitrateInfoFor(e);return Math.round(t.bitrate/1e3)}catch(r){return null}}function $(e){try{return isNaN(e.duration)?null:Math.round(1e3*e.duration)}catch(t){return null}}function X(e){try{return 100*parseInt(o.getThroughputHistory().getSafeAverageThroughput(e)/100)}catch(t){return null}}function Q(e){try{var t=r.pr,n=h.getCurrentBufferLevel(e);return isNaN(t)||isNaN(n)?null:100*parseInt(n/t*10)}catch(i){return null}}function Z(e){try{var t=h.getCurrentBufferLevel(e);return isNaN(t)?null:100*parseInt(10*t)}catch(r){return null}}function J(e){try{r.pr=e.playbackRate}catch(t){}}function ee(t){try{var n=e.getIsDynamic(t.data),i=n?b.LIVE:b.VOD,a=t.protocol&&"MSS"===t.protocol?y.MSS:y.DASH;r.st="".concat(i),r.sf="".concat(a)}catch(o){}}function te(e){try{e.state&&e.mediaType&&e.state===i["default"].BUFFER_EMPTY&&(w[e.mediaType]||(w[e.mediaType]=!0),T[e.mediaType]||(T[e.mediaType]=!0))}catch(t){}}function re(){for(var e in w)w.hasOwnProperty(e)&&(w[e]=!0);for(var t in T)T.hasOwnProperty(t)&&(T[t]=!0)}function ne(e){try{if(!e)return null;var t=Object.keys(e).sort((function(e,t){return e.localeCompare(t)})),r=t.length,n=t.reduce((function(t,n,i){return"v"===n&&1===e[n]||("string"===typeof e[n]&&"ot"!==n&&"sf"!==n&&"st"!==n?t+="".concat(n,"=").concat(JSON.stringify(e[n])):t+="".concat(n,"=").concat(e[n]),i<r-1&&(t+=",")),t}),"");return n=n.replace(/=true/g,""),n=n.replace(/,\s*$/,""),n}catch(i){return null}}function ie(e){if(_&&0!==_.length){var t,r=d(_);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.getType()===e)return n.probeNextRequest()}}catch(i){r.e(i)}finally{r.f()}}}function ae(e){var t=p.getPlaybackRate();t||(t=1);var r=e.quality,n=e.mediaType,i=e.mediaInfo,a=e.duration,o=Z(n);0===o&&(o=500);var s=i.bitrateList[r].bandwidth,u=s*a/1e3,l=o/t/1e3,c=u/l,f=I.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(I.get().streaming.cmcd.rtpSafetyFactor)?I.get().streaming.cmcd.rtpSafetyFactor:E,d=c*f,h=100*(parseInt(d/100)+1);return h}function oe(){R.off(i["default"].PLAYBACK_RATE_CHANGED,J,this),R.off(i["default"].MANIFEST_LOADED,ee,this),R.off(i["default"].BUFFER_LEVEL_STATE_CHANGED,te,t),R.off(i["default"].PLAYBACK_SEEKED,re,t),x()}return t={getQueryParameter:P,getHeaderParameters:F,setConfig:N,reset:oe,initialize:D},C(),t}_.__dashjs_factory_name="CmcdModel";const T=o["default"].getSingletonFactory(_)},"./src/streaming/models/CmsdModel.js":
/*!*******************************************!*\
  !*** ./src/streaming/models/CmsdModel.js ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),a=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),o=r(/*! ../../core/Debug */"./src/core/Debug.js");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){u=function(e,t){return new a(e,void 0,t)};var r=c(RegExp),n=RegExp.prototype,i=new WeakMap;function a(e,t,n){var a=r.call(this,e,t);return i.set(a,n||i.get(e)),a}function o(e,t){var r=i.get(t);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return l(a,r),a.prototype.exec=function(e){var t=n.exec.call(this,e);return t&&(t.groups=o(t,this)),t},a.prototype[Symbol.replace]=function(e,t){if("string"===typeof t){var r=i.get(this);return n[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+r[t]})))}if("function"===typeof t){var a=this;return n[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==s(e[e.length-1])&&e.push(o(e,a)),t.apply(this,e)}))}return n[Symbol.replace].call(this,e,t)},u.apply(this,arguments)}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function c(e){var t="function"===typeof Map?new Map:void 0;return c=function(e){if(null===e||!h(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,g(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},c(e)}function f(e,t,r){return f=d()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),a=new i;return r&&p(a,r.prototype),a},f.apply(null,arguments)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var m="static",v="dynamic",y="cmsd-",b=y+m,E=y+v,_={AVAILABILITY_TIME:"at",DURESS:"du",ENCODED_BITRATE:"br",ESTIMATED_THROUGHPUT:"etp",HELD_TIME:"ht",INTERMEDIARY_IDENTIFIER:"n",MAX_SUGGESTED_BITRATE:"mb",NEXT_OBJECT_RESPONSE:"nor",NEXT_RANGE_RESPONSE:"nrr",OBJECT_DURATION:"d",OBJECT_TYPE:"ot",RESPONSE_DELAY:"rd",ROUND_TRIP_TIME:"rtt",STARTUP:"su",STREAM_TYPE:"st",STREAMING_FORMAT:"sf",VERSION:"v"},T={MANIFEST:"m",AUDIO:"a",VIDEO:"v",INIT:"i",CAPTION:"c",ISOBMFF_TEXT_TRACK:"tt",ENCRYPTION_KEY:"k",OTHER:"o",STREAM:"stream"},w=[_.MAX_SUGGESTED_BITRATE,_.STREAM_TYPE,_.STREAMING_FORMAT,_.VERSION],S={video:T.VIDEO,audio:T.AUDIO,text:T.ISOBMFF_TEXT_TRACK,stream:T.STREAM},A=/^[-0-9]/;function R(){var e,t,r,n,s=this.context,l=(0,i["default"])(s).getInstance();function c(){t=(0,o["default"])(s).getInstance().getLogger(e),h()}function f(){}function d(){}function h(){r={},n={}}function p(e){e&&Object.keys(e).forEach((function(t){w.includes(t)||delete e[t]}))}function g(e){return!e||"false"!==e.toLowerCase()&&(A.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}function y(e){try{for(var r={},n=e.split(","),i=0;i<n.length;i++){var a=n[i].split("="),o=a[0],s=g(a[1]);r[o]=s}return r}catch(u){t.error("Failed to parse CMSD-Static response header value:",u)}}function R(e){try{for(var r={},n=e.split(","),i=n[n.length-1],a=i.split(";"),o=1;o<a.length;o++){var s=a[o].split("="),u=s[0],l=g(s[1]);r[u]=l}return r}catch(c){return t.error("Failed to parse CMSD-Dynamic response header value:",c),[]}}function I(e){return S[e]||T.OTHER}function C(e,t,i){var a=e===m?r:n,o=a[t]||{},s=a[T.STREAM]||{},u=o[i]||s[i];return u}function D(e,t){for(var i=null,o=null,s=e.split("\r\n"),c=s.length-1;c>=0;c--){var f=s[c],d=f.match(u(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(d&&d.groups){var h=d.groups.key.toLowerCase(),g=d.groups.value;switch(h){case b:i=y(g),l.trigger(a["default"].CMSD_STATIC_HEADER,i);break;case E:o||(o=R(g));break;default:break}}}var m=T.STREAM;return i&&i[_.OBJECT_TYPE]?m=i[_.OBJECT_TYPE]:t&&(m=I(t)),p(r[m]),p(n[m]),i&&(r[m]=Object.assign(r[m]||{},i)),o&&(n[m]=Object.assign(n[m]||{},o)),{static:i,dynamic:o}}function N(e){var t=I(e),r=C(v,t,_.MAX_SUGGESTED_BITRATE);return r||-1}function x(e){var t=I(e),r=C(v,t,_.ESTIMATED_THROUGHPUT);return r||null}function M(e){var t=I(e),r=C(v,t,_.RESPONSE_DELAY);return r||null}function O(e){var t=I(e),r=C(v,t,_.ROUND_TRIP_TIME);return r||null}function P(){h()}return e={setConfig:d,initialize:f,reset:P,parseResponseHeaders:D,getMaxBitrate:N,getEstimatedThroughput:x,getResponseDelay:M,getRoundTripTime:O},c(),e}R.__dashjs_factory_name="CmsdModel";const I=n["default"].getSingletonFactory(R)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
  !*** ./src/streaming/models/CustomParametersModel.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../../dash/vo/UTCTiming */"./src/dash/vo/UTCTiming.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),a=r(/*! ../../core/Settings */"./src/core/Settings.js"),o=r(/*! ../utils/SupervisorTools */"./src/streaming/utils/SupervisorTools.js"),s=r(/*! ../rules/abr/ABRRulesCollection */"./src/streaming/rules/abr/ABRRulesCollection.js"),u=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),l=!1;function c(){var e,t,r,i,c,f,d,h,p=this.context,g=(0,a["default"])(p).getInstance();function m(){r={default:l},v()}function v(){i=[],c=[],f=[],h=[],d=null,t=[]}function y(){v()}function b(){}function E(e){d=e}function _(){d=null}function T(){return d}function w(){return i}function S(){return c}function A(e){i.push(e)}function R(e){c.push(e)}function I(e){M(i,e)}function C(e){M(c,e)}function D(){return f}function N(e){f.push(e)}function x(e){M(f,e)}function M(e,t){var r=-1;e.some((function(e,n){if(e===t)return r=n,!0})),r<0||e.splice(r,1)}function O(e){var t;for(t=0;t<h.length;t++)if(h[t].rulename===e)return t;return-1}function P(e,t,r){if("string"!==typeof e||e!==s["default"].ABANDON_FRAGMENT_RULES&&e!==s["default"].QUALITY_SWITCH_RULES||"string"!==typeof t)throw u["default"].BAD_ARGUMENT_ERROR;var n=O(t);-1===n?h.push({type:e,rulename:t,rule:r}):(h[n].type=e,h[n].rule=r)}function L(e){if(e){var t=O(e);-1!==t&&h.splice(t,1)}else h=[]}function k(){h=[]}function F(){return h}function j(e,r){U(e,r);var i=new n["default"];i.schemeIdUri=e,i.value=r,t.push(i)}function B(){return t}function U(e,r){(0,o.checkParameterType)(e,"string"),(0,o.checkParameterType)(r,"string"),t.forEach((function(n,i){n.schemeIdUri===e&&n.value===r&&t.splice(i,1)}))}function q(){t=[]}function G(){var e=g.get().streaming.utcSynchronization.defaultTimingSource;j(e.scheme,e.value)}function V(e,t){e?r[e]=!!t:Object.keys(r).forEach((function(e){V(e,t)}))}function H(e){var t=r[e];return void 0===t?r["default"]:t}return e={getCustomInitialTrackSelectionFunction:T,setCustomInitialTrackSelectionFunction:E,resetCustomInitialTrackSelectionFunction:_,getLicenseResponseFilters:S,getLicenseRequestFilters:w,getCustomCapabilitiesFilters:D,registerCustomCapabilitiesFilter:N,registerLicenseResponseFilter:R,registerLicenseRequestFilter:A,unregisterCustomCapabilitiesFilter:x,unregisterLicenseResponseFilter:C,unregisterLicenseRequestFilter:I,addAbrCustomRule:P,removeAllAbrCustomRule:k,removeAbrCustomRule:L,getAbrCustomRules:F,addUTCTimingSource:j,removeUTCTimingSource:U,getUTCTimingSources:B,clearDefaultUTCTimingSources:q,restoreDefaultUTCTimingSources:G,setXHRWithCredentialsForType:V,getXHRWithCredentialsForType:H,setConfig:b,reset:y},m(),e}c.__dashjs_factory_name="CustomParametersModel";const f=i["default"].getSingletonFactory(c)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
  !*** ./src/streaming/models/FragmentModel.js ***!
  \***********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../vo/FragmentRequest */"./src/streaming/vo/FragmentRequest.js"),a="loading",o="executed",s="canceled",u="failed";function l(e){e=e||{};var t,r,n,s,l=e.eventBus,c=e.events,f=e.dashMetrics,d=e.fragmentLoader,h=e.debug,p=e.streamInfo,g=e.type;function m(){r=h.getLogger(t),F(),l.on(c.LOADING_COMPLETED,P,t),l.on(c.LOADING_DATA_PROGRESS,L,t),l.on(c.LOADING_ABANDONED,k,t)}function v(){return p.id}function y(){return g}function b(e){var t=function(e,t){return e.action===i["default"].ACTION_COMPLETE&&e.action===t.action},r=function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex&&e.type===t.type},a=function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality},o=function(n){var i=!1;return n.some((function(n){if(r(e,n)||a(e,n)||t(e,n))return i=!0,i})),i};return!!e&&o(n)}function E(e){var t,r=!1,n=0;if(r=b(e),!r)for(n=0;n<s.length;n++)t=s[n],e.url===t.url&&e.startTime===t.startTime&&(r=!0);return r}function _(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],r=[];return t.forEach((function(t){var n=M(t);r=r.concat(x(n,e))})),r}function T(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function w(e){n=n.filter((function(t){var r=T(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-r}))}function S(e){n=n.filter((function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime<e}))}function A(e,t){t<=e+.5||(n=n.filter((function(r){var n=T(r);return isNaN(r.startTime)||r.startTime>=t-n||isNaN(r.duration)||r.startTime+r.duration<=e+n})))}function R(e,t){if(e&&0!==e.length){for(var r=0,n=0,i=e.length;n<i;n++)A(r,e.start(n)),r=e.end(n);t>0&&A(r,t)}else w()}function I(){r.debug("abort requests"),d.abort(),s=[]}function C(e){switch(e.action){case i["default"].ACTION_DOWNLOAD:O(e,a),s.push(e),D(e);break;default:r.warn("Unknown request action.")}}function D(e){l.trigger(c.FRAGMENT_LOADING_STARTED,{request:e},{streamId:p.id,mediaType:g}),d.load(e)}function N(e,t,r){for(var n=e.length-1,i=n;i>=0;i--){var a=e[i],o=a.startTime,s=o+a.duration;if(r=isNaN(r)?T(a):r,!isNaN(o)&&!isNaN(s)&&t+r>=o&&t-r<s||isNaN(o)&&isNaN(t))return a}return null}function x(e,t){return t.hasOwnProperty("time")?[N(e,t.time,t.threshold)]:e.filter((function(e){for(var r in t)if("state"!==r&&t.hasOwnProperty(r)&&e[r]!=t[r])return!1;return!0}))}function M(e){var t;switch(e){case a:t=s;break;case o:t=n;break;default:t=[]}return t}function O(e,t){f.addSchedulingInfo(e,t),f.addRequestsQueue(e.mediaType,s,n)}function P(e){e.sender===d&&(s.splice(s.indexOf(e.request),1),e.response&&!e.error&&n.push(e.request),O(e.request,e.error?u:o),l.trigger(c.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:p.id,mediaType:g}))}function L(e){e.sender===d&&l.trigger(c.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:p.id,mediaType:g})}function k(e){e.sender===d&&l.trigger(c.FRAGMENT_LOADING_ABANDONED,{request:e.request},{streamId:p.id,mediaType:g})}function F(){n=[],s=[]}function j(){l.off(c.LOADING_COMPLETED,P,this),l.off(c.LOADING_DATA_PROGRESS,L,this),l.off(c.LOADING_ABANDONED,k,this),d&&d.reset(),F()}function B(e){n.push(e)}return t={getStreamId:v,getType:y,getRequests:_,isFragmentLoaded:b,isFragmentLoadedOrPending:E,removeExecutedRequestsBeforeTime:w,removeExecutedRequestsAfterTime:S,syncExecutedRequestsWithBufferedRange:R,abortRequests:I,executeRequest:C,reset:j,resetInitialSettings:F,addExecutedRequest:B},m(),t}l.__dashjs_factory_name="FragmentModel";var c=n["default"].getClassFactory(l);c.FRAGMENT_MODEL_LOADING=a,c.FRAGMENT_MODEL_EXECUTED=o,c.FRAGMENT_MODEL_CANCELED=s,c.FRAGMENT_MODEL_FAILED=u,n["default"].updateClassFactory(l.__dashjs_factory_name,c);const f=c},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
  \***********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../core/Debug */"./src/core/Debug.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function a(){var e,t,r=10,i=.8,a=.6,o=1.05,s=250,u=this.context,l={};function c(){t=(0,n["default"])(u).getInstance().getLogger(e)}function f(e){for(var t={},r=0,n=0,i=0,a=0,o=e.length,s=0;s<o;++s)r+=e[s].chunkDownloadTimeRelativeMS,n+=e[s].bufferLevel,i+=e[s].chunkDownloadTimeRelativeMS*e[s].bufferLevel,a+=e[s].chunkDownloadTimeRelativeMS*e[s].chunkDownloadTimeRelativeMS;return t.m=(i-r*n/o)/(a-r*r/o),t.b=n/o-t.m*r/o,function(e){return t.m*e+t.b}}function d(e){var t,r=!0,n=e.reduce((function(e,t){return e+t.bufferLevelAtSegmentEnd}),0)/e.length;return e.forEach((function(e){Math.abs(e.bufferLevelAtSegmentEnd/e.bufferLevelAtSegmentStart)<.95&&(r=!1),e.bufferLevelAtSegmentEnd/n<.8&&(r=!1),t?t>e.bitrate&&(r=!1):t=e.bitrate})),r}function h(e){var r=l[e.mediaType].slice(-1).pop(),n=l[e.mediaType].slice(-3),s=r.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;r.bufferLevelAtSegmentStart=r.getEstimatedBufferLevel(s/2),r.bufferLevelAtSegmentEnd=r.getEstimatedBufferLevel(s);var u=d(n),c=u?a:i;if(r.isBufferStable&&r.segDurationMS*o<r.fetchDownloadDurationMS)return r.fetchDownloadDurationMS;if(!u||r.segDurationMS<r.fetchDownloadDurationMS)return r.fetchDownloadDurationMS*i;if(r.adjustedAvailabilityStartTimeMS<=r.requestTimeMS+r.throughputCapacityDelayMS-r.segDurationMS)return r.fetchDownloadDurationMS*i;for(var f=r.requestTimeMS+r.throughputCapacityDelayMS-r.adjustedAvailabilityStartTimeMS,h=0,p=0,g=0,m=0;m<r.chunkMeasurements.length;m++){var v=r.chunkMeasurements[m];if(f<p+v.chunkDownloadDurationMS)break;p+=v.chunkDownloadDurationMS,h+=v.chunkBytes,g++}if(f<0&&t.warn("request time was before adjusted availibitly start time"),h&&p&&g>.2*r.chunkMeasurements.length){var y=h/p,b=r.segmentBytes/y;return r.fetchDownloadDurationMS<b?r.fetchDownloadDurationMS*c:b*c}var E=r.bitrate;return r.bitrateList.some((function(e){if(e.bandwidth>r.bitrate)return E=e.bandwidth,!0})),E===r.bitrate?r.fetchDownloadDurationMS*c:c*r.segmentBytes*8*1e3/E}function p(e,t){var r=l[e.mediaType]&&l[e.mediaType].slice(-3);return!r||r.length<3?0:d(r)?t/4>s?s:t/4:0}function g(e,t,n,i,a){e&&e.mediaType&&!l[e.mediaType]&&(l[e.mediaType]=[]);var o=e.mediaInfo.bitrateList.find((function(t){return t.id===e.representationId}));l[e.mediaType].push({index:e.index,repId:e.representationId,mediaType:e.mediaType,requestTimeMS:i,adjustedAvailabilityStartTimeMS:e.availabilityStartTime.getTime(),segDurationMS:1e3*e.duration,chunksDurationMS:n.reduce((function(e,t){return e+t.chunkDownloadDurationMS}),0),segmentBytes:n.reduce((function(e,t){return e+t.chunkBytes}),0),bitrate:o&&o.bandwidth,bitrateList:e.mediaInfo.bitrateList,chunkMeasurements:n,fetchDownloadDurationMS:t,throughputCapacityDelayMS:a,getEstimatedBufferLevel:f(n.slice(1))}),l[e.mediaType].length>r&&l[e.mediaType].shift()}return e={setup:c,addMeasurement:g,getThroughputCapacityDelayMS:p,getEstimatedDownloadDurationMS:h},c(),e}a.__dashjs_factory_name="LowLatencyThroughputModel";const o=i["default"].getSingletonFactory(a)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
  !*** ./src/streaming/models/ManifestModel.js ***!
  \***********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),i=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),a=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function o(){var e,t,r=this.context,a=(0,n["default"])(r).getInstance();function o(){return t}function s(e){t=e,e&&a.trigger(i["default"].MANIFEST_LOADED,{data:e})}return e={getValue:o,setValue:s},e}o.__dashjs_factory_name="ManifestModel";const s=a["default"].getSingletonFactory(o)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
  !*** ./src/streaming/models/MediaPlayerModel.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(/*! ../../core/Debug */"./src/core/Debug.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),a=r(/*! ../../core/Settings */"./src/core/Settings.js"),o=12,s=20,u=10,l=5,c=12,f=-.5,d=.5,h=-.5,p=1;function g(){var e,t,r,i,g=this.context,m=(0,a["default"])(g).getInstance();function v(){t=(0,n["default"])(g).getInstance().getLogger(e)}function y(e){e.playbackController&&(r=e.playbackController),e.serviceDescriptionController&&(i=e.serviceDescriptionController)}function b(e,r){return isNaN(e)?0:e>0?(r&&t.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):e<h?(r&&t.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(h,": ").concat(100*h,"% playback speed.")),h):e}function E(e,r){return isNaN(e)?0:e<0?(r&&t.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):e>p?(r&&t.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(p,": ").concat(100*(1+p),"% playback speed.")),p):e}function _(){if(!isNaN(m.get().streaming.liveCatchup.maxDrift)&&m.get().streaming.liveCatchup.maxDrift>0)return m.get().streaming.liveCatchup.maxDrift;var e=i.getServiceDescriptionSettings();return e&&e.liveCatchup&&!isNaN(e.liveCatchup.maxDrift)&&e.liveCatchup.maxDrift>0?e.liveCatchup.maxDrift:c}function T(e){var t=m.get().streaming.liveCatchup.playbackRate;if(!isNaN(t.min)||!isNaN(t.max))return{min:b(t.min,e),max:E(t.max,e)};var r=i.getServiceDescriptionSettings();if(r&&r.liveCatchup&&(!isNaN(r.liveCatchup.playbackRate.min)||!isNaN(r.liveCatchup.playbackRate.max))){var n=r.liveCatchup.playbackRate;return{min:b(n.min,e),max:E(n.max,e)}}return{min:f,max:d}}function w(){return null!==m.get().streaming.liveCatchup.enabled?m.get().streaming.liveCatchup.enabled:r.getInitialCatchupModeActivated()}function S(e,t){try{var r=m.get().streaming.abr[e][t];if(!isNaN(r)&&-1!==r)return r;var n=i.getServiceDescriptionSettings();return n&&n[e]&&!isNaN(n[e][t])?n[e][t]:-1}catch(a){return-1}}function A(){var e=m.get().streaming.buffer.initialBufferLevel;return isNaN(e)||e<0?0:Math.min(R(),e)}function R(){var e=m.get().streaming.buffer.stableBufferTime>0?m.get().streaming.buffer.stableBufferTime:m.get().streaming.buffer.fastSwitchEnabled?s:o,t=r.getLiveDelay();return!isNaN(t)&&t>0?Math.min(e,t):e}function I(e){var t=isNaN(m.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?l:m.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return r.getLowLatencyModeEnabled()?m.get().streaming.retryAttempts[e]*t:m.get().streaming.retryAttempts[e]}function C(e){var t=isNaN(m.get().streaming.retryIntervals.lowLatencyReductionFactor)?u:m.get().streaming.retryIntervals.lowLatencyReductionFactor;return r.getLowLatencyModeEnabled()?m.get().streaming.retryIntervals[e]/t:m.get().streaming.retryIntervals[e]}function D(){}return e={getCatchupMaxDrift:_,getCatchupModeEnabled:w,getStableBufferTime:R,getInitialBufferLevel:A,getRetryAttemptsForType:I,getRetryIntervalsForType:C,getCatchupPlaybackRates:T,getAbrBitrateParameter:S,setConfig:y,reset:D},v(),e}g.__dashjs_factory_name="MediaPlayerModel";const m=i["default"].getSingletonFactory(g)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
  !*** ./src/streaming/models/MetricsModel.js ***!
  \**********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),a=r(/*! ../vo/MetricsList */"./src/streaming/vo/MetricsList.js"),o=r(/*! ../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),s=r(/*! ../vo/metrics/RepresentationSwitch */"./src/streaming/vo/metrics/RepresentationSwitch.js"),u=r(/*! ../vo/metrics/BufferLevel */"./src/streaming/vo/metrics/BufferLevel.js"),l=r(/*! ../vo/metrics/BufferState */"./src/streaming/vo/metrics/BufferState.js"),c=r(/*! ../vo/metrics/DVRInfo */"./src/streaming/vo/metrics/DVRInfo.js"),f=r(/*! ../vo/metrics/DroppedFrames */"./src/streaming/vo/metrics/DroppedFrames.js"),d=r(/*! ../vo/metrics/ManifestUpdate */"./src/streaming/vo/metrics/ManifestUpdate.js"),h=r(/*! ../vo/metrics/SchedulingInfo */"./src/streaming/vo/metrics/SchedulingInfo.js"),p=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),g=r(/*! ../vo/metrics/RequestsQueue */"./src/streaming/vo/metrics/RequestsQueue.js"),m=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),v=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function y(e){e=e||{};var t,r,v=e.settings,y=this.context,b=(0,p["default"])(y).getInstance();function E(){r={}}function _(){b.trigger(m["default"].METRICS_CHANGED)}function T(e){b.trigger(m["default"].METRIC_CHANGED,{mediaType:e}),_()}function w(e,t,r){b.trigger(m["default"].METRIC_UPDATED,{mediaType:e,metric:t,value:r}),T(e)}function S(e,t,r){b.trigger(m["default"].METRIC_ADDED,{mediaType:e,metric:t,value:r}),T(e)}function A(e){delete r[e],T(e)}function R(){r={},_()}function I(e,t){var n=null;return e?(r.hasOwnProperty(e)?n=r[e]:t||(n=new a["default"],r[e]=n),n):n}function C(e,t,r){var n=I(e);null!==n&&(n[t].push(r),n[t].length>v.get().streaming.metrics.maxListDepth&&n[t].shift())}function D(e,t,r,n){var i=new o.HTTPRequestTrace;return i.s=t,i.d=r,i.b=n,e.trace.push(i),e.interval||(e.interval=0),e.interval+=r,i}function N(e,t,r,n,a,s,u,l,c,f,d,h,p,g,m,v,y){var b=new o.HTTPRequest;s&&s!==n&&(N(e,null,r,n,a,null,null,l,c,null,null,null,p,null,null,v,y),b.actualurl=s),b.tcpid=t,b.type=r,b.url=n,b.range=l,b.trequest=c,b.tresponse=f,b.responsecode=h,b.cmsd=y,b._tfinish=d,b._stream=e,b._mediaduration=p,b._quality=a,b._responseHeaders=g,b._serviceLocation=u,b._fileLoaderType=v,m?m.forEach((function(e){D(b,e.s,e.d,e.b)})):(delete b.interval,delete b.trace),M(e,i["default"].HTTP_REQUEST,b)}function x(e,t,r,n,a){var o=new s["default"];o.t=t,o.mt=r,o.to=n,a?o.lto=a:delete o.lto,M(e,i["default"].TRACK_SWITCH,o)}function M(e,t,r){C(e,t,r),S(e,t,r)}function O(e,t,r){var n=new u["default"];n.t=t,n.level=r,M(e,i["default"].BUFFER_LEVEL,n)}function P(e,t,r){var n=new l["default"];n.target=r,n.state=t,M(e,i["default"].BUFFER_STATE,n)}function L(e,t,r,n){var a=new c["default"];a.time=t,a.range=n,a.manifestInfo=r,M(e,i["default"].DVR_INFO,a)}function k(e,t){var r=new f["default"],n=I(e).DroppedFrames;t&&(r.time=t.creationTime,r.droppedFrames=t.droppedVideoFrames,n.length>0&&n[n.length-1]==r||M(e,i["default"].DROPPED_FRAMES,r))}function F(e,t,r,n,a,o,s,u,l){var c=new h["default"];c.mediaType=e,c.t=t,c.type=r,c.startTime=n,c.availabilityStartTime=a,c.duration=o,c.quality=s,c.range=u,c.state=l,M(e,i["default"].SCHEDULING_INFO,c)}function j(e,t,r){var n=new g["default"];n.loadingRequests=t,n.executedRequests=r,I(e).RequestsQueue=n,S(e,i["default"].REQUESTS_QUEUE,n)}function B(e,t,r,a,o,s,u,l,c,f){var h=new d.ManifestUpdate;h.mediaType=e,h.type=t,h.requestTime=r,h.fetchTime=a,h.availabilityStartTime=o,h.presentationStartTime=s,h.clientTimeOffset=u,h.currentTime=l,h.buffered=c,h.latency=f,C(n["default"].STREAM,i["default"].MANIFEST_UPDATE,h),S(e,i["default"].MANIFEST_UPDATE,h)}function U(e,t){if(e){for(var r in t)e[r]=t[r];w(e.mediaType,i["default"].MANIFEST_UPDATE,e)}}function q(e,t,r,n,a){if(e){var o=new d.ManifestUpdateStreamInfo;o.id=t,o.index=r,o.start=n,o.duration=a,e.streamInfo.push(o),w(e.mediaType,i["default"].MANIFEST_UPDATE_STREAM_INFO,e)}}function G(e,t,r,n,a,o,s,u){if(e&&e.representationInfo){var l=new d.ManifestUpdateRepresentationInfo;l.id=t,l.index=r,l.streamIndex=n,l.mediaType=a,l.startNumber=s,l.fragmentInfoType=u,l.presentationTimeOffset=o,e.representationInfo.push(l),w(e.mediaType,i["default"].MANIFEST_UPDATE_TRACK_INFO,e)}}function V(e){e.trace&&Array.isArray(e.trace)?e.trace.forEach((function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel})):delete e.trace,M(n["default"].STREAM,i["default"].PLAY_LIST,e)}function H(e){M(n["default"].STREAM,i["default"].DVB_ERRORS,e)}return t={clearCurrentMetricsForType:A,clearAllCurrentMetrics:R,getMetricsFor:I,addHttpRequest:N,addRepresentationSwitch:x,addBufferLevel:O,addBufferState:P,addDVRInfo:L,addDroppedFrames:k,addSchedulingInfo:F,addRequestsQueue:j,addManifestUpdate:B,updateManifestUpdateInfo:U,addManifestUpdateStreamInfo:q,addManifestUpdateRepresentationInfo:G,addPlayList:V,addDVBErrors:H},E(),t}y.__dashjs_factory_name="MetricsModel";const b=v["default"].getSingletonFactory(y)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
  !*** ./src/streaming/models/URIFragmentModel.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../vo/URIFragmentData */"./src/streaming/vo/URIFragmentData.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function a(){var e,t;function r(e){if(t=new n["default"],!e)return null;var r=e.indexOf("#");if(-1!==r)for(var i=e.substr(r+1).split("&"),a=0,o=i.length;a<o;++a){var s=i[a],u=s.indexOf("=");if(-1!==u){var l=s.substring(0,u);t.hasOwnProperty(l)&&(t[l]=s.substr(u+1))}}}function i(){return t}return e={initialize:r,getURIFragmentData:i},e}a.__dashjs_factory_name="URIFragmentModel";const o=i["default"].getSingletonFactory(a)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
  !*** ./src/streaming/models/VideoModel.js ***!
  \********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),a=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),o=r(/*! ../../core/Debug */"./src/core/Debug.js"),s=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),u=new Map([[s["default"].VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[s["default"].VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[s["default"].VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[s["default"].VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function l(){var e,t,r,n,l,c,f,d="element is not video or audio DOM type!",h=this.context,p=(0,i["default"])(h).getInstance(),g=[];function m(){t=(0,o["default"])(h).getInstance().getLogger(e),n=NaN}function v(){p.on(a["default"].PLAYBACK_PLAYING,k,this)}function y(){p.off(a["default"].PLAYBACK_PLAYING,k,this)}function b(){r&&(r.playbackRate=f||1,r.removeEventListener("canplay",b))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r&&(!t&&r.readyState<=2&&e>0?r.addEventListener("canplay",b):r.playbackRate=e)}function _(e,t){r&&(n=e,se(s["default"].VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(function(){if(r.currentTime!==n)try{n=t?T(n):n,r.currentTime=n,n=NaN}catch(e){0===r.readyState&&e.code===e.INVALID_STATE_ERR&&setTimeout((function(){r.currentTime=n,n=NaN}),400)}else n=NaN})))}function T(e){var t=$(),r=e,n=9999999999;if(t)for(var i=0;i<t.length;i++){var a=t.start(i),o=t.end(i),s=Math.abs(a-e),u=Math.abs(o-e);if(e>=a&&e<=o)return e;s<n&&(n=s,r=a),u<n&&(n=u,r=o)}return r}function w(){return r}function S(e){if(!(null===e||void 0===e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw d;r=e,r&&(r.preload="auto")}function A(e){r&&(e?r.src=e:(r.removeAttribute("src"),r.load()))}function R(){return r?r.src:null}function I(){return l}function C(){return c}function D(e){l=e,l.style.position="absolute",l.style.display="flex",l.style.overflow="hidden",l.style.pointerEvents="none",l.style.top=0,l.style.left=0}function N(e){c=e}function x(e,t){L(e,t)}function M(){return g.length>0}function O(e){null!==e&&r&&!r.seeking&&-1===g.indexOf(e)&&g.push(e)}function P(e){var t=g.indexOf(e);null!==e&&-1!==t&&g.splice(t,1)}function L(e,t){t?O(e):P(e)}function k(){if(r&&M()&&0===r.playbackRate){var e=document.createEvent("Event");e.initEvent("waiting",!0,!1),r.dispatchEvent(e)}}function F(){if(!r)return null;var e="webkitDroppedFrameCount"in r&&"webkitDecodedFrameCount"in r,t="getVideoPlaybackQuality"in r,n=null;return t?n=r.getVideoPlaybackQuality():e&&(n={droppedVideoFrames:r.webkitDroppedFrameCount,totalVideoFrames:r.webkitDroppedFrameCount+r.webkitDecodedFrameCount,creationTime:new Date}),n}function j(){if(r){r.autoplay=!0;var e=r.play();e&&e["catch"]&&"undefined"!==typeof Promise&&e["catch"]((function(e){"NotAllowedError"===e.name&&p.trigger(a["default"].PLAYBACK_NOT_ALLOWED),t.warn("Caught pending play exception - continuing (".concat(e,")"))}))}}function B(){return r?r.paused:null}function U(){r&&(r.pause(),r.autoplay=!1)}function q(){return r?r.seeking||!isNaN(n):null}function G(){return r?isNaN(n)?r.currentTime:n:null}function V(){return r?r.playbackRate:null}function H(){return r?r.played:null}function Y(){return r?r.ended:null}function z(e,t){r&&r.addEventListener(e,t)}function K(e,t){r&&r.removeEventListener(e,t)}function W(){return r?r.readyState:NaN}function $(){return r?r.buffered:null}function X(){return r?r.clientWidth:NaN}function Q(){return r?r.clientHeight:NaN}function Z(){return r?r.videoWidth:NaN}function J(){return r?r.videoHeight:NaN}function ee(){var e=r.parentNode.host||r.parentNode;return e?r.getBoundingClientRect().top-e.getBoundingClientRect().top:NaN}function te(){var e=r.parentNode.host||r.parentNode;return e?r.getBoundingClientRect().left-e.getBoundingClientRect().left:NaN}function re(){return r?r.textTracks:[]}function ne(e,t,n,i,a){if(r)for(var o=0;o<r.textTracks.length;o++)if(r.textTracks[o].kind===e&&(!t||r.textTracks[o].label==t)&&r.textTracks[o].language===n&&r.textTracks[o].isTTML===i&&r.textTracks[o].isEmbedded===a)return r.textTracks[o];return null}function ie(e,t,n,i,a){if(!r)return null;var o=ne(e,t,n,i,a);return o||(o=r.addTextTrack(e,t,n),o.isEmbedded=a,o.isTTML=i),o}function ae(e){r&&(r.appendChild(e),void 0!==e.isTTML&&(r.textTracks[r.textTracks.length-1].isTTML=e.isTTML,r.textTracks[r.textTracks.length-1].isEmbedded=e.isEmbedded))}function oe(e){r&&r.removeChild(e)}function se(e,t){if(e===s["default"].VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||W()>=e)t();else{var r=u.get(e);ue(r,t)}}function ue(e,t){var r=function r(){K(e,r),t(e)};z(e,r)}return e={initialize:v,setCurrentTime:_,play:j,isPaused:B,pause:U,isStalled:M,isSeeking:q,getTime:G,getPlaybackRate:V,setPlaybackRate:E,getPlayedRanges:H,getEnded:Y,setStallState:x,getElement:w,setElement:S,setSource:A,getSource:R,getTTMLRenderingDiv:I,setTTMLRenderingDiv:D,getVttRenderingDiv:C,setVttRenderingDiv:N,getPlaybackQuality:F,addEventListener:z,removeEventListener:K,getReadyState:W,getBufferRange:$,getClientWidth:X,getClientHeight:Q,getTextTracks:re,getTextTrack:ne,addTextTrack:ie,appendChild:ae,removeChild:oe,getVideoWidth:Z,getVideoHeight:J,getVideoRelativeOffsetTop:ee,getVideoRelativeOffsetLeft:te,waitForReadyState:se,reset:y},m(),e}l.__dashjs_factory_name="VideoModel";const c=n["default"].getSingletonFactory(l)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
  !*** ./src/streaming/net/FetchLoader.js ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Settings */"./src/core/Settings.js"),a=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),o=r(/*! ../utils/RequestModifier */"./src/streaming/utils/RequestModifier.js");function s(e,t){return c(e)||l(e,t)||d(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)if(r.push(o.value),t&&r.length===t)break}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}return r}}function c(e){if(Array.isArray(e))return e}function f(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(s)throw a}}}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){e=e||{};var t,r,n=this.context,u=e.requestModifier,l=e.lowLatencyThroughputModel,c=e.boxParser,d=(0,i["default"])(n).getInstance();function h(e){r=e.dashMetrics}function p(e){u&&u.modifyRequest?(0,o.modifyRequest)(e,u).then((function(){return g(e)})):g(e)}function g(e){var t,n=new Date,i=e.request,o=new Headers;if(i.range&&o.append("Range","bytes="+i.range),e.headers)for(var h in e.headers){var p=e.headers[h];p&&o.append(h,p)}i.requestStartDate||(i.requestStartDate=n),u&&u.modifyRequestHeader&&u.modifyRequestHeader({setRequestHeader:function(e,t){o.append(e,t)}},{url:e.url}),"function"===typeof window.AbortController&&(t=new AbortController,e.abortController=t,t.signal.onabort=e.onabort);var g={method:e.method,headers:o,credentials:e.withCredentials?"include":void 0,signal:t?t.signal:void 0},y=d.get().streaming.abr.fetchThroughputCalculationMode,_=Date.now(),T=0;new Promise((function(e){if(y===a["default"].ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&l&&(T=l.getThroughputCapacityDelayMS(i,1e3*r.getCurrentBufferLevel(i.mediaType)),T))return setTimeout(e,T);e()})).then((function(){var t=Date.now();fetch(e.url,g).then((function(n){e.response||(e.response={}),e.response.status=n.status,e.response.statusText=n.statusText,e.response.responseURL=n.url,n.ok||e.onerror();var o,u="",d=f(n.headers.keys());try{for(d.s();!(o=d.n()).done;){var h=o.value;u+=h+": "+n.headers.get(h)+"\r\n"}}catch(j){d.e(j)}finally{d.f()}if(e.response.responseHeaders=u,!n.body)return n.arrayBuffer().then((function(t){e.response.response=t;var r={loaded:t.byteLength,total:t.byteLength,stream:!1};e.progress(r),e.onload(),e.onend()}));var p=parseInt(n.headers.get("Content-Length"),10),g=0,w=!1,S=new Uint8Array,A=0;if(y===a["default"].ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&l){var R=function(n){var a=n.getReader(),o=[];a.read().then((function n(s){var c=s.value,f=s.done;if(C=Date.now(),c&&c.length){var d=C-I,h=c.length;o.push({chunkDownloadTimeRelativeMS:C-t,chunkDownloadDurationMS:d,chunkBytes:h,kbps:Math.round(8*h/(d/1e3)),bufferLevel:r.getCurrentBufferLevel(i.mediaType)})}if(f){var p=C-t,g=o.reduce((function(e,t){return e+t.chunkBytes}),0);return l.addMeasurement(i,p,o,_,T,u),void e.progress({loaded:g,total:g,lengthComputable:!0,time:l.getEstimatedDownloadDurationMS(i),stream:!0})}return I=Date.now(),a.read().then(n)}))},I=t,C=0,D=n.body.tee(),N=s(D,2),x=N[0],M=N[1];R(x),e.reader=M.getReader()}else e.reader=n.body.getReader();var O=[],P=[],L=[],k=!0,F=function t(r){var n=r.value,i=r.done;if(i){if(S){if(y!==a["default"].ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var o=null,s=null;y===a["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(o=E(P,L),o&&(s=8*g/o)):y===a["default"].ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(s=b(O,g)),e.progress({loaded:g,total:isNaN(p)?g:p,lengthComputable:!0,time:s,stream:!0})}e.response.response=S.buffer}return e.onload(),void e.onend()}if(n&&n.length>0){if(S=v(S,n),g+=n.length,O.push({ts:Date.now(),bytes:n.length}),y===a["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&k){var u=c.findLastTopIsoBoxCompleted(["moof"],S,A);u.found&&(k=!1,P.push({ts:performance.now(),bytes:n.length}))}var l=c.findLastTopIsoBoxCompleted(["moov","mdat"],S,A);if(l.found){var f,d=l.lastCompletedOffset+l.size;y!==a["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||k||(k=!0,L.push({ts:performance.now(),bytes:S.length})),d===S.length?(f=S,S=new Uint8Array):(f=new Uint8Array(S.subarray(0,d)),S=S.subarray(d)),e.progress({data:f.buffer,lengthComputable:!1,noTrace:!0}),A=0}else A=l.lastCompletedOffset,w||(e.progress({lengthComputable:!1,noTrace:!0}),w=!0)}m(e,t)};m(e,F)}))["catch"]((function(t){e.onerror&&e.onerror(t)}))}))}function m(e,t){e.reader.read().then(t)["catch"]((function(t){e.onerror&&200===e.response.status&&e.onerror(t)}))}function v(e,t){if(0===e.length)return t;var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function y(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel(),e.onabort()}catch(t){}}function b(e,t){try{if(e=e.filter((function(r){return r.bytes>t/4/e.length})),e.length>1){var r=0,n=(e[e.length-1].ts-e[0].ts)/e.length;return e.forEach((function(t,i){var a=e[i+1];if(a){var o=a.ts-t.ts;r+=o<n?o:0}})),r}return null}catch(i){return null}}function E(e,t){try{var r,n;r=e.filter((function(t,r){return r<e.length-1})),n=t.filter((function(e,r){return r<t.length-1}));var i=[];if(r.length>1){for(var a=0,o=0,s=0;s<r.length;s++)if(r[s]&&n[s]){var u=n[s].ts-r[s].ts;if(u>1)i.push(8*n[s].bytes/u);else{0===o&&(o=r[s].ts);var l=n[s].ts-o;l>1?(i.push(8*a/l),a=0,o=0):a+=n[s].bytes}}if(i.length>0){var c=i.reduce((function(e,t){return e+t}),0);return c/i.length}}return null}catch(f){return null}}return t={load:p,abort:y,calculateDownloadedTime:b,setup:h},t}p.__dashjs_factory_name="FetchLoader";var g=n["default"].getClassFactory(p);const m=g},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
  !*** ./src/streaming/net/HTTPLoader.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(/*! ./XHRLoader */"./src/streaming/net/XHRLoader.js"),i=r(/*! ./FetchLoader */"./src/streaming/net/FetchLoader.js"),a=r(/*! ../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),o=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),s=r(/*! ../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),u=r(/*! ../models/CmcdModel */"./src/streaming/models/CmcdModel.js"),l=r(/*! ../models/CmsdModel */"./src/streaming/models/CmsdModel.js"),c=r(/*! ../../core/Utils */"./src/core/Utils.js"),f=r(/*! ../../core/Debug */"./src/core/Debug.js"),d=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),h=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),p=r(/*! ../../core/Settings */"./src/core/Settings.js"),g=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),m=r(/*! ../models/LowLatencyThroughputModel */"./src/streaming/models/LowLatencyThroughputModel.js"),v=r(/*! ../models/CustomParametersModel */"./src/streaming/models/CustomParametersModel.js");function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){e=e||{};var t,r,o,b,E,_,T,w,S,A,R=this.context,I=e.errHandler,C=e.dashMetrics,D=e.mediaPlayerModel,N=e.requestModifier,x=e.boxParser,M=e.errors,O=e.requestTimeout||0,P=(0,d["default"])(R).getInstance(),L=(0,p["default"])(R).getInstance();function k(){var e;A=(0,f["default"])(R).getInstance().getLogger(t),r=[],o=[],b=[],_=(0,u["default"])(R).getInstance(),T=(0,l["default"])(R).getInstance(),S=(0,m["default"])(R).getInstance(),w=(0,v["default"])(R).getInstance(),e={},y(e,a.HTTPRequest.MPD_TYPE,M.DOWNLOAD_ERROR_ID_MANIFEST_CODE),y(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,M.DOWNLOAD_ERROR_ID_XLINK_CODE),y(e,a.HTTPRequest.INIT_SEGMENT_TYPE,M.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),y(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,M.DOWNLOAD_ERROR_ID_CONTENT_CODE),y(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,M.DOWNLOAD_ERROR_ID_CONTENT_CODE),y(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,M.DOWNLOAD_ERROR_ID_CONTENT_CODE),y(e,a.HTTPRequest.OTHER_TYPE,M.DOWNLOAD_ERROR_ID_CONTENT_CODE),E=e}function F(e,t){var u,l=e.request,f=[],d=!0,p=!0,m=new Date,v=m,y=0,M=null;if(!N||!C||!I)throw new Error("config object is not correct or missing");var k,B=function(e){if(p=!1,l.requestStartDate=m,l.requestEndDate=new Date,l.firstByteDate=l.firstByteDate||m,l.fileLoaderType=M,!l.checkExistenceOnly){var t=u.response?u.response.responseURL:null,r=u.response?u.response.status:null,n=u.response&&u.response.getAllResponseHeaders?u.response.getAllResponseHeaders():u.response?u.response.responseHeaders:null,i=L.get().streaming.cmsd&&L.get().streaming.cmsd.enabled?T.parseResponseHeaders(n,l.mediaType):null;C.addHttpRequest(l,t,r,n,e?f:null,i),l.type===a.HTTPRequest.MPD_TYPE&&C.addManifestUpdate(l)}},U=function(){if(-1!==r.indexOf(u)&&(r.splice(r.indexOf(u),1),p))if(B(!1),t>0){try{if(L.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&l.type===a.HTTPRequest.MEDIA_SEGMENT_TYPE){var n=D.getRetryAttemptsForType(a.HTTPRequest.MEDIA_SEGMENT_TYPE);n===t&&P.trigger(h["default"].ATTEMPT_BACKGROUND_SYNC)}}catch(o){}t--;var i={config:e};b.push(i),i.timeout=setTimeout((function(){-1!==b.indexOf(i)&&(b.splice(b.indexOf(i),1),F(e,t))}),D.getRetryIntervalsForType(l.type))}else{if(l.type===a.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;I.error(new s["default"](E[l.type],l.url+" is not available",{request:l,response:u.response})),e.error&&e.error(l,"error",u.response.statusText),e.complete&&e.complete(l,u.response.statusText)}},q=function(t){var r=new Date;d&&(d=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(l.firstByteDate=r)),t.lengthComputable&&(l.bytesLoaded=t.loaded,l.bytesTotal=t.total),t.noTrace||(f.push({s:v,d:t.time?t.time:r.getTime()-v.getTime(),b:[t.loaded?t.loaded-y:0]}),v=r,y=t.loaded),e.progress&&t&&e.progress(t)},G=function(){u.response.status>=200&&u.response.status<=299&&(B(!0),e.success&&e.success(u.response.response,u.response.statusText,u.response.responseURL),e.complete&&e.complete(l,u.response.statusText))},V=function(){e.abort&&e.abort(l)},H=function(e){var t;if(e.lengthComputable){var r=e.loaded/e.total*100;t="Request timeout: loaded: "+e.loaded+", out of: "+e.total+" : "+r.toFixed(3)+"% Completed"}else t="Request timeout: non-computable download size";A.warn(t)};l.hasOwnProperty("availabilityTimeComplete")&&!1===l.availabilityTimeComplete&&window.fetch&&"arraybuffer"===l.responseType&&l.type===a.HTTPRequest.MEDIA_SEGMENT_TYPE?(k=(0,i["default"])(R).create({requestModifier:N,lowLatencyThroughputModel:S,boxParser:x}),k.setup({dashMetrics:C}),M=g["default"].FILE_LOADER_TYPES.FETCH):(k=(0,n["default"])(R).create({requestModifier:N}),M=g["default"].FILE_LOADER_TYPES.XHR);var Y=null,z=N.modifyRequestURL?N.modifyRequestURL(l.url):l.url;if(L.get().streaming.cmcd&&L.get().streaming.cmcd.enabled){var K=L.get().streaming.cmcd.mode;if(K===g["default"].CMCD_MODE_QUERY){var W=j(l);z=c["default"].addAditionalQueryParameterToUrl(z,W)}else K===g["default"].CMCD_MODE_HEADER&&(Y=_.getHeaderParameters(l))}l.url=z;var $=l.checkExistenceOnly?a.HTTPRequest.HEAD:a.HTTPRequest.GET,X=w.getXHRWithCredentialsForType(l.type);u={url:z,method:$,withCredentials:X,request:l,onload:G,onend:U,onerror:U,progress:q,onabort:V,ontimeout:H,loader:k,timeout:O,headers:Y};var Q=(new Date).getTime();if(isNaN(l.delayLoadingTime)||Q>=l.delayLoadingTime)r.push(u),k.load(u);else{var Z={httpRequest:u};o.push(Z),Z.delayTimeout=setTimeout((function(){if(-1!==o.indexOf(Z)){o.splice(o.indexOf(Z),1);try{m=new Date,v=m,r.push(Z.httpRequest),k.load(Z.httpRequest)}catch(e){Z.httpRequest.onerror()}}}),l.delayLoadingTime-Q)}}function j(e){try{var t=[],r=_.getQueryParameter(e);return r&&t.push(r),t}catch(n){return[]}}function B(e){e.request?F(e,D.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")}function U(){b.forEach((function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)})),b=[],o.forEach((function(e){return clearTimeout(e.delayTimeout)})),o=[],r.forEach((function(e){e.request.type!==a.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e))})),r=[]}return t={load:B,abort:U},k(),t}b.__dashjs_factory_name="HTTPLoader";var E=o["default"].getClassFactory(b);const _=E},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../streaming/net/HTTPLoader */"./src/streaming/net/HTTPLoader.js");function a(){var e,t;function r(e,r){t[e]=r}function n(e){t[e]&&delete t[e]}function a(){t={}}function o(e){for(var r in t)if(t.hasOwnProperty(r)&&e.startsWith(r))return t[r];return i["default"]}function s(){a()}function u(){s()}return u(),e={getLoader:o,registerLoader:r,unregisterLoader:n,unregisterAllLoader:a,reset:s},e}a.__dashjs_factory_name="SchemeLoaderFactory";var o=n["default"].getSingletonFactory(a);const s=o},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
  !*** ./src/streaming/net/URLLoader.js ***!
  \****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../streaming/net/SchemeLoaderFactory */"./src/streaming/net/SchemeLoaderFactory.js");function a(e){e=e||{};var t,r,n,a=this.context;function o(t){if(!n){var i=r.getLoader(t&&t.request?t.request.url:null);n=i(a).create({errHandler:e.errHandler,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,dashMetrics:e.dashMetrics,boxParser:e.boxParser?e.boxParser:null,constants:e.constants?e.constants:null,dashConstants:e.dashConstants?e.dashConstants:null,urlUtils:e.urlUtils?e.urlUtils:null,requestTimeout:isNaN(e.requestTimeout)?0:e.requestTimeout,errors:e.errors})}n.load(t)}function s(){n&&n.abort()}return r=(0,i["default"])(a).getInstance(),t={load:o,abort:s},t}a.__dashjs_factory_name="URLLoader";var o=n["default"].getClassFactory(a);const s=o},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
  !*** ./src/streaming/net/XHRLoader.js ***!
  \****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../utils/RequestModifier */"./src/streaming/utils/RequestModifier.js");function a(e){e=e||{};var t,r=e.requestModifier;function n(e){r&&r.modifyRequest?(0,i.modifyRequest)(e,r).then((function(){return a(e)})):a(e)}function a(e){var t=new Date,n=e.request,i=new XMLHttpRequest;if(i.open(e.method,e.url,!0),n.responseType&&(i.responseType=n.responseType),n.range&&i.setRequestHeader("Range","bytes="+n.range),n.requestStartDate||(n.requestStartDate=t),r&&r.modifyRequestHeader&&(i=r.modifyRequestHeader(i,{url:e.url})),e.headers)for(var a in e.headers){var o=e.headers[a];o&&i.setRequestHeader(a,o)}i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.ontimeout=e.ontimeout,i.timeout=e.timeout,i.send(),e.response=i}function o(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}return t={load:n,abort:o},t}a.__dashjs_factory_name="XHRLoader";var o=n["default"].getClassFactory(a);const s=o},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
  !*** ./src/streaming/protection/CommonEncryption.js ***!
  \******************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>u});var o={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},s=function(){function e(){n(this,e)}return a(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,r=0;r<e.length;++r){var n=e[r];"urn:mpeg:dash:mp4protection:2011"!==n.schemeIdUri.toLowerCase()||"cenc"!==n.value.toLowerCase()&&"cbcs"!==n.value.toLowerCase()||(t=n)}return t}},{key:"getPSSHData",value:function(e){var t=8,r=new DataView(e),n=r.getUint8(t);return t+=20,n>0&&(t+=4+16*r.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,r){var n=e.parsePSSHList(r);return t&&n.hasOwnProperty(t.uuid.toLowerCase())?n[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?(e.pssh.__text=e.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),t.decodeArray(e.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(e){if(null===e||void 0===e)return[];var t=new DataView(e.buffer||e),r=!1,n={},i=0;while(!r){var a=void 0,o=void 0,s=void 0,u=void 0,l=i;if(i>=t.buffer.byteLength)break;if(a=t.getUint32(i),o=i+a,i+=4,1886614376===t.getUint32(i))if(i+=4,s=t.getUint8(i),0===s||1===s){i++,i+=3,u="";var c=void 0,f=void 0;for(c=0;c<4;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;for(i+=4,u+="-",c=0;c<2;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;for(i+=2,u+="-",c=0;c<2;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;for(i+=2,u+="-",c=0;c<2;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;for(i+=2,u+="-",c=0;c<6;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;i+=6,u=u.toLowerCase(),i+=4,n[u]=t.buffer.slice(l,o),i=o}else i=o;else i=o}return n}},{key:"getLicenseServerUrlFromMediaInfo",value:function(e,t){try{if(!e||0===e.length)return null;var r=0,n=null;while(r<e.length&&!n){var i=e[r];if(i&&i.contentProtection&&i.contentProtection.length>0){var a=i.contentProtection.filter((function(e){return e.schemeIdUri&&e.schemeIdUri===t}));if(a&&a.length>0){var s=0;while(s<a.length&&!n){var u=a[s],l=0;while(l<o.attributes.length&&!n){var c=0,f=o.attributes[l];while(c<o.prefixes.length&&!n){var d=o.prefixes[c];u[f]&&u[f].__prefix&&u[f].__prefix===d&&u[f].__text&&(n=u[f].__text),c+=1}l+=1}s+=1}}}r+=1}return n}catch(h){return null}}}]),e}();const u=s},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
  !*** ./src/streaming/protection/Protection.js ***!
  \************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ./controllers/ProtectionController */"./src/streaming/protection/controllers/ProtectionController.js"),i=r(/*! ./controllers/ProtectionKeyController */"./src/streaming/protection/controllers/ProtectionKeyController.js"),a=r(/*! ./ProtectionEvents */"./src/streaming/protection/ProtectionEvents.js"),o=r(/*! ./errors/ProtectionErrors */"./src/streaming/protection/errors/ProtectionErrors.js"),s=r(/*! ./models/ProtectionModel_21Jan2015 */"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),u=r(/*! ./models/ProtectionModel_3Feb2014 */"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),l=r(/*! ./models/ProtectionModel_01b */"./src/streaming/protection/models/ProtectionModel_01b.js"),c=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],f=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function d(){var e,t=this.context;function r(e){var r=null,o=(0,i["default"])(t).getInstance();o.setConfig({debug:e.debug,BASE64:e.BASE64,settings:e.settings}),o.initialize();var s=a(e);return!r&&s&&(r=(0,n["default"])(t).create({protectionModel:s,protectionKeyController:o,eventBus:e.eventBus,debug:e.debug,events:e.events,BASE64:e.BASE64,constants:e.constants,cmcdModel:e.cmcdModel,customParametersModel:e.customParametersModel,settings:e.settings}),e.capabilities.setEncryptedMediaSupported(!0)),r}function a(r){var n=r.debug,i=n.getLogger(e),a=r.eventBus,d=r.errHandler,h=r.videoModel?r.videoModel.getElement():null;return h&&void 0===h.onencrypted||h&&void 0===h.mediaKeys?o(h,f)?(i.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,u["default"])(t).create({debug:n,eventBus:a,events:r.events,api:o(h,f)})):o(h,c)?(i.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,l["default"])(t).create({debug:n,eventBus:a,errHandler:d,events:r.events,api:o(h,c)})):(i.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(i.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,s["default"])(t).create({debug:n,eventBus:a,events:r.events}))}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];if("function"===typeof e[n[Object.keys(n)[0]]])return n}return null}return e={createProtectionSystem:r},e}d.__dashjs_factory_name="Protection";var h=dashjs.FactoryMaker.getClassFactory(d);h.events=a["default"],h.errors=o["default"],dashjs.FactoryMaker.updateClassFactory(d.__dashjs_factory_name,h);const p=h},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
  !*** ./src/streaming/protection/ProtectionEvents.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../../core/events/EventsBase */"./src/core/events/EventsBase.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(){var e;return a(this,r),e=t.call(this),e.INTERNAL_KEY_MESSAGE="internalKeyMessage",e.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",e.KEY_ADDED="public_keyAdded",e.KEY_ERROR="public_keyError",e.KEY_MESSAGE="public_keyMessage",e.KEY_SESSION_CLOSED="public_keySessionClosed",e.KEY_SESSION_CREATED="public_keySessionCreated",e.KEY_SESSION_REMOVED="public_keySessionRemoved",e.KEY_STATUSES_CHANGED="public_keyStatusesChanged",e.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",e.KEY_SYSTEM_SELECTED="public_keySystemSelected",e.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",e.LICENSE_REQUEST_SENDING="public_licenseRequestSending",e.NEED_KEY="needkey",e.PROTECTION_CREATED="public_protectioncreated",e.PROTECTION_DESTROYED="public_protectiondestroyed",e.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",e.TEARDOWN_COMPLETE="protectionTeardownComplete",e.VIDEO_ELEMENT_SELECTED="videoElementSelected",e.KEY_SESSION_UPDATED="public_keySessionUpdated",e}return r}(n["default"]),p=new h;const g=p},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
  \**********************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(/*! ../CommonEncryption */"./src/streaming/protection/CommonEncryption.js"),i=r(/*! ../vo/MediaCapability */"./src/streaming/protection/vo/MediaCapability.js"),a=r(/*! ../vo/KeySystemConfiguration */"./src/streaming/protection/vo/KeySystemConfiguration.js"),o=r(/*! ../errors/ProtectionErrors */"./src/streaming/protection/errors/ProtectionErrors.js"),s=r(/*! ../../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),u=r(/*! ../vo/LicenseRequest */"./src/streaming/protection/vo/LicenseRequest.js"),l=r(/*! ../vo/LicenseResponse */"./src/streaming/protection/vo/LicenseResponse.js"),c=r(/*! ../../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),f=r(/*! ../../../core/Utils */"./src/core/Utils.js"),d=r(/*! ../../constants/Constants */"./src/streaming/constants/Constants.js"),h=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js");function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var g=5,m=500,v=3,y=1e3,b=8e3;function E(e){e=e||{};var t,r,h,E,_,T,w,S,A,R,I,C=e.protectionKeyController,D=e.protectionModel,N=e.eventBus,x=e.events,M=e.debug,O=e.BASE64,P=e.constants,L=[],k=e.cmcdModel,F=e.settings,j=e.customParametersModel;function B(){r=M.getLogger(t),h=[],E=[],T="temporary",w="",R=null,I=null,N.on(x.INTERNAL_KEY_MESSAGE,de,t),N.on(x.INTERNAL_KEY_STATUS_CHANGED,fe,t)}function U(){if(!N||!N.hasOwnProperty("on")||!C||!C.hasOwnProperty("getSupportedKeySystemsFromContentProtection"))throw new Error("Missing config parameter(s)")}function q(e){if(!e)throw new Error("mediaInfo can not be null or undefined");U(),E.push(e)}function G(){if(E&&0!==E.length){var e=[];E.forEach((function(t){var r=C.getSupportedKeySystemsFromContentProtection(t.contentProtection,_,T);r.length>0&&(0===e.length&&(e=r),h.push(r))})),e&&e.length>0&&H(e,!0)}}function V(e){h.push(e),H(e,!1)}function H(e,t){S||A?S&&z():Y(e,t)}function Y(e,t){if(!A){A=!0;var n,i=[];e=e.sort((function(t,r){var n=_&&_[t.ks.systemString]&&_[t.ks.systemString].priority>=0?_[t.ks.systemString].priority:e.length,i=_&&_[r.ks.systemString]&&_[r.ks.systemString].priority>=0?_[r.ks.systemString].priority:e.length;return n-i}));for(var a=0;a<e.length;a++){var u=ce(e[a]);i.push({ks:e[a].ks,configs:[u],protData:e[a].protData})}D.requestKeySystemAccess(i).then((function(e){n=e.data;var t=n.mksa&&n.mksa.selectedSystemString?n.mksa.selectedSystemString:n.keySystem.systemString;return r.info("DRM: KeySystem Access Granted for system string ("+t+")!  Selecting key system..."),D.selectKeySystem(n)})).then((function(e){if(S=e,A=!1,D){N.trigger(x.KEY_SYSTEM_SELECTED,{data:n});var t=X(S);t&&t.serverCertificate&&t.serverCertificate.length>0&&D.setServerCertificate(O.decodeArray(t.serverCertificate).buffer),z()}}))["catch"]((function(e){S=null,A=!1,t||N.trigger(x.KEY_SYSTEM_SELECTED,{data:null,error:new s["default"](o["default"].KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,o["default"].KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+e.error)})}))}}function z(){for(var e,t=0;t<h.length;t++)for(e=0;e<h[t].length;e++)if(S===h[t][e].ks){var r=h[t][e];K(r);break}h=[]}function K(e){if(C.isClearKey(S)&&e.protData&&e.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(e.protData.clearkeys).length){var t={kids:Object.keys(e.protData.clearkeys)};e.initData=(new TextEncoder).encode(JSON.stringify(t))}e.sessionId?W(e):null!==e.initData&&$(e)}function W(e){U(),D.loadKeySession(e)}function $(e){var t=n["default"].getPSSHForKeySystem(S,e?e.initData:null);if(t){if(J(e.keyId))return;if(ee(t))return;try{e.initData=t,D.createKeySession(e)}catch(r){N.trigger(x.KEY_SESSION_CREATED,{data:null,error:new s["default"](o["default"].KEY_SESSION_CREATED_ERROR_CODE,o["default"].KEY_SESSION_CREATED_ERROR_MESSAGE+r.message)})}}else e&&e.initData?D.createKeySession(e):N.trigger(x.KEY_SESSION_CREATED,{data:null,error:new s["default"](o["default"].KEY_SESSION_CREATED_ERROR_CODE,o["default"].KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(S?S.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function X(e){if(e){var t=e.systemString;if(_)return t in _?_[t]:null}return null}function Q(){E=[]}function Z(e){return U(),C.getSupportedKeySystemsFromContentProtection(e,_,T)}function J(e){if(!e)return!1;try{for(var t=D.getSessions(),r=0;r<t.length;r++)if(t[r].getKeyId()===e)return!0;return!1}catch(n){return!1}}function ee(e){if(!e)return!1;try{for(var t=D.getAllInitData(),n=0;n<t.length;n++)if(C.initDataEquals(e,t[n]))return r.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch(i){return!1}}function te(e){U(),D.removeKeySession(e)}function re(e){U(),D.closeKeySession(e)}function ne(e){U(),D.setServerCertificate(e)}function ie(e){U(),e?(D.setMediaElement(e),N.on(x.NEED_KEY,_e,t)):null===e&&(D.setMediaElement(e),N.off(x.NEED_KEY,_e,t))}function ae(e){T=e}function oe(e){w=e}function se(e){_=e,C.setProtectionData(e)}function ue(){me(),D&&D.stop()}function le(){N.off(x.INTERNAL_KEY_MESSAGE,de,t),N.off(x.INTERNAL_KEY_STATUS_CHANGED,fe,t),U(),me(),ie(null),S=null,A=!1,D&&(D.reset(),D=null),L.forEach((function(e){return clearTimeout(e)})),L=[],E=[],h=[]}function ce(e){var t=e.protData,r=[],n=[],o=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:w,s=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:w,u=e.sessionType,l=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",c=t&&t.persistentState?t.persistentState:"temporary"===u?"optional":"required";return E.forEach((function(e){e.type===P.AUDIO?r.push(new i["default"](e.codec,o)):e.type===P.VIDEO&&n.push(new i["default"](e.codec,s))})),new a["default"](r,n,l,c,[u])}function fe(e){e.error?N.trigger(x.KEY_STATUSES_CHANGED,{data:null,error:e.error}):r.debug("DRM: key status = "+e.status)}function de(e){r.debug("DRM: onKeyMessage");var t=e.data;N.trigger(x.KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",i=t.message,a=t.sessionToken,u=X(S),l=C.getLicenseServerModelInstance(S,u,n),c={sessionToken:a,messageType:n};if(i&&0!==i.byteLength){if(!l)return r.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+a.getSessionId()),void he(c);if(C.isClearKey(S)){var f=C.processClearKeyLicenseRequest(S,u,i);if(f&&f.keyPairs&&f.keyPairs.length>0)return r.debug("DRM: ClearKey license request handled by application!"),he(c),void D.updateKeySession(a,f)}pe(t,l,u)}else he(c,new s["default"](o["default"].MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,o["default"].MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function he(e,t){N.trigger(x.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function pe(e,t,r){var n=e.sessionToken,i=e.messageType?e.messageType:"license-request",a={sessionToken:n,messageType:i},d=S?S.systemString:null,h=ve(r,i,n,e,t);if(h){var p={},g=!1;r&&ye(p,r.httpRequestHeaders);var m=e.message,y=S.getRequestHeadersFromMessage(m);ye(p,y),Object.keys(p).forEach((function(e){"authorization"===e.toLowerCase()&&(g=!0)})),r&&"boolean"==typeof r.withCredentials&&(g=r.withCredentials);var E=function(e){if(D)if(e.status>=200&&e.status<=299){var r=f["default"].parseHttpHeaders(e.getAllResponseHeaders?e.getAllResponseHeaders():null),o=new l["default"](e.responseURL,r,e.response),s=j.getLicenseResponseFilters();Ee(s,o).then((function(){var r=t.getLicenseMessage(o.data,d,i);null!==r?(he(a),D.updateKeySession(n,r)):be(e,a,d,i,t)}))}else be(e,a,d,i,t)},_=function(e){he(a,new s["default"](o["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,o["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+d+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},T=function(e){he(a,new s["default"](o["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,o["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+d+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},w=S.getLicenseRequestFromMessage(m),A=t.getHTTPMethod(i),R=t.getResponseType(d,i),I=r&&!isNaN(r.httpTimeout)?r.httpTimeout:b,C=n.getSessionId()||null,N=new u["default"](h,A,R,p,g,i,C,w),x=isNaN(F.get().streaming.retryAttempts[c.HTTPRequest.LICENSE])?v:F.get().streaming.retryAttempts[c.HTTPRequest.LICENSE],M=j.getLicenseRequestFilters();Ee(M,N).then((function(){ge(N,x,I,E,_,T)}))}else he(a,new s["default"](o["default"].MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,o["default"].MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}function ge(e,t,n,i,a,o){var s=new XMLHttpRequest;if(F.get().streaming.cmcd&&F.get().streaming.cmcd.enabled){var u=F.get().streaming.cmcd.mode;if(u===d["default"].CMCD_MODE_QUERY){var l=k.getQueryParameter({url:e.url,type:c.HTTPRequest.LICENSE});l&&(e.url=f["default"].addAditionalQueryParameterToUrl(e.url,[l]))}}for(var h in s.open(e.method,e.url,!0),s.responseType=e.responseType,s.withCredentials=e.withCredentials,n>0&&(s.timeout=n),e.headers)s.setRequestHeader(h,e.headers[h]);if(F.get().streaming.cmcd&&F.get().streaming.cmcd.enabled){var p=F.get().streaming.cmcd.mode;if(p===d["default"].CMCD_MODE_HEADER){var g=k.getHeaderParameters({url:e.url,type:c.HTTPRequest.LICENSE});if(g)for(var m in g){var v=g[m];v&&s.setRequestHeader(m,v)}}}var b=function(){t--;var r=isNaN(F.get().streaming.retryIntervals[c.HTTPRequest.LICENSE])?y:F.get().streaming.retryIntervals[c.HTTPRequest.LICENSE];I=setTimeout((function(){ge(e,t,n,i,a,o)}),r)};s.onload=function(){R=null,this.status>=200&&this.status<=299||t<=0?i(this):(r.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+t),b())},s.ontimeout=s.onerror=function(){R=null,t<=0?o(this):(r.warn("License request network request failed . Retrying it... Pending retries: "+t),b())},s.onabort=function(){a(this)},N.trigger(x.LICENSE_REQUEST_SENDING,{url:e.url,headers:e.headers,payload:e.data,sessionId:e.sessionId}),R=s,s.send(e.data)}function me(){R&&(R.onloadend=R.onerror=R.onprogress=void 0,R.abort(),R=null),I&&(clearTimeout(I),I=null)}function ve(e,t,r,i,a){var o=null,s=i.message;if(e&&e.serverURL){var u=e.serverURL;"string"===typeof u&&""!==u?o=u:"object"===p(u)&&u.hasOwnProperty(t)&&(o=u[t])}else if(e&&e.laURL&&""!==e.laURL)o=e.laURL;else if(o=n["default"].getLicenseServerUrlFromMediaInfo(E,S.schemeIdURI),!o&&!C.isClearKey(S)){var l=n["default"].getPSSHData(r.initData);o=S.getLicenseServerURLFromInitData(l),o||(o=i.laURL)}return o=a.getServerURLFromMessage(o,s,t),o}function ye(e,t){if(t)for(var r in t)e[r]=t[r]}function be(e,t,r,n,i){var a="NONE",u=null;e.response&&(a=i.getErrorResponse(e.response,r,n),u={serverResponse:e.response||null,responseCode:e.status||null,responseText:e.statusText||null}),he(t,new s["default"](o["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,o["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+r+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+a,u))}function Ee(e,t){return e?e.reduce((function(e,r){return e.then((function(){return r(t)}))}),Promise.resolve()):Promise.resolve()}function _e(e,t){if(!F.get().streaming.protection.ignoreEmeEncryptedEvent){if(r.debug("DRM: onNeedKey"),"cenc"!==e.key.initDataType)return void r.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);if(0===E.length&&(r.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),t="undefined"===typeof t?1:t+1,t<g))return void L.push(setTimeout((function(){_e(e,t)}),m));var i=e.key.initData;if(ArrayBuffer.isView(i)&&(i=i.buffer),S){var a=n["default"].getPSSHForKeySystem(S,i);if(a&&ee(a))return}r.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(i)));var o=C.getSupportedKeySystemsFromSegmentPssh(i,_,T);if(0===o.length)return void r.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");V(o)}}function Te(){return C?C.getKeySystems():[]}function we(e){C&&C.setKeySystems(e)}return t={initializeForMedia:q,clearMediaInfoArray:Q,handleKeySystemFromManifest:G,createKeySession:$,loadKeySession:W,removeKeySession:te,closeKeySession:re,setServerCertificate:ne,setMediaElement:ie,setSessionType:ae,setRobustnessLevel:oe,setProtectionData:se,getSupportedKeySystemsFromContentProtection:Z,getKeySystems:Te,setKeySystems:we,stop:ue,reset:le},B(),t}E.__dashjs_factory_name="ProtectionController";const _=h["default"].getClassFactory(E)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
  \*************************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ./../CommonEncryption */"./src/streaming/protection/CommonEncryption.js"),i=r(/*! ./../drm/KeySystemClearKey */"./src/streaming/protection/drm/KeySystemClearKey.js"),a=r(/*! ./../drm/KeySystemW3CClearKey */"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),o=r(/*! ./../drm/KeySystemWidevine */"./src/streaming/protection/drm/KeySystemWidevine.js"),s=r(/*! ./../drm/KeySystemPlayReady */"./src/streaming/protection/drm/KeySystemPlayReady.js"),u=r(/*! ./../servers/DRMToday */"./src/streaming/protection/servers/DRMToday.js"),l=r(/*! ./../servers/PlayReady */"./src/streaming/protection/servers/PlayReady.js"),c=r(/*! ./../servers/Widevine */"./src/streaming/protection/servers/Widevine.js"),f=r(/*! ./../servers/ClearKey */"./src/streaming/protection/servers/ClearKey.js"),d=r(/*! ../../constants/ProtectionConstants */"./src/streaming/constants/ProtectionConstants.js");function h(){var e,t,r,h,p,g,m,v,y=this.context;function b(n){n&&(n.debug&&(t=n.debug,r=t.getLogger(e)),n.BASE64&&(p=n.BASE64),n.settings&&(g=n.settings))}function E(){var e;h=[],e=(0,s["default"])(y).getInstance({BASE64:p,settings:g}),h.push(e),e=(0,o["default"])(y).getInstance({BASE64:p}),h.push(e),e=(0,i["default"])(y).getInstance({BASE64:p}),h.push(e),m=e,e=(0,a["default"])(y).getInstance({BASE64:p,debug:t}),h.push(e),v=e}function _(){return h}function T(e){h=e}function w(e){for(var t=0;t<h.length;t++)if(h[t].systemString===e)return h[t];return null}function S(e){return e===m||e===v}function A(e,t){if(e.byteLength===t.byteLength){for(var r=new Uint8Array(e),n=new Uint8Array(t),i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}return!1}function R(e,t,r){var i,a,o,s,u=[];if(e){var l=n["default"].findCencContentProtection(e);for(o=0;o<h.length;++o){a=h[o];var c=x(a.systemString,t);for(s=0;s<e.length;++s)if(i=e[s],i.schemeIdUri.toLowerCase()===a.schemeIdURI){var f=a.getInitData(i,l);u.push({ks:h[o],keyId:i.keyId,initData:f,protData:c,cdmData:a.getCDMData(c?c.cdmData:null),sessionId:M(c,i),sessionType:O(c,r)})}}}return u}function I(e,t,r){for(var i,a,o=[],s=n["default"].parsePSSHList(e),u=0;u<h.length;++u){i=h[u],a=i.systemString;var l=x(a,t);i.uuid in s&&o.push({ks:i,initData:s[i.uuid],protData:l,cdmData:i.getCDMData(l?l.cdmData:null),sessionId:M(l),sessionType:O(l,r)})}return o}function C(e,t,r){if("license-release"===r||"individualization-request"===r)return null;var n=null;return t&&t.hasOwnProperty("drmtoday")?n=(0,u["default"])(y).getInstance({BASE64:p}):e.systemString===d["default"].WIDEVINE_KEYSTEM_STRING?n=(0,c["default"])(y).getInstance():e.systemString===d["default"].PLAYREADY_KEYSTEM_STRING?n=(0,l["default"])(y).getInstance():e.systemString===d["default"].CLEARKEY_KEYSTEM_STRING&&(n=(0,f["default"])(y).getInstance()),n}function D(e,t,n){try{return e.getClearKeysFromProtectionData(t,n)}catch(i){return r.error("Failed to retrieve clearkeys from ProtectionData"),null}}function N(e){for(var t=function(t){var r=null;return e&&(r=t in e?e[t]:null),r},r=0;r<h.length;r++){var n=h[r];n.hasOwnProperty("init")&&n.init(t(n.systemString))}}function x(e,t){return t&&e in t?t[e]:null}function M(e,t){return e&&e.sessionId?e.sessionId:t&&t.sessionId?t.sessionId:null}function O(e,t){return e&&e.sessionType?e.sessionType:t}return e={initialize:E,setProtectionData:N,isClearKey:S,initDataEquals:A,getKeySystems:_,setKeySystems:T,getKeySystemBySystemString:w,getSupportedKeySystemsFromContentProtection:R,getSupportedKeySystemsFromSegmentPssh:I,getLicenseServerModelInstance:C,processClearKeyLicenseRequest:D,setConfig:b},e}h.__dashjs_factory_name="ProtectionKeyController";const p=dashjs.FactoryMaker.getSingletonFactory(h)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
  \***********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../vo/KeyPair */"./src/streaming/protection/vo/KeyPair.js"),i=r(/*! ../vo/ClearKeyKeySet */"./src/streaming/protection/vo/ClearKeyKeySet.js"),a=r(/*! ../CommonEncryption */"./src/streaming/protection/CommonEncryption.js"),o=r(/*! ../../constants/ProtectionConstants */"./src/streaming/constants/ProtectionConstants.js"),s="e2719d58-a985-b3c9-781a-b030af78d30e",u=o["default"].CLEARKEY_KEYSTEM_STRING,l="urn:uuid:"+s;function c(e){var t;e=e||{};var r=e.BASE64;function o(e,t){var r=null;if(e){for(var a=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),o=[],s=0;s<a.kids.length;s++){var u=a.kids[s],l=e.clearkeys&&e.clearkeys.hasOwnProperty(u)?e.clearkeys[u]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+u+") is not known!");o.push(new n["default"](u,l))}r=new i["default"](o)}return r}function c(e,t){try{var n=a["default"].parseInitDataFromContentProtection(e,r);if(!n&&t){var i=f(t["cenc:default_KID"]),o={kids:[i]};n=(new TextEncoder).encode(JSON.stringify(o))}return n}catch(s){return null}}function f(e){try{var t=e.replace(/-/g,"");return t=btoa(t.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join("")),t.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch(r){return null}}function d(){return{"Content-Type":"application/json"}}function h(e){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))))}function p(){return null}function g(){return null}return t={uuid:s,schemeIdURI:l,systemString:u,getInitData:c,getRequestHeadersFromMessage:d,getLicenseRequestFromMessage:h,getLicenseServerURLFromInitData:p,getCDMData:g,getClearKeysFromProtectionData:o},t}c.__dashjs_factory_name="KeySystemClearKey";const f=dashjs.FactoryMaker.getSingletonFactory(c)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
  \************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ../CommonEncryption */"./src/streaming/protection/CommonEncryption.js"),i=r(/*! ../../constants/ProtectionConstants */"./src/streaming/constants/ProtectionConstants.js"),a="9a04f079-9840-4286-ab92-e65be0885f95",o=i["default"].PLAYREADY_KEYSTEM_STRING,s="urn:uuid:"+a,u='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>';function l(e){var t;e=e||{};var r="utf-16",i=e.BASE64,l=e.settings;function c(){if(!i||!i.hasOwnProperty("decodeArray")||!i.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}function f(e){var t,n,i={},a=new DOMParser;if(l&&l.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===r&&e&&e.byteLength%2===1)return i["Content-Type"]="text/xml; charset=utf-8",i;var o="utf-16"===r?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,o),n=a.parseFromString(t,"application/xml");for(var s=n.getElementsByTagName("name"),u=n.getElementsByTagName("value"),c=0;c<s.length;c++)i[s[c].childNodes[0].nodeValue]=u[c].childNodes[0].nodeValue;return i.hasOwnProperty("Content")&&(i["Content-Type"]=i.Content,delete i.Content),i.hasOwnProperty("Content-Type")||(i["Content-Type"]="text/xml; charset=utf-8"),i}function d(e){var t=null,n=new DOMParser;if(l&&l.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===r&&e&&e.byteLength%2===1)return e;var a="utf-16"===r?new Uint16Array(e):new Uint8Array(e);c();var o=String.fromCharCode.apply(null,a),s=n.parseFromString(o,"application/xml");if(!s.getElementsByTagName("PlayReadyKeyMessage")[0])return e;var u=s.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return u&&(t=i.decode(u)),t}function h(e){if(e)for(var t=new DataView(e),r=t.getUint16(4,!0),n=6,i=new DOMParser,a=0;a<r;a++){var o=t.getUint16(n,!0);n+=2;var s=t.getUint16(n,!0);if(n+=2,1===o){var u=e.slice(n,n+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),c=i.parseFromString(l,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var f=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(f)return f}if(c.getElementsByTagName("LUI_URL")[0]){var d=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(d)return d}}else n+=s}return null}function p(e){var t,r,a,o,s,u=new Uint8Array([112,115,115,104,0,0,0,0]),l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),f=0,d=null;if(c(),!e)return null;if("pssh"in e)return n["default"].parseInitDataFromContentProtection(e,i);if("pro"in e)d=i.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;d=i.decodeArray(e.prheader.__text)}return t=d.length,r=4+u.length+l.length+4+t,a=new ArrayBuffer(r),o=new Uint8Array(a),s=new DataView(a),s.setUint32(f,r),f+=4,o.set(u,f),f+=u.length,o.set(l,f),f+=l.length,s.setUint32(f,t),f+=4,o.set(d,f),f+=t,o.buffer}function g(e){if("utf-8"!==e&&"utf-16"!==e)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');r=e}function m(e){var t,r,n,a;if(c(),!e)return null;for(t=[],a=0;a<e.length;++a)t.push(e.charCodeAt(a)),t.push(0);for(t=String.fromCharCode.apply(null,t),t=i.encode(t),r=u.replace("%CUSTOMDATA%",t),n=[],a=0;a<r.length;++a)n.push(r.charCodeAt(a)),n.push(0);return new Uint8Array(n).buffer}return t={uuid:a,schemeIdURI:s,systemString:o,getInitData:p,getRequestHeadersFromMessage:f,getLicenseRequestFromMessage:d,getLicenseServerURLFromInitData:h,getCDMData:m,setPlayReadyMessageFormat:g},t}l.__dashjs_factory_name="KeySystemPlayReady";const c=dashjs.FactoryMaker.getSingletonFactory(l)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
  \**************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../vo/KeyPair */"./src/streaming/protection/vo/KeyPair.js"),i=r(/*! ../vo/ClearKeyKeySet */"./src/streaming/protection/vo/ClearKeyKeySet.js"),a=r(/*! ../CommonEncryption */"./src/streaming/protection/CommonEncryption.js"),o=r(/*! ../../constants/ProtectionConstants */"./src/streaming/constants/ProtectionConstants.js"),s="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",u=o["default"].CLEARKEY_KEYSTEM_STRING,l="urn:uuid:"+s;function c(e){var t,r=e.BASE64,o=e.debug.getLogger(t);function c(e,t){var r=null;if(e){for(var a=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),s=[],u=0;u<a.kids.length;u++){var l=a.kids[u],c=e.clearkeys&&e.clearkeys.hasOwnProperty(l)?e.clearkeys[l]:null;if(!c)throw new Error("DRM: ClearKey keyID ("+l+") is not known!");s.push(new n["default"](l,c))}r=new i["default"](s),o.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return r}function f(e){return a["default"].parseInitDataFromContentProtection(e,r)}function d(){return null}function h(e){return new Uint8Array(e)}function p(){return null}function g(){return null}return t={uuid:s,schemeIdURI:l,systemString:u,getInitData:f,getRequestHeadersFromMessage:d,getLicenseRequestFromMessage:h,getLicenseServerURLFromInitData:p,getCDMData:g,getClearKeysFromProtectionData:c},t}c.__dashjs_factory_name="KeySystemW3CClearKey";const f=dashjs.FactoryMaker.getSingletonFactory(c)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
  \***********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ../CommonEncryption */"./src/streaming/protection/CommonEncryption.js"),i=r(/*! ../../constants/ProtectionConstants */"./src/streaming/constants/ProtectionConstants.js"),a="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",o=i["default"].WIDEVINE_KEYSTEM_STRING,s="urn:uuid:"+a;function u(e){var t;e=e||{};var r=e.BASE64;function i(e){return n["default"].parseInitDataFromContentProtection(e,r)}function u(){return null}function l(e){return new Uint8Array(e)}function c(){return null}function f(){return null}return t={uuid:a,schemeIdURI:s,systemString:o,getInitData:i,getRequestHeadersFromMessage:u,getLicenseRequestFromMessage:l,getLicenseServerURLFromInitData:c,getCDMData:f},t}u.__dashjs_factory_name="KeySystemWidevine";const l=dashjs.FactoryMaker.getSingletonFactory(u)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
  \*************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../../../core/errors/ErrorsBase */"./src/core/errors/ErrorsBase.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(){var e;return a(this,r),e=t.call(this),e.MEDIA_KEYERR_CODE=100,e.MEDIA_KEYERR_UNKNOWN_CODE=101,e.MEDIA_KEYERR_CLIENT_CODE=102,e.MEDIA_KEYERR_SERVICE_CODE=103,e.MEDIA_KEYERR_OUTPUT_CODE=104,e.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,e.MEDIA_KEYERR_DOMAIN_CODE=106,e.MEDIA_KEY_MESSAGE_ERROR_CODE=107,e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,e.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,e.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,e.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,e.KEY_SESSION_CREATED_ERROR_CODE=113,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,e.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",e.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",e.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",e.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",e.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",e.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",e.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",e.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",e.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",e.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",e.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",e}return r}(n["default"]),p=new h;const g=p},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
  \****************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../controllers/ProtectionKeyController */"./src/streaming/protection/controllers/ProtectionKeyController.js"),i=r(/*! ../vo/NeedKey */"./src/streaming/protection/vo/NeedKey.js"),a=r(/*! ../../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),o=r(/*! ../vo/KeyMessage */"./src/streaming/protection/vo/KeyMessage.js"),s=r(/*! ../vo/KeySystemConfiguration */"./src/streaming/protection/vo/KeySystemConfiguration.js"),u=r(/*! ../vo/KeySystemAccess */"./src/streaming/protection/vo/KeySystemAccess.js"),l=r(/*! ../errors/ProtectionErrors */"./src/streaming/protection/errors/ProtectionErrors.js");function c(e){e=e||{};var t,r,c,f,d,h,p,g,m,v=this.context,y=e.eventBus,b=e.events,E=e.debug,_=e.api,T=e.errHandler;function w(){r=E.getLogger(t),c=null,f=null,h=[],p=[],d=(0,n["default"])(v).getInstance(),m=k()}function S(){c&&j();for(var e=0;e<p.length;e++)M(p[e]);y.trigger(b.TEARDOWN_COMPLETE)}function A(){for(var e=[],t=0;t<h.length;t++)e.push(h[t].initData);for(var r=0;r<p.length;r++)e.push(p[r].initData);return e}function R(){return p.concat(h)}function I(e){return new Promise((function(t,r){var n=c;n||(n=document.createElement("video"));for(var i=!1,a=0;a<e.length;a++)for(var o=e[a].ks.systemString,l=e[a].configs,f=null,h=null,p=0;p<l.length;p++){var g=l[p].videoCapabilities;if(g&&0!==g.length){h=[];for(var m=0;m<g.length;m++)""!==n.canPlayType(g[m].contentType,o)&&h.push(g[m])}if(!(!f&&!h||f&&0===f.length||h&&0===h.length)){i=!0;var v=new s["default"](f,h),E=d.getKeySystemBySystemString(o),_=new u["default"](E,v);y.trigger(b.KEY_SYSTEM_ACCESS_COMPLETE,{data:_}),t({data:_});break}}if(!i){var T="Key system access denied! -- No valid audio/video content configurations detected!";y.trigger(b.KEY_SYSTEM_ACCESS_COMPLETE,{error:T}),r({error:T})}}))}function C(e){return f=e.keySystem,Promise.resolve(f)}function D(e){if(c!==e){if(c){j();for(var t=0;t<p.length;t++)M(p[t]);p=[]}c=e,c&&(c.addEventListener(_.keyerror,m),c.addEventListener(_.needkey,m),c.addEventListener(_.keymessage,m),c.addEventListener(_.keyadded,m),y.trigger(b.VIDEO_ELEMENT_SELECTED))}}function N(e){if(!f)throw new Error("Can not create sessions until you have selected a key system");if(g||0===p.length){var t={sessionId:null,keyId:e.keyId,initData:e.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return h.push(t),c[_.generateKeyRequest](f.systemString,new Uint8Array(e.initData)),t}throw new Error("Multiple sessions not allowed!")}function x(e,t){var r=e.sessionId;if(d.isClearKey(f))for(var n=0;n<t.keyPairs.length;n++)c[_.addKey](f.systemString,t.keyPairs[n].key,t.keyPairs[n].keyID,r);else c[_.addKey](f.systemString,new Uint8Array(t),new Uint8Array(e.initData),r);y.trigger(b.KEY_SESSION_UPDATED)}function M(e){try{c[_.cancelKeyRequest](f.systemString,e.sessionId)}catch(t){y.trigger(b.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionId+") "+t.message})}}function O(){}function P(){}function L(){}function k(){return{handleEvent:function(e){var t=null;switch(e.type){case _.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;y.trigger(b.NEED_KEY,{key:new i["default"](n,"cenc")});break;case _.keyerror:if(t=F(p,e.sessionId),t||(t=F(h,e.sessionId)),t){var s=l["default"].MEDIA_KEYERR_CODE,u="";switch(e.errorCode.code){case 1:s=l["default"].MEDIA_KEYERR_UNKNOWN_CODE,u+="MEDIA_KEYERR_UNKNOWN - "+l["default"].MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:s=l["default"].MEDIA_KEYERR_CLIENT_CODE,u+="MEDIA_KEYERR_CLIENT - "+l["default"].MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:s=l["default"].MEDIA_KEYERR_SERVICE_CODE,u+="MEDIA_KEYERR_SERVICE - "+l["default"].MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:s=l["default"].MEDIA_KEYERR_OUTPUT_CODE,u+="MEDIA_KEYERR_OUTPUT - "+l["default"].MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:s=l["default"].MEDIA_KEYERR_HARDWARECHANGE_CODE,u+="MEDIA_KEYERR_HARDWARECHANGE - "+l["default"].MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:s=l["default"].MEDIA_KEYERR_DOMAIN_CODE,u+="MEDIA_KEYERR_DOMAIN - "+l["default"].MEDIA_KEYERR_DOMAIN_MESSAGE;break}u+="  System Code = "+e.systemCode,y.trigger(b.KEY_ERROR,{error:new a["default"](s,u,t)})}else r.error("No session token found for key error");break;case _.keyadded:t=F(p,e.sessionId),t||(t=F(h,e.sessionId)),t?(r.debug("DRM: Key added."),y.trigger(b.KEY_ADDED,{data:t})):r.debug("No session token found for key added");break;case _.keymessage:if(g=null!==e.sessionId&&void 0!==e.sessionId,g?(t=F(p,e.sessionId),!t&&h.length>0&&(t=h.shift(),p.push(t),t.sessionId=e.sessionId,y.trigger(b.KEY_SESSION_CREATED,{data:t}))):h.length>0&&(t=h.shift(),p.push(t),0!==h.length&&T.error(new a["default"](l["default"].MEDIA_KEY_MESSAGE_ERROR_CODE,l["default"].MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),t){var c=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=c,y.trigger(b.INTERNAL_KEY_MESSAGE,{data:new o["default"](t,c,e.defaultURL)})}else r.warn("No session token found for key message");break}}}}function F(e,t){if(t&&e){for(var r=e.length,n=0;n<r;n++)if(e[n].sessionId==t)return e[n];return null}return null}function j(){c.removeEventListener(_.keyerror,m),c.removeEventListener(_.needkey,m),c.removeEventListener(_.keymessage,m),c.removeEventListener(_.keyadded,m)}return t={getAllInitData:A,getSessions:R,requestKeySystemAccess:I,selectKeySystem:C,setMediaElement:D,createKeySession:N,updateKeySession:x,closeKeySession:M,setServerCertificate:O,loadKeySession:P,removeKeySession:L,stop:S,reset:S},w(),t}c.__dashjs_factory_name="ProtectionModel_01b";const f=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
  \**********************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../controllers/ProtectionKeyController */"./src/streaming/protection/controllers/ProtectionKeyController.js"),i=r(/*! ../vo/NeedKey */"./src/streaming/protection/vo/NeedKey.js"),a=r(/*! ../errors/ProtectionErrors */"./src/streaming/protection/errors/ProtectionErrors.js"),o=r(/*! ../../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),s=r(/*! ../vo/KeyMessage */"./src/streaming/protection/vo/KeyMessage.js"),u=r(/*! ../vo/KeySystemAccess */"./src/streaming/protection/vo/KeySystemAccess.js"),l=r(/*! ../../constants/ProtectionConstants */"./src/streaming/constants/ProtectionConstants.js"),c={};function f(e){e=e||{};var t,r,f,d,h,p,g,m,v=this.context,y=e.eventBus,b=e.events,E=e.debug;function _(){r=E.getLogger(t),f=null,d=null,h=null,p=[],m=(0,n["default"])(v).getInstance(),g=B()}function T(){var e,t=p.length;0!==t?function(){for(var r=function(e){U(e),0===p.length&&(d?(d.removeEventListener("encrypted",g),d.setMediaKeys(null).then((function(){y.trigger(b.TEARDOWN_COMPLETE)}))):y.trigger(b.TEARDOWN_COMPLETE))},n=0;n<t;n++)e=p[n],function(t){e.session.closed.then((function(){r(t)})),j(e)["catch"]((function(){r(t)}))}(e)}():y.trigger(b.TEARDOWN_COMPLETE)}function w(){for(var e,t=0;t<p.length;t++)e=p[t],e.getUsable()||j(e)["catch"]((function(){U(e)}))}function S(){for(var e=[],t=0;t<p.length;t++)p[t].initData&&e.push(p[t].initData);return e}function A(){return p}function R(e){return new Promise((function(t,r){I(e,0,t,r)}))}function I(e,t,r,n){if(void 0===navigator.requestMediaKeySystemAccess||"function"!==typeof navigator.requestMediaKeySystemAccess){var i="Insecure origins are not allowed";return y.trigger(b.KEY_SYSTEM_ACCESS_COMPLETE,{error:i}),void n({error:i})}var a=e[t].protData&&e[t].protData.systemStringPriority?e[t].protData.systemStringPriority:null,o=e[t].configs,s=e[t].ks,l=s.systemString,f=a||(c[l]?c[l]:[l]);C(f,o).then((function(e){var t="function"===typeof e.getConfiguration?e.getConfiguration():null,n=new u["default"](s,t);n.mksa=e,y.trigger(b.KEY_SYSTEM_ACCESS_COMPLETE,{data:n}),r({data:n})}))["catch"]((function(i){if(t+1<e.length)I(e,t+1,r,n);else{var a="Key system access denied! ";y.trigger(b.KEY_SYSTEM_ACCESS_COMPLETE,{error:a+i.message}),n({error:a+i.message})}}))}function C(e,t){return new Promise((function(r,n){D(e,t,0,r,n)}))}function D(e,t,n,i,a){var o=e[n];r.debug("Requesting key system access for system string ".concat(o)),navigator.requestMediaKeySystemAccess(o,t).then((function(e){e.selectedSystemString=o,i(e)}))["catch"]((function(r){n+1<e.length?D(e,t,n+1,i,a):a(r)}))}function N(e){return new Promise((function(t,r){e.mksa.createMediaKeys().then((function(t){return f=e.keySystem,h=t,d?d.setMediaKeys(h):Promise.resolve()})).then((function(){t(f)}))["catch"]((function(){r({error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))}))}function x(e){d!==e&&(d&&(d.removeEventListener("encrypted",g),d.setMediaKeys&&d.setMediaKeys(null)),d=e,d&&(d.addEventListener("encrypted",g),d.setMediaKeys&&h&&d.setMediaKeys(h)))}function M(e){if(!f||!h)throw new Error("Can not set server certificate until you have selected a key system");h.setServerCertificate(e).then((function(){r.info("DRM: License server certificate successfully updated."),y.trigger(b.SERVER_CERTIFICATE_UPDATED)}))["catch"]((function(e){y.trigger(b.SERVER_CERTIFICATE_UPDATED,{error:new o["default"](a["default"].SERVER_CERTIFICATE_UPDATED_ERROR_CODE,a["default"].SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})}))}function O(e){if(!f||!h)throw new Error("Can not create sessions until you have selected a key system");var t=h.createSession(e.sessionType),n=G(t,e),i=f.systemString===l["default"].CLEARKEY_KEYSTEM_STRING&&(e.initData||e.protData&&e.protData.clearkeys)?l["default"].INITIALIZATION_DATA_TYPE_KEYIDS:l["default"].INITIALIZATION_DATA_TYPE_CENC;t.generateRequest(i,e.initData).then((function(){r.debug("DRM: Session created.  SessionID = "+n.getSessionId()),y.trigger(b.KEY_SESSION_CREATED,{data:n})}))["catch"]((function(e){U(n),y.trigger(b.KEY_SESSION_CREATED,{data:null,error:new o["default"](a["default"].KEY_SESSION_CREATED_ERROR_CODE,a["default"].KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})}))}function P(e,t){var r=e.session;m.isClearKey(f)&&(t=t.toJWK()),r.update(t).then((function(){y.trigger(b.KEY_SESSION_UPDATED)}))["catch"]((function(t){y.trigger(b.KEY_ERROR,{error:new o["default"](a["default"].MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})}))}function L(e){if(!f||!h)throw new Error("Can not load sessions until you have selected a key system");for(var t=e.sessionId,n=0;n<p.length;n++)if(t===p[n].sessionId)return void r.warn("DRM: Ignoring session ID because we have already seen it!");var i=h.createSession(e.sessionType),s=G(i,e);i.load(t).then((function(e){e?(r.debug("DRM: Session loaded.  SessionID = "+s.getSessionId()),y.trigger(b.KEY_SESSION_CREATED,{data:s})):(U(s),y.trigger(b.KEY_SESSION_CREATED,{data:null,error:new o["default"](a["default"].KEY_SESSION_CREATED_ERROR_CODE,a["default"].KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+t+")")}))}))["catch"]((function(e){U(s),y.trigger(b.KEY_SESSION_CREATED,{data:null,error:new o["default"](a["default"].KEY_SESSION_CREATED_ERROR_CODE,a["default"].KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+t+")! "+e.name)})}))}function k(e){var t=e.session;t.remove().then((function(){r.debug("DRM: Session removed.  SessionID = "+e.getSessionId()),y.trigger(b.KEY_SESSION_REMOVED,{data:e.getSessionId()})}),(function(t){y.trigger(b.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionId()+"). "+t.name})}))}function F(e){j(e)["catch"]((function(t){U(e),y.trigger(b.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionId()+") "+t.name})}))}function j(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function B(){return{handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;y.trigger(b.NEED_KEY,{key:new i["default"](t,e.initDataType)})}break}}}}function U(e){for(var t=0;t<p.length;t++)if(p[t]===e){p.splice(t,1);break}}function q(e){var t,r;return e&&e.length>0&&(e[0]&&("string"===typeof e[0]?t=e[0]:r=e[0]),e[1]&&("string"===typeof e[1]?t=e[1]:r=e[1])),{status:t,keyId:r}}function G(e,t){var n={session:e,keyId:t.keyId,initData:t.initData,sessionId:t.sessionId,sessionType:t.sessionType,handleEvent:function(e){switch(e.type){case"keystatuseschange":y.trigger(b.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach((function(){var e=q(arguments);switch(e.status){case"expired":y.trigger(b.INTERNAL_KEY_STATUS_CHANGED,{error:new o["default"](a["default"].KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,a["default"].KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)});break;default:y.trigger(b.INTERNAL_KEY_STATUS_CHANGED,e);break}}));break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;y.trigger(b.INTERNAL_KEY_MESSAGE,{data:new s["default"](this,t,void 0,e.messageType)});break}},getKeyId:function(){return this.keyId},getSessionId:function(){return e.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){var t=!1;return e.keyStatuses.forEach((function(){var e=q(arguments);"usable"===e.status&&(t=!0)})),t}};return e.addEventListener("keystatuseschange",n),e.addEventListener("message",n),e.closed.then((function(){U(n),r.debug("DRM: Session closed.  SessionID = "+n.getSessionId()),y.trigger(b.KEY_SESSION_CLOSED,{data:n.getSessionId()})})),p.push(n),n}return t={getAllInitData:S,getSessions:A,requestKeySystemAccess:R,selectKeySystem:N,setMediaElement:x,setServerCertificate:M,createKeySession:O,updateKeySession:P,loadKeySession:L,removeKeySession:k,closeKeySession:F,stop:w,reset:T},_(),t}c[l["default"].PLAYREADY_KEYSTEM_STRING]=[l["default"].PLAYREADY_KEYSTEM_STRING,l["default"].PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],c[l["default"].WIDEVINE_KEYSTEM_STRING]=[l["default"].WIDEVINE_KEYSTEM_STRING],c[l["default"].CLEARKEY_KEYSTEM_STRING]=[l["default"].CLEARKEY_KEYSTEM_STRING],f.__dashjs_factory_name="ProtectionModel_21Jan2015";const d=dashjs.FactoryMaker.getClassFactory(f)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
  \*********************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../controllers/ProtectionKeyController */"./src/streaming/protection/controllers/ProtectionKeyController.js"),i=r(/*! ../vo/NeedKey */"./src/streaming/protection/vo/NeedKey.js"),a=r(/*! ../../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),o=r(/*! ../errors/ProtectionErrors */"./src/streaming/protection/errors/ProtectionErrors.js"),s=r(/*! ../vo/KeyMessage */"./src/streaming/protection/vo/KeyMessage.js"),u=r(/*! ../vo/KeySystemConfiguration */"./src/streaming/protection/vo/KeySystemConfiguration.js"),l=r(/*! ../vo/KeySystemAccess */"./src/streaming/protection/vo/KeySystemAccess.js");function c(e){e=e||{};var t,r,c,f,d,h,p,g,m,v=this.context,y=e.eventBus,b=e.events,E=e.debug,_=e.api;function T(){r=E.getLogger(t),c=null,f=null,d=null,h=null,p=[],m=(0,n["default"])(v).getInstance(),g=L()}function w(){try{for(var e=0;e<p.length;e++)x(p[e]);c&&c.removeEventListener(_.needkey,g),y.trigger(b.TEARDOWN_COMPLETE)}catch(t){y.trigger(b.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+t.message})}}function S(){for(var e=[],t=0;t<p.length;t++)e.push(p[t].initData);return e}function A(){return p}function R(e){return new Promise((function(t,r){for(var n=!1,i=0;i<e.length;i++)for(var a=e[i].ks.systemString,o=e[i].configs,s=null,c=null,f=0;f<o.length;f++){var d=o[f].audioCapabilities,h=o[f].videoCapabilities;if(d&&0!==d.length){s=[];for(var p=0;p<d.length;p++)window[_.MediaKeys].isTypeSupported(a,d[p].contentType)&&s.push(d[p])}if(h&&0!==h.length){c=[];for(var g=0;g<h.length;g++)window[_.MediaKeys].isTypeSupported(a,h[g].contentType)&&c.push(h[g])}if(!(!s&&!c||s&&0===s.length||c&&0===c.length)){n=!0;var v=new u["default"](s,c),E=m.getKeySystemBySystemString(a),T=new l["default"](E,v);y.trigger(b.KEY_SYSTEM_ACCESS_COMPLETE,{data:T}),t({data:T});break}}if(!n){var w="Key system access denied! -- No valid audio/video content configurations detected!";y.trigger(b.KEY_SYSTEM_ACCESS_COMPLETE,{error:w}),r({error:w})}}))}function I(e){return new Promise((function(t,r){try{d=e.mediaKeys=new window[_.MediaKeys](e.keySystem.systemString),f=e.keySystem,h=e,c&&k(),t(f)}catch(n){r({error:"Error selecting keys system ("+f.systemString+")! Could not create MediaKeys -- TODO"})}}))}function C(e){c!==e&&(c&&c.removeEventListener(_.needkey,g),c=e,c&&(c.addEventListener(_.needkey,g),d&&k()))}function D(e){if(!f||!d||!h)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(h.ksConfiguration.videoCapabilities&&h.ksConfiguration.videoCapabilities.length>0&&(t=h.ksConfiguration.videoCapabilities[0]),null===t&&h.ksConfiguration.audioCapabilities&&h.ksConfiguration.audioCapabilities.length>0&&(t=h.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var n=t.contentType,i=d.createSession(n,new Uint8Array(e.initData),e.cdmData?new Uint8Array(e.cdmData):null),a=F(i,e);i.addEventListener(_.error,a),i.addEventListener(_.message,a),i.addEventListener(_.ready,a),i.addEventListener(_.close,a),p.push(a),r.debug("DRM: Session created.  SessionID = "+a.getSessionId()),y.trigger(b.KEY_SESSION_CREATED,{data:a})}function N(e,t){var r=e.session;m.isClearKey(f)?r.update(new Uint8Array(t.toJWK())):r.update(new Uint8Array(t)),y.trigger(b.KEY_SESSION_UPDATED)}function x(e){var t=e.session;t.removeEventListener(_.error,e),t.removeEventListener(_.message,e),t.removeEventListener(_.ready,e),t.removeEventListener(_.close,e);for(var r=0;r<p.length;r++)if(p[r]===e){p.splice(r,1);break}t[_.release]()}function M(){}function O(){}function P(){}function L(){return{handleEvent:function(e){switch(e.type){case _.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;y.trigger(b.NEED_KEY,{key:new i["default"](t,"cenc")})}break}}}}function k(){var e=null,t=function(){c.removeEventListener("loadedmetadata",e),c[_.setMediaKeys](d),y.trigger(b.VIDEO_ELEMENT_SELECTED)};c.readyState>=1?t():(e=t.bind(this),c.addEventListener("loadedmetadata",e))}function F(e,t){return{session:e,keyId:t.keyId,initData:t.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case _.error:var t="KeyError";y.trigger(b.KEY_ERROR,{error:new a["default"](o["default"].MEDIA_KEYERR_CODE,t,this)});break;case _.message:var n=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;y.trigger(b.INTERNAL_KEY_MESSAGE,{data:new s["default"](this,n,e.destinationURL)});break;case _.ready:r.debug("DRM: Key added."),y.trigger(b.KEY_ADDED);break;case _.close:r.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),y.trigger(b.KEY_SESSION_CLOSED,{data:this.getSessionId()});break}}}}return t={getAllInitData:S,getSessions:A,requestKeySystemAccess:R,selectKeySystem:I,setMediaElement:C,createKeySession:D,updateKeySession:N,closeKeySession:x,setServerCertificate:M,loadKeySession:O,removeKeySession:P,stop:w,reset:w},T(),t}c.__dashjs_factory_name="ProtectionModel_3Feb2014";const f=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
  !*** ./src/streaming/protection/servers/ClearKey.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../vo/KeyPair */"./src/streaming/protection/vo/KeyPair.js"),i=r(/*! ../vo/ClearKeyKeySet */"./src/streaming/protection/vo/ClearKeyKeySet.js");function a(){var e;function t(e){return e}function r(){return"POST"}function a(){return"json"}function o(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],r=0;r<e.keys.length;r++){var a=e.keys[r],o=a.kid.replace(/=/g,""),s=a.k.replace(/=/g,"");t.push(new n["default"](o,s))}return new i["default"](t)}function s(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return e={getServerURLFromMessage:t,getHTTPMethod:r,getResponseType:a,getLicenseMessage:o,getErrorResponse:s},e}a.__dashjs_factory_name="ClearKey";const o=dashjs.FactoryMaker.getSingletonFactory(a)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
  !*** ./src/streaming/protection/servers/DRMToday.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../constants/ProtectionConstants */"./src/streaming/constants/ProtectionConstants.js");function i(e){e=e||{};var t,r=e.BASE64,i={};function a(){if(!r||!r.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}function o(e){return e}function s(){return"POST"}function u(e){return i[e].responseType}function l(e,t){return a(),i[t].getLicenseMessage(e)}function c(e,t){return i[t].getErrorResponse(e)}return i[n["default"].WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return r.decodeArray(e.license)},getErrorResponse:function(e){return e}},i[n["default"].PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},t={getServerURLFromMessage:o,getHTTPMethod:s,getResponseType:u,getLicenseMessage:l,getErrorResponse:c},t}i.__dashjs_factory_name="DRMToday";const a=dashjs.FactoryMaker.getSingletonFactory(i)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
  !*** ./src/streaming/protection/servers/PlayReady.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(){var e,t="http://schemas.xmlsoap.org/soap/envelope/";function r(e){var t=String.fromCharCode.apply(null,new Uint8Array(e)),r=decodeURIComponent(escape(t));return r}function n(e){if(window.DOMParser){var n=r(e),i=new window.DOMParser,a=i.parseFromString(n,"text/xml"),o=a?a.getElementsByTagNameNS(t,"Envelope")[0]:null,s=o?o.getElementsByTagNameNS(t,"Body")[0]:null,u=s?s.getElementsByTagNameNS(t,"Fault")[0]:null;if(u)return null}return e}function i(e){var n="",i="",a="",o=-1,s=-1;if(window.DOMParser){var u=r(e),l=new window.DOMParser,c=l.parseFromString(u,"text/xml"),f=c?c.getElementsByTagNameNS(t,"Envelope")[0]:null,d=f?f.getElementsByTagNameNS(t,"Body")[0]:null,h=d?d.getElementsByTagNameNS(t,"Fault")[0]:null,p=h?h.getElementsByTagName("detail")[0]:null,g=p?p.getElementsByTagName("Exception")[0]:null,m=null;if(null===h)return u;m=h.getElementsByTagName("faultstring")[0].firstChild,n=m?m.nodeValue:null,null!==g&&(m=g.getElementsByTagName("StatusCode")[0],i=m?m.firstChild.nodeValue:null,m=g.getElementsByTagName("Message")[0],a=m?m.firstChild.nodeValue:null,o=a?a.lastIndexOf("[")+1:-1,s=a?a.indexOf("]"):-1,a=a?a.substring(o,s):"")}var v="code: ".concat(i,", name: ").concat(n);return a&&(v+=", message: ".concat(a)),v}function a(e){return e}function o(){return"POST"}function s(){return"arraybuffer"}function u(e){return n.call(this,e)}function l(e){return i.call(this,e)}return e={getServerURLFromMessage:a,getHTTPMethod:o,getResponseType:s,getLicenseMessage:u,getErrorResponse:l},e}i.__dashjs_factory_name="PlayReady";const a=n["default"].getSingletonFactory(i)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
  !*** ./src/streaming/protection/servers/Widevine.js ***!
  \******************************************************/(e,t,r)=>{"use strict";function n(){var e;function t(e){return e}function r(){return"POST"}function n(){return"arraybuffer"}function i(e){return e}function a(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return e={getServerURLFromMessage:t,getHTTPMethod:r,getResponseType:n,getLicenseMessage:i,getErrorResponse:a},e}r.r(t),r.d(t,{default:()=>i}),n.__dashjs_factory_name="Widevine";const i=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>s});var o=function(){function e(t,r){if(n(this,e),r&&"persistent"!==r&&"temporary"!==r)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=r}return a(e,[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,r={keys:[]};for(e=0;e<t;e++){var n={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};r.keys.push(n)}this.type&&(r.type=this.type);var i=JSON.stringify(r),a=i.length,o=new ArrayBuffer(a),s=new Uint8Array(o);for(e=0;e<a;e++)s[e]=i.charCodeAt(e);return o}}]),e}();const s=o},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
  \***************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r,i,a){n(this,e),this.sessionToken=t,this.message=r,this.defaultURL=i,this.messageType=a||"license-request"};const a=i},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
  !*** ./src/streaming/protection/vo/KeyPair.js ***!
  \************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r){n(this,e),this.keyID=t,this.key=r};const a=i},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
  \********************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r){n(this,e),this.keySystem=t,this.ksConfiguration=r};const a=i},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
  \***************************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r,i,a,o){n(this,e),this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),r&&r.length&&(this.videoCapabilities=r),this.distinctiveIdentifier=i,this.persistentState=a,this.sessionTypes=o};const a=i},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r,i,a,o,s,u,l){n(this,e),this.url=t,this.method=r,this.responseType=i,this.headers=a,this.withCredentials=o,this.messageType=s,this.sessionId=u,this.data=l};const a=i},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
  \********************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r,i){n(this,e),this.url=t,this.headers=r,this.data=i};const a=i},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
  \********************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r){n(this,e),this.contentType=t,this.robustness=r};const a=i},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
  !*** ./src/streaming/protection/vo/NeedKey.js ***!
  \************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r){n(this,e),this.initData=t,this.initDataType=r};const a=i},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
  \*****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(){var e={},t={},r={};function n(n,i,a){if(i){e[n]||(e[n]=[],t[n]=0,r[n]=0);var o=a&&a.droppedVideoFrames?a.droppedVideoFrames:0,s=a&&a.totalVideoFrames?a.totalVideoFrames:0,u=o-t[n];t[n]=o;var l=s-r[n];r[n]=s;var c=e[n];isNaN(i)||(c[i]?(c[i].droppedVideoFrames+=u,c[i].totalVideoFrames+=l):c[i]={droppedVideoFrames:u,totalVideoFrames:l})}}function i(t){return e[t]}function a(n){try{delete e[n],delete t[n],delete r[n]}catch(i){}}function o(){e={},t={},r={}}return{push:n,getFrameHistory:i,clearForStream:a,reset:o}}i.__dashjs_factory_name="DroppedFramesHistory";var a=n["default"].getClassFactory(i);const o=a},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
  !*** ./src/streaming/rules/RulesContext.js ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(e){var t;e=e||{};var r=e.abrController,n=e.switchHistory,i=e.droppedFramesHistory,a=e.currentRequest,o=e.useBufferOccupancyABR,s=e.useL2AABR,u=e.useLoLPABR,l=e.streamProcessor?e.streamProcessor.getScheduleController():null,c=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null,f=e.videoModel?e.videoModel:null;function d(){var e=p();return e?e.type:null}function h(){var e=p();return e?e.streamInfo:null}function p(){return c?c.mediaInfo:null}function g(){return c}function m(){return l}function v(){return r}function y(){return n}function b(){return f}function E(){return i}function _(){return a}function T(){return o}function w(){return s}function S(){return u}return t={getMediaType:d,getMediaInfo:p,getDroppedFramesHistory:E,getCurrentRequest:_,getSwitchHistory:y,getStreamInfo:h,getScheduleController:m,getAbrController:v,getRepresentationInfo:g,useBufferOccupancyABR:T,useL2AABR:w,useLoLPABR:S,getVideoModel:b},t}i.__dashjs_factory_name="RulesContext";const a=n["default"].getClassFactory(i)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
  !*** ./src/streaming/rules/SwitchRequest.js ***!
  \**********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=-1,a={DEFAULT:.5,STRONG:1,WEAK:0};function o(e,t,r){var n,o,s,u;function l(e){var t=a.DEFAULT;return e!==a.DEFAULT&&e!==a.STRONG&&e!==a.WEAK||(t=e),t}return o=void 0===e?i:e,s=l(r),u=void 0===t?null:t,n={quality:o,reason:u,priority:s},n}o.__dashjs_factory_name="SwitchRequest";var s=n["default"].getClassFactory(o);s.NO_CHANGE=i,s.PRIORITY=a,n["default"].updateClassFactory(o.__dashjs_factory_name,s);const u=s},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
  \*****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ./SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),a=8;function o(){var e=[],t=[];function r(r){r.newValue===i["default"].NO_CHANGE&&(r.newValue=r.oldValue),e[r.oldValue]||(e[r.oldValue]={noDrops:0,drops:0,dropSize:0});var n=r.newValue-r.oldValue,o=n<0?1:0,s=o?-n:0,u=o?0:1;if(e[r.oldValue].drops+=o,e[r.oldValue].dropSize+=s,e[r.oldValue].noDrops+=u,t.push({idx:r.oldValue,noDrop:u,drop:o,dropSize:s}),t.length>a){var l=t.shift();e[l.idx].drops-=l.drop,e[l.idx].dropSize-=l.dropSize,e[l.idx].noDrops-=l.noDrop}}function n(){return e}function o(){e=[],t=[]}return{push:r,getSwitchRequests:n,reset:o}}o.__dashjs_factory_name="SwitchRequestHistory";var s=n["default"].getClassFactory(o);const u=s},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
  !*** ./src/streaming/rules/ThroughputHistory.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function a(e){e=e||{};var t,r,i,a,o,s=20,u=3,l=4,c=4,f=1.3,d=1.3,h=8,p=3,g=2,m=1,v=e.settings;function y(){o={throughputHalfLife:{fast:p,slow:h},latencyHalfLife:{fast:m,slow:g}},x()}function b(e,t,r){return e===n["default"].VIDEO?r<v.get().streaming.cacheLoadThresholds[n["default"].VIDEO]:e===n["default"].AUDIO?r<v.get().streaming.cacheLoadThresholds[n["default"].AUDIO]:void 0}function E(e,u,l){if(u.trace&&u.trace.length){var c=u.tresponse.getTime()-u.trequest.getTime()||1,f=u._tfinish.getTime()-u.tresponse.getTime()||1,d=u.trace.reduce((function(e,t){return e+t.b[0]}),0),h=0,p=0;if(h=u._fileLoaderType&&u._fileLoaderType===n["default"].FILE_LOADER_TYPES.FETCH?u.trace.reduce((function(e,t){return e+t.d}),0):l?f:c+f,0!==h&&(p=Math.round(8*d/h)),u.cmsd){var g=u.cmsd.dynamic&&u.cmsd.dynamic.etp?u.cmsd.dynamic.etp:null;if(g){var m=v.get().streaming.cmsd.abr.etpWeightRatio;m>0&&m<=1&&(p=p*(1-m)+g*m)}}if(D(e),b(e,c,f)){if(t[e].length>0&&!t[e].hasCachedEntries)return;t[e].hasCachedEntries=!0}else t[e]&&t[e].hasCachedEntries&&N(e);t[e].push(p),t[e].length>s&&t[e].shift(),r[e].push(c),r[e].length>s&&r[e].shift(),_(i[e],p,.001*f,o.throughputHalfLife),_(a[e],c,1,o.latencyHalfLife)}}function _(e,t,r,n){var i=Math.pow(.5,r/n.fast);e.fastEstimate=(1-i)*t+i*e.fastEstimate;var a=Math.pow(.5,r/n.slow);e.slowEstimate=(1-a)*t+a*e.slowEstimate,e.totalWeight+=r}function T(e,n,i){var a,o;if(e?(a=t[n],o=i?u:l):(a=r[n],o=c),a){if(o>=a.length)o=a.length;else if(e)for(var s=1;s<o;++s){var h=a[a.length-s]/a[a.length-s-1];if((h>=d||h<=1/f)&&(o+=1,o===a.length))break}}else o=0;return o}function w(e,t,r){return v.get().streaming.abr.movingAverageMethod!==n["default"].MOVING_AVERAGE_SLIDING_WINDOW?A(e,t):S(e,t,r)}function S(e,n,i){var a=T(e,n,i),o=e?t:r,s=o[n];return 0!==a&&s&&0!==s.length?(s=s.slice(-a),s.reduce((function(e,t){return e+t}))/s.length):NaN}function A(e,t){var r=e?o.throughputHalfLife:o.latencyHalfLife,n=e?i[t]:a[t];if(!n||n.totalWeight<=0)return NaN;var s=n.fastEstimate/(1-Math.pow(.5,n.totalWeight/r.fast)),u=n.slowEstimate/(1-Math.pow(.5,n.totalWeight/r.slow));return e?Math.min(s,u):Math.max(s,u)}function R(e,t){return w(!0,e,t)}function I(e,t){var r=R(e,t);return isNaN(r)||(r*=v.get().streaming.abr.bandwidthSafetyFactor),r}function C(e){return w(!1,e)}function D(e){t[e]=t[e]||[],r[e]=r[e]||[],i[e]=i[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},a[e]=a[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function N(e){delete t[e],delete r[e],delete i[e],delete a[e],D(e)}function x(){t={},r={},i={},a={}}var M={push:E,getAverageThroughput:R,getSafeAverageThroughput:I,getAverageLatency:C,reset:x};return y(),M}a.__dashjs_factory_name="ThroughputHistory";const o=i["default"].getClassFactory(a)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
  \*******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(/*! ./ThroughputRule */"./src/streaming/rules/abr/ThroughputRule.js"),i=r(/*! ./InsufficientBufferRule */"./src/streaming/rules/abr/InsufficientBufferRule.js"),a=r(/*! ./AbandonRequestsRule */"./src/streaming/rules/abr/AbandonRequestsRule.js"),o=r(/*! ./DroppedFramesRule */"./src/streaming/rules/abr/DroppedFramesRule.js"),s=r(/*! ./SwitchHistoryRule */"./src/streaming/rules/abr/SwitchHistoryRule.js"),u=r(/*! ./BolaRule */"./src/streaming/rules/abr/BolaRule.js"),l=r(/*! ./L2ARule.js */"./src/streaming/rules/abr/L2ARule.js"),c=r(/*! ./lolp/LoLpRule.js */"./src/streaming/rules/abr/lolp/LoLpRule.js"),f=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),d=r(/*! ../SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),h=r(/*! ../../constants/Constants */"./src/streaming/constants/Constants.js"),p="qualitySwitchRules",g="abandonFragmentRules";function m(e){e=e||{};var t,r,f,m=this.context,v=e.mediaPlayerModel,y=e.customParametersModel,b=e.dashMetrics,E=e.settings;function _(){r=[],f=[],E.get().streaming.abr.useDefaultABRRules&&(E.get().streaming.abr.ABRStrategy===h["default"].ABR_STRATEGY_L2A?r.push((0,l["default"])(m).create({dashMetrics:b,settings:E})):E.get().streaming.abr.ABRStrategy===h["default"].ABR_STRATEGY_LoLP?r.push((0,c["default"])(m).create({dashMetrics:b})):(r.push((0,u["default"])(m).create({dashMetrics:b,mediaPlayerModel:v,settings:E})),r.push((0,n["default"])(m).create({dashMetrics:b})),E.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&r.push((0,i["default"])(m).create({dashMetrics:b,settings:E})),E.get().streaming.abr.additionalAbrRules.switchHistoryRule&&r.push((0,s["default"])(m).create()),E.get().streaming.abr.additionalAbrRules.droppedFramesRule&&r.push((0,o["default"])(m).create()),E.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&f.push((0,a["default"])(m).create({dashMetrics:b,mediaPlayerModel:v,settings:E}))));var e=y.getAbrCustomRules();e.forEach((function(e){e.type===p&&r.push(e.rule(m).create()),e.type===g&&f.push(e.rule(m).create())}))}function T(e){return e.filter((function(e){return e.quality>d["default"].NO_CHANGE}))}function w(e){var t,r,n,i,a,o={},s=null;if(0!==e.length){for(o[d["default"].PRIORITY.STRONG]={quality:d["default"].NO_CHANGE,reason:null},o[d["default"].PRIORITY.WEAK]={quality:d["default"].NO_CHANGE,reason:null},o[d["default"].PRIORITY.DEFAULT]={quality:d["default"].NO_CHANGE,reason:null},t=0,r=e.length;t<r;t+=1)n=e[t],n.quality!==d["default"].NO_CHANGE&&(o[n.priority].quality===d["default"].NO_CHANGE||o[n.priority].quality>n.quality)&&(o[n.priority].quality=n.quality,o[n.priority].reason=n.reason||null);return o[d["default"].PRIORITY.WEAK].quality!==d["default"].NO_CHANGE&&(s=o[d["default"].PRIORITY.WEAK]),o[d["default"].PRIORITY.DEFAULT].quality!==d["default"].NO_CHANGE&&(s=o[d["default"].PRIORITY.DEFAULT]),o[d["default"].PRIORITY.STRONG].quality!==d["default"].NO_CHANGE&&(s=o[d["default"].PRIORITY.STRONG]),s&&(i=s.quality,a=s.reason),(0,d["default"])(m).create(i,a)}}function S(e){var t=r.map((function(t){return t.getMaxIndex(e)})),n=T(t),i=w(n);return i||(0,d["default"])(m).create()}function A(e,t){var r=f.map((function(r){return r.shouldAbandon(e,t)})),n=T(r),i=w(n);return i||(0,d["default"])(m).create()}function R(){[r,f].forEach((function(e){e&&e.length&&e.forEach((function(e){return e.reset&&e.reset()}))})),r=[],f=[]}function I(){return r}return t={initialize:_,reset:R,getMaxQuality:S,getMinSwitchRequest:w,shouldAbandonFragment:A,getQualitySwitchRules:I},t}m.__dashjs_factory_name="ABRRulesCollection";var v=f["default"].getClassFactory(m);v.QUALITY_SWITCH_RULES=p,v.ABANDON_FRAGMENT_RULES=g,f["default"].updateSingletonFactory(m.__dashjs_factory_name,v);const y=v},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
  \********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),i=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),a=r(/*! ../../../core/Debug */"./src/core/Debug.js");function o(e){e=e||{};var t,r,i,s,u,l=1.8,c=500,f=5,d=this.context,h=e.mediaPlayerModel,p=e.dashMetrics,g=e.settings;function m(){r=(0,a["default"])(d).getInstance().getLogger(t),E()}function v(e,t){i[e]=i[e]||{},i[e][t]=i[e][t]||{}}function y(e,t){u[e]=u[e]||[],u[e].push(t)}function b(e){var t=(0,n["default"])(d).create(n["default"].NO_CHANGE,{name:o.__dashjs_factory_name});if(!e||!e.hasOwnProperty("getMediaInfo")||!e.hasOwnProperty("getMediaType")||!e.hasOwnProperty("getCurrentRequest")||!e.hasOwnProperty("getRepresentationInfo")||!e.hasOwnProperty("getAbrController"))return t;var a=e.getMediaInfo(),m=e.getMediaType(),b=e.getStreamInfo(),E=b?b.id:null,_=e.getCurrentRequest();if(!isNaN(_.index)){v(m,_.index);var T=h.getStableBufferTime(),w=p.getCurrentBufferLevel(m);if(w>T)return t;var S=i[m][_.index];if(null===S||null===_.firstByteDate||s.hasOwnProperty(S.id))return t;if(void 0===S.firstByteTime&&(u[m]=[],S.firstByteTime=_.firstByteDate.getTime(),S.segmentDuration=_.duration,S.bytesTotal=_.bytesTotal,S.id=_.index),S.bytesLoaded=_.bytesLoaded,S.elapsedTime=(new Date).getTime()-S.firstByteTime,S.bytesLoaded>0&&S.elapsedTime>0&&y(m,Math.round(8*S.bytesLoaded/S.elapsedTime)),u[m].length>=f&&S.elapsedTime>c&&S.bytesLoaded<S.bytesTotal){var A=u[m].reduce((function(e,t){return e+t}),0);if(S.measuredBandwidthInKbps=Math.round(A/u[m].length),S.estimatedTimeOfDownload=+(8*S.bytesTotal/S.measuredBandwidthInKbps/1e3).toFixed(2),S.estimatedTimeOfDownload<S.segmentDuration*l||0===e.getRepresentationInfo().quality)return t;if(!s.hasOwnProperty(S.id)){var R=e.getAbrController(),I=S.bytesTotal-S.bytesLoaded,C=R.getBitrateList(a),D=R.getQualityForBitrate(a,S.measuredBandwidthInKbps*g.get().streaming.abr.bandwidthSafetyFactor,E),N=R.getMinAllowedIndexFor(m,E),x=void 0!==N?Math.max(N,D):D,M=S.bytesTotal*C[x].bitrate/C[R.getQualityFor(m,E)].bitrate;I>M&&(t.quality=x,t.reason.throughput=S.measuredBandwidthInKbps,t.reason.fragmentID=S.id,s[S.id]=S,r.debug("["+m+"] frag id",S.id," is asking to abandon and switch to quality to ",x," measured bandwidth was",S.measuredBandwidthInKbps),delete i[m][S.id])}}else S.bytesLoaded===S.bytesTotal&&delete i[m][S.id]}return t}function E(){i={},s={},u=[]}return t={shouldAbandon:b,reset:E},m(),t}o.__dashjs_factory_name="AbandonRequestsRule";const s=i["default"].getClassFactory(o)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
  !*** ./src/streaming/rules/abr/BolaRule.js ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(/*! ../../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),i=r(/*! ../SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),a=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),s=r(/*! ../../../core/EventBus */"./src/core/EventBus.js"),u=r(/*! ../../../core/events/Events */"./src/core/events/Events.js"),l=r(/*! ../../../core/Debug */"./src/core/Debug.js"),c=r(/*! ../../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),f=r(/*! ../../constants/Constants */"./src/streaming/constants/Constants.js"),d=0,h=1,p=2,g=10,m=2,v=.99;function y(e){e=e||{};var t,r,a,y=this.context,b=e.dashMetrics,E=e.mediaPlayerModel,_=(0,s["default"])(y).getInstance();function T(){r=(0,l["default"])(y).getInstance().getLogger(t),q(),_.on(c["default"].BUFFER_EMPTY,O,t),_.on(c["default"].PLAYBACK_SEEKING,P,t),_.on(c["default"].METRIC_ADDED,k,t),_.on(c["default"].QUALITY_CHANGE_REQUESTED,j,t),_.on(c["default"].FRAGMENT_LOADING_ABANDONED,B,t),_.on(u["default"].MEDIA_FRAGMENT_LOADED,L,t)}function w(e){return e.map((function(e){return Math.log(e)}))}function S(e,t,r){var n=r.reduce((function(e,t,n){return t>r[e]?n:e}),0);if(0===n)return null;var i=Math.max(e,g+m*t.length),a=(r[n]-1)/(i/g-1),o=g/a;return{gp:a,Vp:o}}function A(e){var t={},r=e.getMediaInfo(),n=r.bitrateList.map((function(e){return e.bandwidth})),i=w(n);i=i.map((function(e){return e-i[0]+1}));var a=E.getStableBufferTime(),o=S(a,n,i);return o?(t.state=h,t.bitrates=n,t.utilities=i,t.stableBufferTime=a,t.Vp=o.Vp,t.gp=o.gp,t.lastQuality=0,R(t)):t.state=d,t}function R(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function I(e,t){var r=E.getStableBufferTime();if(e.stableBufferTime!==r){var n=S(r,e.bitrates,e.utilities);if(n.Vp!==e.Vp||n.gp!==e.gp){var i=b.getCurrentBufferLevel(t),a=i+e.placeholderBuffer;a-=g,a*=n.Vp/e.Vp,a+=g,e.stableBufferTime=r,e.Vp=n.Vp,e.gp=n.gp,e.placeholderBuffer=Math.max(0,a-i)}}}function C(e){var t=e.getMediaType(),r=a[t];return r?r.state!==d&&I(r,t):(r=A(e),a[t]=r),r}function D(e,t){for(var r=e.bitrates.length,n=NaN,i=NaN,a=0;a<r;++a){var o=(e.Vp*(e.utilities[a]+e.gp)-t)/e.bitrates[a];(isNaN(i)||o>=i)&&(i=o,n=a)}return n}function N(e,t){return e.Vp*(e.utilities[t]+e.gp)}function x(e,t){for(var r=e.bitrates[t],n=e.utilities[t],i=0,a=t-1;a>=0;--a)if(e.utilities[a]<e.utilities[t]){var o=e.bitrates[a],s=e.utilities[a],u=e.Vp*(e.gp+(r*s-o*n)/(r-o));i=Math.max(i,u)}return i}function M(e,t){var r=Date.now();if(isNaN(e.lastSegmentFinishTimeMs)){if(!isNaN(e.lastCallTimeMs)){var n=.001*(r-e.lastCallTimeMs);e.placeholderBuffer+=Math.max(0,n)}}else{var i=.001*(r-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,i)}e.lastCallTimeMs=r,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,I(e,t)}function O(e){var t=e.mediaType,r=t===f["default"].AUDIO?[f["default"].AUDIO]:a;for(var n in r)a.hasOwnProperty(n)&&a[n].state===p&&(a[n].placeholderBuffer=0)}function P(){for(var e in a)if(a.hasOwnProperty(e)){var t=a[e];t.state!==d&&(t.state=h,R(t))}}function L(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=a[e.chunk.mediaInfo.type];if(t&&t.state!==d){var r=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||r>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=r,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=r,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,F(t,e.chunk.mediaInfo.type)}}}function k(e){if(e&&e.metric===n["default"].HTTP_REQUEST&&e.value&&e.value.type===o.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=a[e.mediaType];t&&t.state!==d&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),F(t,e.mediaType))}}function F(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=v,!isNaN(e.lastSegmentFinishTimeMs)){var r=b.getCurrentBufferLevel(t),n=r+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),i=N(e,e.lastQuality),a=Math.max(0,i-n);e.placeholderBuffer=Math.min(a,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}function j(e){if(e){var t=a[e.mediaType];t&&t.state!==d&&(t.abrQuality=e.newQuality)}}function B(e){if(e){var t=a[e.mediaType];if(t&&t.state!==d){var r,n=b.getCurrentBufferLevel(e.mediaType);r=t.abrQuality>0?x(t,t.abrQuality):g;var i=Math.max(0,r-n);t.placeholderBuffer=Math.min(t.placeholderBuffer,i)}}}function U(e){var t=(0,i["default"])(y).create();if(!e||!e.hasOwnProperty("getMediaInfo")||!e.hasOwnProperty("getMediaType")||!e.hasOwnProperty("getScheduleController")||!e.hasOwnProperty("getStreamInfo")||!e.hasOwnProperty("getAbrController")||!e.hasOwnProperty("useBufferOccupancyABR"))return t;var n=e.getMediaInfo(),a=e.getMediaType(),o=e.getScheduleController(),s=e.getStreamInfo(),u=e.getAbrController(),l=u.getThroughputHistory(),c=s?s.id:null,f=s&&s.manifestInfo&&s.manifestInfo.isDynamic,g=e.useBufferOccupancyABR();if(t.reason=t.reason||{},!g)return t;o.setTimeToLoadDelay(0);var m=C(e);if(m.state===d)return t;var v,E=b.getCurrentBufferLevel(a),_=l.getAverageThroughput(a,f),T=l.getSafeAverageThroughput(a,f),w=l.getAverageLatency(a);if(t.reason.state=m.state,t.reason.throughput=_,t.reason.latency=w,isNaN(_))return t;switch(m.state){case h:v=u.getQualityForBitrate(n,T,c,w),t.quality=v,t.reason.throughput=T,m.placeholderBuffer=Math.max(0,x(m,v)-E),m.lastQuality=v,!isNaN(m.lastSegmentDurationS)&&E>=m.lastSegmentDurationS&&(m.state=p);break;case p:M(m,a),v=D(m,E+m.placeholderBuffer);var S=u.getQualityForBitrate(n,T,c,w);v>m.lastQuality&&v>S&&(v=Math.max(S,m.lastQuality));var A=Math.max(0,E+m.placeholderBuffer-N(m,v));A<=m.placeholderBuffer?(m.placeholderBuffer-=A,A=0):(A-=m.placeholderBuffer,m.placeholderBuffer=0,v<u.getMaxAllowedIndexFor(a,c)?o.setTimeToLoadDelay(1e3*A):A=0),t.quality=v,t.reason.throughput=_,t.reason.latency=w,t.reason.bufferLevel=E,t.reason.placeholderBuffer=m.placeholderBuffer,t.reason.delay=A,m.lastQuality=v;break;default:r.debug("BOLA ABR rule invoked in bad state."),t.quality=u.getQualityForBitrate(n,T,c,w),t.reason.state=m.state,t.reason.throughput=T,t.reason.latency=w,m.state=h,R(m)}return t}function q(){a={}}function G(){q(),_.off(c["default"].BUFFER_EMPTY,O,t),_.off(c["default"].PLAYBACK_SEEKING,P,t),_.off(c["default"].METRIC_ADDED,k,t),_.off(c["default"].QUALITY_CHANGE_REQUESTED,j,t),_.off(c["default"].FRAGMENT_LOADING_ABANDONED,B,t),_.off(u["default"].MEDIA_FRAGMENT_LOADED,L,t)}return t={getMaxIndex:U,reset:G},T(),t}y.__dashjs_factory_name="BolaRule";const b=a["default"].getClassFactory(y)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),a=r(/*! ../../../core/Debug */"./src/core/Debug.js");function o(){var e,t,r=this.context,n=.15,o=375;function s(){t=(0,a["default"])(r).getInstance().getLogger(e)}function u(e){var a=(0,i["default"])(r).create();if(!e||!e.hasOwnProperty("getDroppedFramesHistory"))return a;var s=e.getDroppedFramesHistory(),u=e.getStreamInfo().id;if(s){var l=s.getFrameHistory(u);if(!l||0===l.length)return a;for(var c=0,f=0,d=i["default"].NO_CHANGE,h=1;h<l.length;h++)if(l[h]&&(c=l[h].droppedVideoFrames,f=l[h].totalVideoFrames,f>o&&c/f>n)){d=h-1,t.debug("index: "+d+" Dropped Frames: "+c+" Total Frames: "+f);break}return(0,i["default"])(r).create(d,{droppedFrames:c})}return a}return e={getMaxIndex:u},s(),e}o.__dashjs_factory_name="DroppedFramesRule";const s=n["default"].getClassFactory(o)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
  \***********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../../../core/EventBus */"./src/core/EventBus.js"),i=r(/*! ../../../core/events/Events */"./src/core/events/Events.js"),a=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../../../core/Debug */"./src/core/Debug.js"),s=r(/*! ../SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),u=r(/*! ../../constants/Constants */"./src/streaming/constants/Constants.js"),l=r(/*! ../../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),c=r(/*! ../../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js");function f(e){e=e||{};var t,r,a,f=.5,d=2,h=this.context,p=(0,n["default"])(h).getInstance(),g=e.dashMetrics;function m(){r=(0,o["default"])(h).getInstance().getLogger(t),E(),p.on(c["default"].PLAYBACK_SEEKING,_,t),p.on(i["default"].BYTES_APPENDED_END_FRAGMENT,T,t)}function v(){if(!g||!g.hasOwnProperty("getCurrentBufferLevel")||!g.hasOwnProperty("getCurrentBufferState"))throw new Error(u["default"].MISSING_CONFIG_ERROR)}function y(e){var t=(0,s["default"])(h).create();if(!e||!e.hasOwnProperty("getMediaType"))return t;v();var n=e.getMediaType(),i=g.getCurrentBufferState(n),a=e.getRepresentationInfo(),o=a.fragmentDuration,u=e.getStreamInfo(),c=u?u.id:null,d=e.getScheduleController(),p=u&&u.manifestInfo&&u.manifestInfo.isDynamic,m=d.getPlaybackController(),y=m.getLowLatencyModeEnabled();if(b(y,n)||!o)return t;if(i&&i.state===l["default"].BUFFER_EMPTY)r.debug("["+n+"] Switch to index 0; buffer is empty."),t.quality=0,t.reason="InsufficientBufferRule: Buffer is empty";else{var E=e.getMediaInfo(),_=e.getAbrController(),T=_.getThroughputHistory(),w=g.getCurrentBufferLevel(n),S=T.getAverageThroughput(n,p),A=T.getAverageLatency(n),R=S*(w/o)*f;t.quality=_.getQualityForBitrate(E,R,c,A),t.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return t}function b(e,t){return!e&&a[t].ignoreCount>0}function E(){a={},a[u["default"].VIDEO]={ignoreCount:d},a[u["default"].AUDIO]={ignoreCount:d}}function _(){E()}function T(e){isNaN(e.startTime)||e.mediaType!==u["default"].AUDIO&&e.mediaType!==u["default"].VIDEO||a[e.mediaType].ignoreCount>0&&a[e.mediaType].ignoreCount--}function w(){E(),p.off(c["default"].PLAYBACK_SEEKING,_,t),p.off(i["default"].BYTES_APPENDED_END_FRAGMENT,T,t)}return t={getMaxIndex:y,reset:w},m(),t}f.__dashjs_factory_name="InsufficientBufferRule";const d=a["default"].getClassFactory(f)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
  !*** ./src/streaming/rules/abr/L2ARule.js ***!
  \********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),i=r(/*! ../SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),a=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),s=r(/*! ../../../core/EventBus */"./src/core/EventBus.js"),u=r(/*! ../../../core/events/Events */"./src/core/events/Events.js"),l=r(/*! ../../../core/Debug */"./src/core/Debug.js"),c=r(/*! ../../constants/Constants */"./src/streaming/constants/Constants.js"),f=0,d=1,h=2;function p(e){e=e||{};var t,r,a,p,g=this.context,m=e.dashMetrics,v=(0,s["default"])(g).getInstance();function y(){p=(0,l["default"])(g).getInstance().getLogger(t),x(),v.on(u["default"].PLAYBACK_SEEKING,w,t),v.on(u["default"].MEDIA_FRAGMENT_LOADED,S,t),v.on(u["default"].METRIC_ADDED,A,t),v.on(u["default"].QUALITY_CHANGE_REQUESTED,I,t)}function b(e){var t={},r=e.getMediaInfo(),n=r.bitrateList.map((function(e){return e.bandwidth/1e3}));return t.state=d,t.bitrates=n,t.lastQuality=0,E(r),_(t),t}function E(e){e&&e.type&&(a[e.type]={},a[e.type].w=[],a[e.type].prev_w=[],a[e.type].Q=0,a[e.type].segment_request_start_s=0,a[e.type].segment_download_finish_s=0,a[e.type].B_target=1.5)}function _(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function T(e){var t=e.getMediaType(),n=r[t];return n||(n=b(e),r[t]=n),n}function w(){for(var e in r)if(r.hasOwnProperty(e)){var t=r[e];t.state!==f&&(t.state=d,_(t))}}function S(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=r[e.chunk.mediaInfo.type],n=a[e.chunk.mediaInfo.type];if(t&&t.state!==f){var i=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||i>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=i,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=i,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,R(t,n)}}}function A(e){if(e&&e.metric===n["default"].HTTP_REQUEST&&e.value&&e.value.type===o.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=r[e.mediaType],i=a[e.mediaType];t&&t.state!==f&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),R(t,i))}}function R(e,t){isNaN(e.lastSegmentStart)||isNaN(e.lastSegmentRequestTimeMs)||(t.segment_request_start_s=.001*e.lastSegmentRequestTimeMs,t.segment_download_finish_s=.001*e.lastSegmentFinishTimeMs,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN)}function I(e){if(e&&e.mediaType){var t=r[e.mediaType];t&&t.state!==f&&(t.abrQuality=e.newQuality)}}function C(e,t){if(e.length!==t.length)return-1;for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}function D(e){for(var t=e.length,r=!1,n=[],i=0;i<t;++i)n[i]=e[i];for(var a=e.sort((function(e,t){return t-e})),o=0,s=0,u=[],l=0;l<t-1;++l)if(o+=a[l],s=(o-1)/(l+1),s>=a[l+1]){r=!0;break}r||(s=(o+a[t-1]-1)/t);for(var c=0;c<t;++c)u[c]=Math.max(n[c]-s,0);return u}function N(e){var t,r=(0,i["default"])(g).create(),n=4,o=Math.pow(n,.99),s=Math.max(Math.pow(n,1),o*Math.sqrt(n)),u=e.getMediaInfo(),l=e.getMediaType(),v=u.bitrateList.map((function(e){return e.bandwidth})),y=v.length,b=e.getScheduleController(),E=e.getStreamInfo(),w=e.getAbrController(),S=w.getThroughputHistory(),A=E&&E.manifestInfo&&E.manifestInfo.isDynamic,R=e.useL2AABR(),I=m.getCurrentBufferLevel(l,!0),N=S.getSafeAverageThroughput(l,A),x=S.getAverageThroughput(l,A),M=2,O=S.getAverageLatency(l),P=e.getVideoModel(),L=P.getPlaybackRate();if(!e||!e.hasOwnProperty("getMediaInfo")||!e.hasOwnProperty("getMediaType")||!e.hasOwnProperty("getScheduleController")||!e.hasOwnProperty("getStreamInfo")||!e.hasOwnProperty("getAbrController")||!e.hasOwnProperty("useL2AABR"))return r;if(r.reason=r.reason||{},!R||l===c["default"].AUDIO)return r;b.setTimeToLoadDelay(0);var k=T(e);if(k.state===f)return r;var F=a[l];if(!F)return r;if(r.reason.state=k.state,r.reason.throughput=x,r.reason.latency=O,isNaN(x))return r;switch(k.state){case d:if(t=w.getQualityForBitrate(u,N,E.id,O),r.quality=t,r.reason.throughput=N,k.lastQuality=t,!isNaN(k.lastSegmentDurationS)&&I>=F.B_target){k.state=h,F.Q=o;for(var j=0;j<y;++j)j===k.lastQuality?F.prev_w[j]=1:F.prev_w[j]=0}break;case h:var B=[],U=m.getCurrentHttpRequest(l).trace.reduce((function(e,t){return e+t.d}),0),q=m.getCurrentHttpRequest(l).trace.reduce((function(e,t){return e+t.b[0]}),0),G=Math.round(8*q/U);G<1&&(G=1);for(var V=k.lastSegmentDurationS,H=1,Y=0;Y<y;++Y)v[Y]=v[Y]/1e3,L*v[Y]>G&&(H=-1),F.w[Y]=F.prev_w[Y]+H*(V/(2*s))*((F.Q+o)*(L*v[Y]/G));F.w=D(F.w);for(var z=0;z<y;++z)B[z]=F.w[z]-F.prev_w[z],F.prev_w[z]=F.w[z];F.Q=Math.max(0,F.Q-V+V*L*((C(v,F.prev_w)+C(v,B))/G));for(var K=[],W=0;W<y;++W)K[W]=Math.abs(v[W]-C(F.w,v));t=K.indexOf(Math.min.apply(Math,K)),t>k.lastQuality&&v[k.lastQuality+1]<=G&&(t=k.lastQuality+1),v[t]>=G&&(F.Q=M*Math.max(o,F.Q)),r.quality=t,r.reason.throughput=x,r.reason.latency=O,r.reason.bufferLevel=I,k.lastQuality=r.quality;break;default:p.debug("L2A ABR rule invoked in bad state."),r.quality=w.getQualityForBitrate(u,N,E.id,O),r.reason.state=k.state,r.reason.throughput=N,r.reason.latency=O,k.state=d,_(k)}return r}function x(){r={},a={}}function M(){x(),v.off(u["default"].PLAYBACK_SEEKING,w,t),v.off(u["default"].MEDIA_FRAGMENT_LOADED,S,t),v.off(u["default"].METRIC_ADDED,A,t),v.off(u["default"].QUALITY_CHANGE_REQUESTED,I,t)}return t={getMaxIndex:N,reset:M},y(),t}p.__dashjs_factory_name="L2ARule";const g=a["default"].getClassFactory(p)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../SwitchRequest */"./src/streaming/rules/SwitchRequest.js");function o(){var e,t,r=this.context,n=.075,o=6;function s(){t=(0,i["default"])(r).getInstance().getLogger(e)}function u(e){for(var i=e?e.getSwitchHistory():null,s=i?i.getSwitchRequests():[],u=0,l=0,c=0,f=(0,a["default"])(r).create(),d=0;d<s.length;d++)if(void 0!==s[d]&&(u+=s[d].drops,l+=s[d].noDrops,c+=s[d].dropSize,u+l>=o&&u/l>n)){f.quality=d>0&&s[d].drops>0?d-1:d,f.reason={index:f.quality,drops:u,noDrops:l,dropSize:c},t.debug("Switch history rule index: "+f.quality+" samples: "+(u+l)+" drops: "+u);break}return f}return e={getMaxIndex:u},s(),e}o.__dashjs_factory_name="SwitchHistoryRule";const s=n["default"].getClassFactory(o)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
  \***************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),a=r(/*! ../../constants/Constants */"./src/streaming/constants/Constants.js"),o=r(/*! ../../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js");function s(e){e=e||{};var t,r=this.context,n=e.dashMetrics;function s(){}function u(){if(!n||!n.hasOwnProperty("getCurrentBufferState"))throw new Error(a["default"].MISSING_CONFIG_ERROR)}function l(e){var t=(0,i["default"])(r).create();if(!e||!e.hasOwnProperty("getMediaInfo")||!e.hasOwnProperty("getMediaType")||!e.hasOwnProperty("useBufferOccupancyABR")||!e.hasOwnProperty("getAbrController")||!e.hasOwnProperty("getScheduleController"))return t;u();var a=e.getMediaInfo(),s=e.getMediaType(),l=n.getCurrentBufferState(s),c=e.getScheduleController(),f=e.getAbrController(),d=e.getStreamInfo(),h=d?d.id:null,p=d&&d.manifestInfo?d.manifestInfo.isDynamic:null,g=f.getThroughputHistory(),m=g.getSafeAverageThroughput(s,p),v=g.getAverageLatency(s),y=e.useBufferOccupancyABR();return isNaN(m)||!l||y||f.getAbandonmentStateFor(h,s)!==o["default"].ABANDON_LOAD&&(l.state===o["default"].BUFFER_LOADED||p)&&(t.quality=f.getQualityForBitrate(a,m,h,v),c.setTimeToLoadDelay(0),t.reason={throughput:m,latency:v}),t}function c(){}return t={getMaxIndex:l,reset:c},s(),t}s.__dashjs_factory_name="ThroughputRule";const u=n["default"].getClassFactory(s)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
  \***************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../../../core/Debug */"./src/core/Debug.js"),a={MANUAL:"manual_weight_selection",RANDOM:"random_weight_selection",DYNAMIC:"dynamic_weight_selection"};function o(){var e,t,r,n,o,s,u,l,c,f=this.context;function d(){t=(0,i["default"])(f).getInstance().getLogger(e),p()}function h(){p()}function p(){r=null,n=1,o=100,s=0,u=null,l=null,c=a.DYNAMIC}function g(){var e=0;if(r)for(var t=0;t<r.length;t++){var n=r[t];n.state.throughput>e&&(e=n.state.throughput)}return e}function m(e){var t=e.map((function(e){return Math.pow(e,2)})).reduce((function(e,t){return e+t}));return Math.sqrt(t)}function v(e,t,r){var n=e.map((function(e,n){return r[n]*Math.pow(e-t[n],2)})).reduce((function(e,t){return e+t})),i=n<0?-1:1;return i*Math.sqrt(Math.abs(n))}function y(e,t){var r=[e.state.throughput,e.state.latency,e.state.rebuffer,e.state["switch"]],n=[t.state.throughput,t.state.latency,t.state.rebuffer,t.state["switch"]];return v(r,n,[1,1,1,1])}function b(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],a=.1,o=y(i,e),s=Math.exp(-1*Math.pow(o,2)/(2*Math.pow(a,2)));E(i,r,s)}}function E(e,t,r){var n=e.state,i=[.01,.01,.01,.01];n.throughput=n.throughput+(t[0]-n.throughput)*i[0]*r,n.latency=n.latency+(t[1]-n.latency)*i[1]*r,n.rebuffer=n.rebuffer+(t[2]-n.rebuffer)*i[2]*r,n["switch"]=n["switch"]+(t[3]-n["switch"])*i[3]*r}function _(e,t){var n=0,i=e;if(r)for(var a=0;a<r.length;a++){var o=r[a];o.bitrate<e.bitrate&&o.bitrate>n&&t>o.bitrate&&(n=o.bitrate,i=o)}return i}function T(e,r,i,l,f,d,h){var p=i,m=l,y=r,E=I(e),T=r/n;T>1&&(T=g()),i/=o;var R=0,C=0,D=0,N=1e4;t.debug("getNextQuality called throughput:".concat(T," latency:").concat(i," bufferSize:").concat(l," currentQualityIndex:").concat(d," playbackRate:").concat(f));var x=E[d],M=x.bitrate*h.getSegmentDuration()/y,O=Math.max(0,M-m);if(m-M<h.getMinBuffer())return t.debug("Buffer is low for bitrate= ".concat(x.bitrate," downloadTime=").concat(M," currentBuffer=").concat(m," rebuffer=").concat(O)),_(x,y).qualityIndex;switch(c){case a.MANUAL:w();break;case a.RANDOM:S(E);break;case a.DYNAMIC:A(h,E,p,m,O,y,f);break;default:A(h,E,p,m,O,y,f)}for(var P=null,L=null,k=null,F=0;F<E.length;F++){var j=E[F],B=j.state,U=[B.throughput,B.latency,B.rebuffer,B["switch"]],q=u.slice(),G=h.getNextBufferWithBitrate(j.bitrate,m,y),V=G<h.getMinBuffer();V&&t.debug("Buffer is low for bitrate=".concat(j.bitrate," downloadTime=").concat(M," currentBuffer=").concat(m," nextBuffer=").concat(G)),(j.bitrate>r-N||V)&&j.bitrate!==s&&(q[0]=100);var H=v(U,[T,R,C,D],q);(null===P||H<P)&&(P=H,L=j.qualityIndex,k=j)}var Y=Math.abs(x.bitrate-k.bitrate)/n;return b(x,E,[T,i,O,Y]),b(k,E,[T,R,C,Y]),L}function w(){var e=.4,t=.4,r=.4,n=.4;u=[e,t,r,n]}function S(e){u=R(e.length,4)}function A(e,t,r,n,i,a,o){u||(u=l[l.length-1]);var s=e.findWeightVector(t,r,n,i,a,o);null!==s&&-1!==s&&(u=s)}function R(e,t){for(var r=[],n=Math.sqrt(2/e),i=0;i<t;i++)r.push(Math.random()*n);return u=r,u}function I(e){if(!r){r=[];var t=e.bitrateList,i=[];s=t[0].bandwidth,t.forEach((function(e){i.push(e.bandwidth),e.bandwidth<s&&(s=e.bandwidth)})),n=m(i);for(var a=0;a<t.length;a++){var o={qualityIndex:a,bitrate:t[a].bandwidth,state:{throughput:t[a].bandwidth/n,latency:0,rebuffer:0,switch:0}};r.push(o)}l=D(r)}return r}function C(e){for(var t=[],r=0;r<e;r++){var n=[Math.random()*g(),Math.random(),Math.random(),Math.random()];t.push(n)}return t}function D(e){var t=[],r=C(Math.pow(e.length,2));t.push(r[0]);for(var n=[1,1,1,1],i=1;i<e.length;i++){for(var a=null,o=null,s=0;s<r.length;s++){for(var u=r[s],l=null,c=0;c<t.length;c++){var f=v(u,t[c],n);(null===l||f<l)&&(l=f)}(null===o||l>o)&&(a=u,o=l)}t.push(a)}for(var d=null,h=null,p=0;p<t.length;p++){for(var g=0,m=0;m<t.length;m++)p!==m&&(g+=v(t[p],t[m],n));(null===d||g>d)&&(d=g,h=p)}var y=[];y.push(t[h]),t.splice(h,1);while(t.length>0){for(var b=null,E=null,_=0;_<t.length;_++){var T=v(y[0],t[_],n);(null===b||T<b)&&(b=T,E=_)}y.push(t[E]),t.splice(E,1)}return y}return e={getNextQuality:T,reset:h},d(),e}o.__dashjs_factory_name="LearningAbrController";const s=n["default"].getClassFactory(o)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
  \**********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ./QoeInfo */"./src/streaming/rules/abr/lolp/QoeInfo.js");function a(){var e,t,r,n,a;function o(){s()}function s(){t=null,r=null,n=null,a=null}function u(e,i,o){t=l("segment",e,i,o),r=e,n=i,a=o}function l(e,t,r,n){var a=new i["default"];return a.type=e,a.weights.bitrateReward=t||1,a.weights.bitrateSwitchPenalty=1,a.weights.rebufferPenalty=r||1e3,a.weights.latencyPenalty=[],a.weights.latencyPenalty.push({threshold:1.1,penalty:.05*n}),a.weights.latencyPenalty.push({threshold:1e8,penalty:.1*r}),a.weights.playbackSpeedPenalty=n||200,a}function c(e,r,n,i){t&&f(e,r,n,i,t)}function f(e,t,r,n,i){i.bitrateWSum+=i.weights.bitrateReward*e,i.lastBitrate&&(i.bitrateSwitchWSum+=i.weights.bitrateSwitchPenalty*Math.abs(e-i.lastBitrate)),i.lastBitrate=e,i.rebufferWSum+=i.weights.rebufferPenalty*t;for(var a=0;a<i.weights.latencyPenalty.length;a++){var o=i.weights.latencyPenalty[a];if(r<=o.threshold){i.latencyWSum+=o.penalty*r;break}}i.playbackSpeedWSum+=i.weights.playbackSpeedPenalty*Math.abs(1-n),i.totalQoe=i.bitrateWSum-i.bitrateSwitchWSum-i.rebufferWSum-i.latencyWSum-i.playbackSpeedWSum}function d(){return t}function h(e,t,i,o){var s=null;return r&&n&&a&&(s=l("segment",r,n,a)),s?(f(e,t,i,o,s),s.totalQoe):0}function p(){s()}return e={setupPerSegmentQoe:u,logSegmentMetrics:c,getPerSegmentQoe:d,calculateSingleUseQoe:h,reset:p},o(),e}a.__dashjs_factory_name="LoLpQoeEvaluator";const o=n["default"].getClassFactory(a)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
  \**************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ../../../../core/Debug */"./src/core/Debug.js"),i=r(/*! ../../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),a=r(/*! ./LearningAbrController */"./src/streaming/rules/abr/lolp/LearningAbrController.js"),o=r(/*! ./LoLpQoEEvaluator */"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),s=r(/*! ../../SwitchRequest */"./src/streaming/rules/SwitchRequest.js"),u=r(/*! ../../../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js"),l=r(/*! ./LoLpWeightSelector */"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),c=r(/*! ../../../constants/Constants */"./src/streaming/constants/Constants.js"),f=1.5,d=.3;function h(e){e=e||{};var t,r,i,h,p=e.dashMetrics,g=this.context;function m(){t=(0,n["default"])(g).getInstance().getLogger(r),i=(0,a["default"])(g).create(),h=(0,o["default"])(g).create()}function v(e){try{var r=(0,s["default"])(g).create(),n=e.getMediaInfo().type,a=e.getAbrController(),o=e.getStreamInfo(),m=a.getQualityFor(n,o.id),v=e.getMediaInfo(),y=p.getCurrentBufferState(n),b=e.getScheduleController(),E=p.getCurrentBufferLevel(n,!0),_=o&&o.manifestInfo?o.manifestInfo.isDynamic:null,T=b.getPlaybackController(),w=T.getCurrentLiveLatency();if(!e.useLoLPABR()||n===c["default"].AUDIO)return r;w||(w=0);var S=T.getPlaybackRate(),A=a.getThroughputHistory(),R=A.getSafeAverageThroughput(n,_);if(t.debug("Throughput ".concat(Math.round(R)," kbps")),isNaN(R)||!y)return r;if(a.getAbandonmentStateFor(o.id,n)===u["default"].ABANDON_LOAD)return r;for(var I=v.bitrateList,C=e.getRepresentationInfo().fragmentDuration,D=I[0].bandwidth/1e3,N=I[I.length-1].bandwidth/1e3,x=0;x<I.length;x++){var M=I[x].bandwidth/1e3;M>N?N=M:M<D&&(D=M)}var O=I[m].bandwidth,P=O/1e3,L=p.getCurrentHttpRequest(n,!0),k=(L.tresponse.getTime()-L.trequest.getTime())/1e3,F=k>C?k-C:0;h.setupPerSegmentQoe(C,N,D),h.logSegmentMetrics(P,F,w,S);var j=(0,l["default"])(g).create({targetLatency:f,bufferMin:d,segmentDuration:C,qoeEvaluator:h});return r.quality=i.getNextQuality(v,1e3*R,w,E,S,m,j),r.reason={throughput:R,latency:w},r.priority=s["default"].PRIORITY.STRONG,b.setTimeToLoadDelay(0),r.quality!==m&&console.log("[TgcLearningRule]["+n+"] requesting switch to index: ",r.quality,"Average throughput",Math.round(R),"kbps"),r}catch(B){throw B}}function y(){i.reset(),h.reset()}function b(){y()}return r={getMaxIndex:v,reset:b},m(),r}h.__dashjs_factory_name="LoLPRule";const p=i["default"].getClassFactory(h)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
  \************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(e){var t,r,n,i,a,o=e.targetLatency,s=e.bufferMin,u=e.segmentDuration,l=e.qoeEvaluator;function c(){f()}function f(){r=[.2,.4,.6,.8,1],n=4,i=p(r,n),a=0}function d(e,t,r,n,o,s){var c=null,f=null,d=null,p=Math.abs(t-a);return e.forEach((function(e){i.forEach((function(n){var i,a={throughput:n[0],latency:n[1],buffer:n[2],switch:n[3]},g=e.bitrate*u/o,m=y(r,g),v=Math.max(1e-5,g-m);i=0===a.buffer?10:1/a.buffer;var b=i*v;i=0===a.latency?10:1/a.latency;var E=i*e.state.latency,_=l.calculateSingleUseQoe(e.bitrate,b,E,s);(null===c||_>c)&&h(t,m,p)&&(c=_,f=n,d=e.bitrate)}))})),null===f&&null===d&&(f=-1),a=t,f}function h(e,t,r){return!(e>o+r)&&t>=s}function p(e,t){var r=e.map((function(e){return[e]})),n=function t(r,n,i){if(i===n)return r;for(var a=r.length,o=0;o<a;o++)for(var s=r.shift(),u=0;u<e.length;u++)r.push(s.concat(e[u]));return t(r,n,i+1)};return n(r,t,1)}function g(){return s}function m(){return u}function v(e,t,r){var n=e*u/r;return y(t,n)}function y(e,t){var r,n=m();return r=t>n?e-n:e+n-t,r}return t={getMinBuffer:g,getSegmentDuration:m,getNextBufferWithBitrate:v,getNextBuffer:y,findWeightVector:d},c(),t}i.__dashjs_factory_name="LoLpWeightSelector";const a=n["default"].getClassFactory(i)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
  \*************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0};const a=i},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
  \******************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(){var e,t=0;function r(e){for(var t="",r=0;r<e.length;++r){var n=e[r];t+=n.uchar}var i=t.length,a=t.replace(/^\s+/,"").length;return i-a}function n(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function i(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function a(e,t){var r=e.videoHeight/15;return t?"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?i(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?i(t.background):"transparent")+";":"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function o(e){return e.replace(/^\s+/g,"")}function s(e){return e.replace(/\s+$/g,"")}function u(e,i,u,l){var c,f,d=null,h=null,p=!1,g=-1,m={start:i,end:u,spans:[]},v="style_cea608_white_black",y={},b={},E=[];for(c=0;c<15;++c){var _=l.rows[c],T="",w=null;if(!1===_.isEmpty()){var S=r(_.chars);null===d&&(d={x:S,y1:c,y2:c+1,p:[]}),S!==g&&p&&(d.p.push(m),m={start:i,end:u,spans:[]},d.y2=c,d.name="region_"+d.x+"_"+d.y1+"_"+d.y2,!1===y.hasOwnProperty(d.name)?(E.push(d),y[d.name]=d):(h=y[d.name],h.p.contat(d.p)),d={x:S,y1:c,y2:c+1,p:[]});for(var A=0;A<_.chars.length;++A){var R=_.chars[A],I=R.penState;if(null===w||!I.equals(w)){T.trim().length>0&&(m.spans.push({name:v,line:T,row:c}),T="");var C="style_cea608_"+I.foreground+"_"+I.background;I.underline&&(C+="_underline"),I.italics&&(C+="_italics"),b.hasOwnProperty(C)||(b[C]=JSON.parse(JSON.stringify(I))),w=I,v=C}T+=R.uchar}T.trim().length>0&&m.spans.push({name:v,line:T,row:c}),p=!0,g=S}else p=!1,g=-1,d&&(d.p.push(m),m={start:i,end:u,spans:[]},d.y2=c,d.name="region_"+d.x+"_"+d.y1+"_"+d.y2,!1===y.hasOwnProperty(d.name)?(E.push(d),y[d.name]=d):(h=y[d.name],h.p.contat(d.p)),d=null)}d&&(d.p.push(m),d.y2=c+1,d.name="region_"+d.x+"_"+d.y1+"_"+d.y2,!1===y.hasOwnProperty(d.name)?(E.push(d),y[d.name]=d):(h=y[d.name],h.p.contat(d.p)),d=null);var D=[];for(c=0;c<E.length;++c){var N=E[c],x="sub_cea608_"+t++,M=document.createElement("div");M.id=x;var O=n(N);M.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+O;var P=document.createElement("div");P.className="paragraph bodyStyle",P.style.cssText=a(e);var L=document.createElement("div");L.className="cueUniWrapper",L.style.cssText="unicode-bidi: normal; direction: ltr;";for(var k=0;k<N.p.length;++k){var F=N.p[k],j=0;for(f=0;f<F.spans.length;++f){var B=F.spans[f];if(B.line.length>0){if(0!==f&&j!=B.row){var U=document.createElement("br");U.className="lineBreak",L.appendChild(U)}var q=!1;j===B.row&&(q=!0),j=B.row;var G=b[B.name],V=document.createElement("span");V.className="spanPadding "+B.name+" customSpanColor",V.style.cssText=a(e,G),0!==f&&q?f===F.spans.length-1?V.textContent=s(B.line):V.textContent=B.line:F.spans.length>1&&f<F.spans.length-1&&B.row===F.spans[f+1].row?V.textContent=o(B.line):V.textContent=B.line.trim(),L.appendChild(V)}}}P.appendChild(L),M.appendChild(P);var H={bodyStyle:["%",90]};for(var Y in b)b.hasOwnProperty(Y)&&(H[Y]=["%",90]);D.push({type:"html",start:i,end:u,cueHTMLElement:M,cueID:x,cellResolution:[32,15],isFromCEA608:!0,fontSize:H,lineHeight:{},linePadding:{}})}return D}return e={createHTMLCaptionsFromScreen:u},e}i.__dashjs_factory_name="EmbeddedTextHtmlRender";const a=n["default"].getSingletonFactory(i)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
  \*****************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),i=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),a=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../utils/InitCache */"./src/streaming/utils/InitCache.js"),s=r(/*! ../SourceBufferSink */"./src/streaming/SourceBufferSink.js"),u=r(/*! ../../streaming/vo/DashJSError */"./src/streaming/vo/DashJSError.js"),l=r(/*! ../../core/errors/Errors */"./src/core/errors/Errors.js"),c="NotFragmentedTextBufferController";function f(e){e=e||{};var t,r,a,f,d,h,p=this.context,g=(0,n["default"])(p).getInstance(),m=e.textController,v=e.errHandler,y=e.streamInfo,b=e.type;function E(){a=!1,f=null,r=!1,h=(0,o["default"])(p).getInstance(),g.on(i["default"].INIT_FRAGMENT_LOADED,k,t)}function _(){return c}function T(e){I(e)}function w(e){return new Promise((function(t,r){try{d=(0,s["default"])(p).create({mediaSource:f,textController:m,eventBus:g}),d.initializeForFirstUse(y,e),a||(d.getBuffer()&&"function"===typeof d.getBuffer().initialize&&d.getBuffer().initialize(),a=!0),t(d)}catch(n){v.error(new u["default"](l["default"].MEDIASOURCE_TYPE_UNSUPPORTED_CODE,l["default"].MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+b)),r(n)}}))}function S(){return y.id}function A(){return b}function R(){return d}function I(e){f=e}function C(){return f}function D(){return!1}function N(){}function x(){return 0}function M(){return r}function O(e){r!==e&&(r=e,r&&X(i["default"].BUFFERING_COMPLETED))}function P(e){g.off(i["default"].INIT_FRAGMENT_LOADED,k,t),!e&&d&&(d.abort(),d.reset(),d=null)}function L(e){return null!==h.extract(y.id,e)}function k(e){e.chunk.bytes&&!r&&(h.save(e.chunk),d.append(e.chunk),O(!0))}function F(){return null}function j(){return!0}function B(){return[]}function U(){return Number.POSITIVE_INFINITY}function q(){return Promise.resolve()}function G(){}function V(){return Promise.resolve()}function H(){return Promise.resolve()}function Y(){return r=!1,Promise.resolve()}function z(){return Promise.resolve()}function K(){}function W(){}function $(){return Promise.resolve()}function X(e,t){var r=t||{};g.trigger(e,r,{streamId:y.id,mediaType:b})}return t={initialize:T,getStreamId:S,getType:A,getBufferControllerType:_,createBufferSink:w,dischargePreBuffer:N,getBuffer:R,getBufferLevel:x,getRangeAt:F,pruneBuffer:G,hasBufferAtTime:j,getAllRangesWithSafetyFactor:B,getContinuousBufferTimeForTargetTime:U,setMediaSource:I,getMediaSource:C,appendInitSegmentFromCache:L,getIsBufferingCompleted:M,setIsBufferingCompleted:O,getIsPruningInProgress:D,reset:P,clearBuffers:q,prepareForPlaybackSeek:H,prepareForReplacementTrackSwitch:Y,setSeekTarget:K,updateAppendWindow:z,pruneAllSafely:$,updateBufferTimestampOffset:V,segmentRequestingCompleted:W},E(),t}f.__dashjs_factory_name=c;const d=a["default"].getClassFactory(f)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
  !*** ./src/streaming/text/TextController.js ***!
  \**********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),a=r(/*! ./TextSourceBuffer */"./src/streaming/text/TextSourceBuffer.js"),o=r(/*! ./TextTracks */"./src/streaming/text/TextTracks.js"),s=r(/*! ../utils/VTTParser */"./src/streaming/utils/VTTParser.js"),u=r(/*! ../utils/VttCustomRenderingParser */"./src/streaming/utils/VttCustomRenderingParser.js"),l=r(/*! ../utils/TTMLParser */"./src/streaming/utils/TTMLParser.js"),c=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),f=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),d=r(/*! ../../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),h=r(/*! ../utils/SupervisorTools */"./src/streaming/utils/SupervisorTools.js");function p(e){var t,r,i,p,g,m,v,y,b,E,_,T,w=this.context,S=e.adapter,A=e.errHandler,R=e.manifestModel,I=e.mediaController,C=e.videoModel,D=e.settings;function N(){E=!1,_=!1,T=!1,g=(0,s["default"])(w).getInstance(),m=(0,u["default"])(w).getInstance(),v=(0,l["default"])(w).getInstance(),y=(0,c["default"])(w).getInstance(),$()}function x(){y.on(f["default"].TEXT_TRACKS_QUEUE_INITIALIZED,j,t),D.get().streaming.text.webvtt.customRenderingEnabled&&(y.on(f["default"].PLAYBACK_TIME_UPDATED,B,t),y.on(f["default"].PLAYBACK_SEEKING,U,t))}function M(e){var t=e.id,n=(0,o["default"])(w).create({videoModel:C,settings:D,streamInfo:e});n.initialize(),p[t]=n;var s=(0,a["default"])(w).create({errHandler:A,adapter:S,manifestModel:R,mediaController:I,videoModel:C,textTracks:n,vttParser:g,vttCustomRenderingParser:m,ttmlParser:v,streamInfo:e,settings:D});s.initialize(),i[t]=s,r[t]={},r[t].lastEnabledIndex=-1}function O(e){var t=e.id;p[t]&&p[t].createTracks()}function P(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=e.id;i[a]&&i[a].addMediaInfos(t,r,n)}function L(e){var t=e.id;if(i&&i[t])return i[t]}function k(){return b}function F(e,t){var r=e.id;i[r]&&i[r].addEmbeddedTrack(t)}function j(e){var t=e.tracks,i=e.index,a=e.streamId,o=D.get().streaming.text.defaultEnabled;if(!1===o&&!G()||T)H(a,-1);else{var s=I.getCurrentTrackFor(n["default"].TEXT,a);if(s){var u={lang:s.lang,role:s.roles[0],index:s.index,codec:s.codec,accessibility:s.accessibility[0]};t.some((function(e,t){if(I.matchSettings(u,e))return H(a,t),i=t,!0}))}b=!1}r[a].lastEnabledIndex=i,y.trigger(d["default"].TEXT_TRACKS_ADDED,{enabled:G(),index:i,tracks:t,streamId:a}),_=!0}function B(e){try{var t=e.streamId;if(!p[t]||isNaN(e.time))return;p[t].manualCueProcessing(e.time)}catch(r){}}function U(e){try{var t=e.streamId;if(!p[t])return;p[t].disableManualTracks()}catch(e){}}function q(e,t){(0,h.checkParameterType)(t,"boolean"),G()!==t&&(t&&H(e,r[e].lastEnabledIndex),t||(r[e].lastEnabledIndex=K(e),_?H(e,-1):T=!0))}function G(){var e=!0;return b&&!E&&(e=!1),e}function V(e){(0,h.checkParameterType)(e,"boolean"),E=e}function H(e,t){b=-1===t,b&&I&&I.saveTextSettingsDisabled();var r=K(e);if(r!==t&&p[e]){p[e].disableManualTracks(),p[e].setModeForTrackIdx(r,n["default"].TEXT_HIDDEN),p[e].setCurrentTrackIdx(t),p[e].setModeForTrackIdx(t,n["default"].TEXT_SHOWING);var i=p[e].getCurrentTrackInfo();i&&i.isFragmented&&!i.isEmbedded?Y(e,i,r):i&&!i.isFragmented&&z(e,i),I.setTrack(i)}}function Y(e,t,r){if(i[e])for(var a=i[e].getConfig(),o=a.fragmentedTracks,s=0;s<o.length;s++){var u=o[s];if(t.lang===u.lang&&(u.id?t.id===u.id:t.index===u.index)){var l=I.getCurrentTrackFor(n["default"].TEXT,e);(u.id?l.id!==u.id:l.index!==u.index)?(p[e].deleteCuesFromTrackIdx(r),i[e].setCurrentFragmentedTrackIdx(s)):-1===r&&y.trigger(f["default"].SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:e,mediaType:n["default"].TEXT})}}}function z(e,t){y.trigger(f["default"].SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:t},{streamId:e,mediaType:n["default"].TEXT})}function K(e){return p[e].getCurrentTrackIdx()}function W(e){if(e){var t=e.id;i[t]&&i[t].resetMediaInfos(),p[t]&&p[t].deleteAllTextTracks()}}function $(){i={},p={},r={},b=!0,_=!1,T=!1}function X(){$(),y.off(f["default"].TEXT_TRACKS_QUEUE_INITIALIZED,j,t),D.get().streaming.text.webvtt.customRenderingEnabled&&(y.off(f["default"].PLAYBACK_TIME_UPDATED,B,t),y.off(f["default"].PLAYBACK_SEEKING,U,t)),Object.keys(i).forEach((function(e){i[e].resetEmbedded(),i[e].reset()}))}return t={deactivateStream:W,initialize:x,initializeForStream:M,createTracks:O,getTextSourceBuffer:L,getAllTracksAreDisabled:k,addEmbeddedTrack:F,enableText:q,isTextEnabled:G,setTextTrack:H,getCurrentTrackIdx:K,enableForcedTextStreaming:V,addMediaInfosToBuffer:P,reset:X},N(),t}p.__dashjs_factory_name="TextController";const g=i["default"].getClassFactory(p)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
  !*** ./src/streaming/text/TextSourceBuffer.js ***!
  \************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js"),a=r(/*! ../vo/TextTrackInfo */"./src/streaming/vo/TextTrackInfo.js"),o=r(/*! ../utils/BoxParser */"./src/streaming/utils/BoxParser.js"),s=r(/*! ../utils/CustomTimeRanges */"./src/streaming/utils/CustomTimeRanges.js"),u=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),l=r(/*! ../../core/Debug */"./src/core/Debug.js"),c=r(/*! ./EmbeddedTextHtmlRender */"./src/streaming/text/EmbeddedTextHtmlRender.js"),f=r(/*! codem-isoboxer */"./node_modules/codem-isoboxer/dist/iso_boxer.js"),d=r(/*! ../../../externals/cea608-parser */"./externals/cea608-parser.js"),h=r.n(d),p=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),g=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),m=r(/*! ../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),v=r(/*! ../../core/errors/Errors */"./src/core/errors/Errors.js");function y(e){var t,r,u,d,y,b,E,_,T,w,S,A,R,I,C,D,N=e.errHandler,x=e.manifestModel,M=e.mediaController,O=e.videoModel,P=e.textTracks,L=e.vttParser,k=e.vttCustomRenderingParser,F=e.ttmlParser,j=e.streamInfo,B=e.settings,U=this.context,q=(0,p["default"])(U).getInstance(),G=!1;function V(){r=(0,l["default"])(U).getInstance().getLogger(t),u=(0,o["default"])(U).getInstance(),z()}function H(){return j.id}function Y(){b=null,_=NaN,T=[],w=null,E=!1}function z(){Y(),y=[],d=null}function K(){G||J()}function W(e,r,i){if(y=y.concat(r),e===n["default"].TEXT&&r[0].isFragmented&&!r[0].isEmbedded){b=i,t.buffered=(0,s["default"])(U).create(),T=M.getTracksFor(n["default"].TEXT,j.id).filter((function(e){return e.isFragmented}));for(var a=M.getCurrentTrackFor(n["default"].TEXT,j.id),o=0;o<T.length;o++)if(T[o]===a){ne(o);break}}for(var u=0;u<r.length;u++)$(r[u])}function $(e){var t=new a["default"],r={subtitle:"subtitles",caption:"captions"};for(var n in e)t[n]=e[n];t.labels=e.labels,t.defaultTrack=me(e),t.isFragmented=e.isFragmented,t.isEmbedded=!!e.isEmbedded,t.isTTML=ie(e),t.kind=ae(e,r),P.addTextTrack(t)}function X(){}function Q(){z(),y=[],u=null}function Z(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&oe(t.bytes,t)}function J(){A=[],S=null,R=0,C=[],I=null,G=!0,D=(0,c["default"])(U).getInstance(),q.on(g["default"].VIDEO_CHUNK_RECEIVED,Z,t),q.on(g["default"].BUFFER_CLEARED,be,t)}function ee(){q.off(g["default"].VIDEO_CHUNK_RECEIVED,Z,t),q.off(g["default"].BUFFER_CLEARED,be,t),P&&P.deleteAllTextTracks(),G=!1,A=[],C=[null,null],I=null}function te(e){if(G&&e)if(e.id===n["default"].CC1||e.id===n["default"].CC3){for(var t=0;t<A.length;t++)if(A[t].id===e.id)return;A.push(e)}else r.warn("Embedded track "+e.id+" not supported!")}function re(){var e={fragmentModel:b,fragmentedTracks:T,videoModel:O};return e}function ne(e){S=e}function ie(e){return e.codec&&e.codec.search(n["default"].STPP)>=0||e.mimeType&&e.mimeType.search(n["default"].TTML)>=0}function ae(e,t){var r=e.roles&&e.roles.length>0?t[e.roles[0]]:t.caption;return r=r===t.caption||r===t.subtitle?r:t.caption,r}function oe(e,t){var i=t.mediaInfo,a=i.type,o=i.mimeType,s=i.codec||o;s?-1!==i.codec.indexOf("application/mp4")?se(e,t,s):a===n["default"].VIDEO?fe(e,t):ce(e,t,s):r.error("No text type defined")}function se(e,t,r){var i,a;if("InitializationSegment"===t.segmentType)E=!0,_=u.getMediaTimescaleFromMoov(e);else{if(!E)return;a=u.getSamplesInfo(e),i=a.sampleList,i.length>0&&(w=i[0].cts-t.start*_),r.search(n["default"].STPP)>=0?ue(e,i,r):le(e,i)}}function ue(e,i,a){var o,s;for(d=null!==d?d:ve(a),o=0;o<i.length;o++){var u=i[o],l=u.cts,c=ge(),h=c+l/_,p=h+u.duration/_;t.buffered.add(h,p);var g=new DataView(e,u.offset,u.subSizes[0]),m=f.Utils.dataViewToString(g,n["default"].UTF8),v=[],y=u.offset+u.subSizes[0];for(s=1;s<u.subSizes.length;s++){var E=new Uint8Array(e,y,u.subSizes[s]),T=String.fromCharCode.apply(null,E);v.push(T),y+=u.subSizes[s]}try{var w=x.getValue(),A=w.ttmlTimeIsRelative?l/_:0,R=d.parse(m,A,l/_,(l+u.duration)/_,v);P.addCaptions(S,c,R)}catch(I){b.removeExecutedRequestsBeforeTime(),this.remove(),r.error("TTML parser error: "+I.message)}}}function le(e,n){var i,a,o,s=[];for(i=0;i<n.length;i++){var u=n[i];u.cts-=w;var l=ge(),c=l+u.cts/_,d=c+u.duration/_;t.buffered.add(c,d);var h=e.slice(u.offset,u.offset+u.size),p=f.parseBuffer(h);for(a=0;a<p.boxes.length;a++){var g=p.boxes[a];if(r.debug("VTT box1: "+g.type),"vtte"!==g.type&&"vttc"===g.type)for(r.debug("VTT vttc boxes.length = "+g.boxes.length),o=0;o<g.boxes.length;o++){var m=g.boxes[o];if(r.debug("VTT box2: "+m.type),"payl"===m.type){var v=m.cue_text;r.debug("VTT cue_text = "+v);var y=u.cts/_,b=(u.cts+u.duration)/_;s.push({start:y,end:b,data:v,styles:{}}),r.debug("VTT "+y+"-"+b+" : "+v)}}}}s.length>0&&P.addCaptions(S,0,s)}function ce(e,r,i){var a,o,s=new DataView(e,0,e.byteLength);o=f.Utils.dataViewToString(s,n["default"].UTF8);try{a=ve(i).parse(o,0),P.addCaptions(P.getCurrentTrackIdx(),0,a),t.buffered&&t.buffered.add(r.start,r.end)}catch(u){N.error(new m["default"](v["default"].TIMED_TEXT_ERROR_ID_PARSE_CODE,v["default"].TIMED_TEXT_ERROR_MESSAGE_PARSE+u.message,o))}}function fe(e,t){var n,a;if(t.segmentType===i.HTTPRequest.INIT_SEGMENT_TYPE)0===R&&(R=u.getMediaTimescaleFromMoov(e));else if(t.segmentType===i.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===R)return void r.warn("CEA-608: No timescale for embeddedTextTrack yet");a=u.getSamplesInfo(e);var o=a.lastSequenceNumber;if(C[0]||C[1]||de(),R){if(null!==I&&o!==I+a.numSequences)for(n=0;n<C.length;n++)C[n]&&C[n].reset();for(var s=pe(e,a.sampleList),l=0;l<C.length;l++){var c=s.fields[l],f=C[l];if(f)for(n=0;n<c.length;n++)f.addData(c[n][0]/R,c[n][1])}I=o}}}function de(){for(var e,t=0;t<A.length;t++){if(e=P.getTrackIdxForId(A[t].id),-1===e)return void r.warn("CEA-608: data before track is ready.");var n=he(e);C[t]=new(h().Cea608Parser)(t+1,{newCue:n},null)}}function he(e){function t(t,r,n){var i;if(O.getTTMLRenderingDiv())i=D.createHTMLCaptionsFromScreen(O.getElement(),t,r,n);else{var a=n.getDisplayText();i=[{start:t,end:r,data:a,styles:{}}]}i&&P.addCaptions(e,0,i)}return t}function pe(e,t){if(0===t.length)return null;for(var r={splits:[],fields:[[],[]]},n=new DataView(e),i=0;i<t.length;i++)for(var a=t[i],o=h().findCea608Nalus(n,a.offset,a.size),s=null,u=0,l=0;l<o.length;l++)for(var c=h().extractCea608DataFromRange(n,o[l]),f=0;f<2;f++)if(c[f].length>0){a.cts!==s?u=0:u+=1;var d=ge();r.fields[f].push([a.cts+d*R,c[f],u]),s=a.cts}return r.fields.forEach((function(e){e.sort((function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]}))})),r}function ge(){return isNaN(t.timestampOffset)?0:t.timestampOffset}function me(e){var t=!1;return A.length>1&&e.isEmbedded?t=e.id&&e.id===n["default"].CC1:1===A.length?e.id&&"string"===typeof e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===A.length&&(t=e.index===y[0].index),t}function ve(e){var t;return e.search(n["default"].VTT)>=0?t=B.get().streaming.text.webvtt.customRenderingEnabled&&k?k:L:(e.search(n["default"].TTML)>=0||e.search(n["default"].STPP)>=0)&&(t=F),t}function ye(e,r){void 0===e&&e===r&&(e=t.buffered.start(0),r=t.buffered.end(t.buffered.length-1)),t.buffered.remove(e,r),P.deleteCuesFromTrackIdx(S,e,r)}function be(e){A.forEach((function(t){var r=P.getTrackIdxForId(t.id);r>=0&&P.deleteCuesFromTrackIdx(r,e.from,e.to)}))}function Ee(){y=[]}return t={initialize:K,addMediaInfos:W,resetMediaInfos:Ee,getStreamId:H,append:oe,abort:X,addEmbeddedTrack:te,resetEmbedded:ee,getConfig:re,setCurrentFragmentedTrackIdx:ne,remove:ye,reset:Q},V(),t}y.__dashjs_factory_name="TextSourceBuffer";const b=u["default"].getClassFactory(y)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
  !*** ./src/streaming/text/TextTracks.js ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),a=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),o=r(/*! ../../streaming/MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),s=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),u=r(/*! ../../core/Debug */"./src/core/Debug.js"),l=r(/*! imsc */"./node_modules/imsc/src/main/js/main.js");function c(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(s)throw a}}}}function f(e,t){if(e){if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=["text","images","embeddedImages","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function p(e){var t,r,s,f,d,p,g,m,v,y,b,E,_,T,w,S,A,R,I=this.context,C=(0,i["default"])(I).getInstance(),D=e.videoModel,N=e.streamInfo,x=e.settings;function M(){r=(0,u["default"])(I).getInstance().getLogger(t)}function O(){"undefined"!==typeof window&&"undefined"!==typeof navigator&&(s=window.VTTCue||window.TextTrackCue,f=[],d=[],p=-1,g=0,m=0,v=0,y=0,b=null,E=null,_=null,w=!1,A=2147483647,S=null,void 0!==document.fullscreenElement?T="fullscreenElement":void 0!==document.webkitIsFullScreen?T="webkitIsFullScreen":document.msFullscreenElement?T="msFullscreenElement":document.mozFullScreen&&(T="mozFullScreen"))}function P(){return N.id}function L(e){var t=e.kind,r=void 0!==e.id?e.id:e.lang,n=e.lang,i=e.isTTML,a=e.isEmbedded,o=D.addTextTrack(t,r,n,i,a);return o}function k(e){f.push(e)}function F(){f.sort((function(e,t){return e.index-t.index})),b=D.getTTMLRenderingDiv(),E=D.getVttRenderingDiv();for(var e=-1,t=0;t<f.length;t++){var r=L(f[t]);d.push(r),f[t].defaultTrack&&(r["default"]=!0,e=t);var i=X(t);i&&(i.mode=n["default"].TEXT_SHOWING,b&&(f[t].isTTML||f[t].isEmbedded)?i.renderingType="html":i.renderingType="default"),H(t,0,f[t].captionData),C.trigger(o["default"].TEXT_TRACK_ADDED)}if(J.call(this,e),e>=0){var s=function t(){var r=X(e);r&&"html"===r.renderingType&&B.call(this,r,!0),C.off(o["default"].PLAYBACK_METADATA_LOADED,t,this)};C.on(o["default"].PLAYBACK_METADATA_LOADED,s,this);for(var u=0;u<f.length;u++){var l=X(u);l&&(l.mode=u===e?n["default"].TEXT_SHOWING:n["default"].TEXT_HIDDEN,l.manualMode=u===e?n["default"].TEXT_SHOWING:n["default"].TEXT_HIDDEN)}}C.trigger(a["default"].TEXT_TRACKS_QUEUE_INITIALIZED,{index:p,tracks:f,streamId:N.id})}function j(e,t,r,n,i,a){var o=e/t,s=r/n,u=0,l=0;o>s?(l=t,u=l/n*r):(u=e,l=u/r*n);var c=0,f=0,d=0,h=0,p=u/l;return p>i?(h=l,d=l*i):(d=u,h=u/i),c=(e-d)/2,f=(t-h)/2,a?{x:c+.1*d,y:f+.1*h,w:.8*d,h:.8*h}:{x:c,y:f,w:d,h:h}}function B(e,t){var r=D.getClientWidth(),n=D.getClientHeight(),i=D.getVideoWidth(),a=D.getVideoHeight(),s=D.getVideoRelativeOffsetTop(),u=D.getVideoRelativeOffsetLeft();if(0!==i&&0!==a){var l=i/a,c=!1;e.isFromCEA608&&(l=3.5/3,c=!0);var f=j.call(this,r,n,i,a,l,c),d=f.w,h=f.h,p=f.x,E=f.y;if(d!=v||h!=y||p!=g||E!=m||t){if(g=p+u,m=E+s,v=d,y=h,b){var _=b.style;_&&(_.left=g+"px",_.top=m+"px",_.width=v+"px",_.height=y+"px",_.zIndex=T&&document[T]||w?A:null,C.trigger(o["default"].CAPTION_CONTAINER_RESIZE))}var S=e.activeCues;if(S)for(var R=S.length,I=0;I<R;++I){var N=S[I];N.scaleCue(N)}}}}function U(e){var t,r,n,i,a,o=v,s=y;if(e.cellResolution){var u=[o/e.cellResolution[0],s/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){var l=e.linePadding[t];r=(l*u[0]).toString();for(var c=document.getElementsByClassName("spanPadding"),f=0;f<c.length;f++)c[f].style.cssText=c[f].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r),c[f].style.cssText=c[f].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.fontSize){for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){"%"===e.fontSize[t][0]?n=e.fontSize[t][1]/100:"c"===e.fontSize[t][0]&&(n=e.fontSize[t][1]),r=(n*u[1]).toString(),a="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var d=0;d<a.length;d++)a[d].style.cssText=a[d].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){"%"===e.lineHeight[t][0]?i=e.lineHeight[t][1]/100:"c"===e.fontSize[t][0]&&(i=e.lineHeight[t][1]),r=(i*u[1]).toString(),a=document.getElementsByClassName(t);for(var h=0;h<a.length;h++)a[h].style.cssText=a[h].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}}}if(e.isd){var p=document.getElementById(e.cueID);p&&b.removeChild(p),q(e)}}function q(e){if(b){var t=document.createElement("div");b.appendChild(t),S=(0,l.renderHTML)(e.isd,t,(function(t){var r=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,n=/^#(.*)$/;if(r.test(t)){var i=r.exec(t),a=parseInt(i[4],10)-1,o=btoa(e.images[a]),s="data:image/png;base64,"+o;return s}if(n.test(t)){var u=n.exec(t),l=u[1],c="data:image/png;base64,"+e.embeddedImages[l];return c}return null}),b.clientHeight,b.clientWidth,!1,(function(e){r.info("renderCaption :",e)}),S,!0),t.id=e.cueID,C.trigger(o["default"].CAPTION_RENDERED,{captionDiv:t,currentTrackIdx:p})}}function G(e,t){if(!x.get().streaming.text.extendSegmentedCues)return!1;if(!t.cues||0===t.cues.length)return!1;var r=t.cues[t.cues.length-1];return r.endTime===e.startTime&&(!!V(r,e,h)&&(r.endTime=e.endTime,!0))}function V(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];if(JSON.stringify(e[i])!==JSON.stringify(t[i]))return!1}return!0}function H(e,t,n){var i=X(e);if(i&&Array.isArray(n)&&0!==n.length)for(var a=0;a<n.length;a++){var o=void 0,s=n[a];i.cellResolution=s.cellResolution,i.isFromCEA608=s.isFromCEA608,isNaN(s.start)||isNaN(s.end)||(o="html"===s.type&&b?Y(s,t,i):s.data?z(s,t,i):null);try{o?te(i,o)||(x.get().streaming.text.webvtt.customRenderingEnabled?(i.manualCueList||(i.manualCueList=[]),i.manualCueList.push(o)):G(o,i)||i.addCue(o)):r.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(u){throw ne(i),i.addCue(o),u}}}function Y(e,t,i){var a=this,u=new s(e.start+t,e.end+t,"");return u.cueHTMLElement=e.cueHTMLElement,u.isd=e.isd,u.images=e.images,u.embeddedImages=e.embeddedImages,u.cueID=e.cueID,u.scaleCue=U.bind(a),u.cellResolution=e.cellResolution,u.lineHeight=e.lineHeight,u.linePadding=e.linePadding,u.fontSize=e.fontSize,b.style.left=g+"px",b.style.top=m+"px",b.style.width=v+"px",b.style.height=y+"px",u.onenter=function(){i.mode===n["default"].TEXT_SHOWING&&(this.isd?(q(this),r.debug("Cue enter id:"+this.cueID)):(b.appendChild(this.cueHTMLElement),U.call(a,this),C.trigger(o["default"].CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:p})))},u.onexit=function(){if(b)for(var e=b.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(r.debug("Cue exit id:"+e[t].id),b.removeChild(e[t]),--t)},u}function z(e,t,i){var a=new s(e.start-t,e.end-t,e.data);if(a.cueID="".concat(a.startTime,"_").concat(a.endTime),a.isActive=!1,e.styles)try{void 0!==e.styles.align&&"align"in a&&(a.align=e.styles.align),void 0!==e.styles.line&&"line"in a&&(a.line=e.styles.line),void 0!==e.styles.position&&"position"in a&&(a.position=e.styles.position),void 0!==e.styles.size&&"size"in a&&(a.size=e.styles.size)}catch(u){r.error(u)}return a.onenter=function(){i.mode===n["default"].TEXT_SHOWING&&C.trigger(o["default"].CAPTION_RENDERED,{currentTrackIdx:p})},a}function K(e){var t=$();if(t&&t.length>0){var r=t[0],n=r.manualCueList;n&&n.length>0&&n.forEach((function(t){if(t.startTime<=e&&t.endTime>=e&&!t.isActive)t.isActive=!0,WebVTT.processCues(window,[t],E,t.cueID);else if(t.isActive&&(t.startTime>e||t.endTime<e)&&(t.isActive=!1,E))for(var r=E.childNodes,n=0;n<r.length;++n)r[n].id===t.cueID&&(E.removeChild(r[n]),--n)}))}}function W(){var e=$();if(e&&e.length>0){var t=e[0],r=t.manualCueList;r&&r.length>0&&r.forEach((function(e){if(e.isActive&&(e.isActive=!1,E))for(var t=E.childNodes,r=0;r<t.length;++r)t[r].id===e.cueID&&(E.removeChild(t[r]),--r)}))}}function $(){var e,t=D.getTextTracks(),r=[],i=c(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.manualMode===n["default"].TEXT_SHOWING&&r.push(a)}}catch(o){i.e(o)}finally{i.f()}return r}function X(e){return e>=0&&f[e]?D.getTextTrack(f[e].kind,f[e].id,f[e].lang,f[e].isTTML,f[e].isEmbedded):null}function Q(){return p}function Z(e){for(var t=-1,r=0;r<f.length;r++)if(f[r].id===e){t=r;break}return t}function J(e){var t=this;if(e!==p){p=e;var r=X(p);ee.call(this,r),_&&(clearInterval(_),_=null),r&&"html"===r.renderingType&&(B.call(this,r,!0),window.ResizeObserver?(R=new window.ResizeObserver((function(){B.call(t,r,!0)})),R.observe(D.getElement())):_=setInterval(B.bind(this,r),500))}}function ee(e){le.call(this),e&&"html"===e.renderingType?se.call(this):ue.call(this)}function te(e,t){if(!e.cues)return!1;for(var r=0;r<e.cues.length;r++)if(e.cues[r].startTime===t.startTime&&e.cues[r].endTime===t.endTime)return!0;return!1}function re(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(t)||(n?e.startTime:e.endTime)>=t)&&(isNaN(r)||(n?e.endTime:e.startTime)<=r)}function ne(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.cues)for(var i=e.cues,a=i.length-1,o=a;o>=0;o--)re(i[o],t,r,n)&&(i[o].onexit&&i[o].onexit(),e.removeCue(i[o]))}function ie(e,t,r){var n=X(e);n&&ne(n,t,r)}function ae(){for(var e=d?d.length:0,t=0;t<e;t++){var r=X(t);r&&ne.call(this,r,N.start,N.start+N.duration,!1)}d=[],f=[],_&&(clearInterval(_),_=null),R&&D&&(R.unobserve(D.getElement()),R=null),p=-1,le.call(this)}function oe(e){D.removeChild(d[e]),d.splice(e,1)}function se(){var e=document.getElementById("native-cue-style");if(!e){e=document.createElement("style"),e.id="native-cue-style",document.head.appendChild(e);var t=e.sheet,n=D.getElement();try{n&&(n.id?t.insertRule("#"+n.id+"::cue {background: transparent}",0):0!==n.classList.length?t.insertRule("."+n.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(i){r.info(""+i.message)}}}function ue(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function le(){if(b)while(b.firstChild)b.removeChild(b.firstChild)}function ce(e,t){var r=X(e);r&&r.mode!==t&&(r.mode=t),r&&r.manualMode!==t&&(r.manualMode=t)}function fe(){return f[p]}return t={initialize:O,getStreamId:P,addTextTrack:k,addCaptions:H,createTracks:F,getCurrentTrackIdx:Q,setCurrentTrackIdx:J,getTrackIdxForId:Z,getCurrentTrackInfo:fe,setModeForTrackIdx:ce,deleteCuesFromTrackIdx:ie,deleteAllTextTracks:ae,deleteTextTrack:oe,manualCueProcessing:K,disableManualTracks:W},M(),t}p.__dashjs_factory_name="TextTracks";const g=s["default"].getClassFactory(p)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
  \********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),a=r(/*! ../vo/Thumbnail */"./src/streaming/vo/Thumbnail.js"),o=r(/*! ./ThumbnailTracks */"./src/streaming/thumbnail/ThumbnailTracks.js"),s=r(/*! ../vo/BitrateInfo */"./src/streaming/vo/BitrateInfo.js"),u=r(/*! ../../dash/utils/SegmentsUtils */"./src/dash/utils/SegmentsUtils.js");function l(e){var t,r,n=this.context,l=e.streamInfo;function c(){y(),r=(0,o["default"])(n).create({streamInfo:l,adapter:e.adapter,baseURLController:e.baseURLController,timelineConverter:e.timelineConverter,debug:e.debug,eventBus:e.eventBus,events:e.events,dashConstants:e.dashConstants,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController})}function f(){r.addTracks();var e=r.getTracks();e&&e.length>0&&g(0)}function d(){return l.id}function h(e,t){if("function"===typeof t){var n,i,o=r.getCurrentTrack();if(!o||o.segmentDuration<=0||void 0===e||null===e)t(null);else{i=r.getThumbnailRequestForTime(e),i&&(o.segmentDuration=i.duration),n=e%o.segmentDuration;var s=Math.floor(n*o.tilesHor*o.tilesVert/o.segmentDuration),u=new a["default"];if(u.width=Math.floor(o.widthPerTile),u.height=Math.floor(o.heightPerTile),u.x=Math.floor(s%o.tilesHor)*o.widthPerTile,u.y=Math.floor(s/o.tilesHor)*o.heightPerTile,"readThumbnail"in o)return o.readThumbnail(e,(function(e){u.url=e,t(u)}));if(i)u.url=i.url,o.segmentDuration=NaN;else{var l=Math.floor(e/o.segmentDuration);u.url=p(o,l)}t(u)}}}function p(e,t){var r=t+e.startNumber,n=(0,u.replaceTokenForTemplate)(e.templateUrl,"Number",r);return n=(0,u.replaceTokenForTemplate)(n,"Time",(r-1)*e.segmentDuration*e.timescale),n=(0,u.replaceTokenForTemplate)(n,"Bandwidth",e.bandwidth),(0,u.unescapeDollarsInTemplate)(n)}function g(e){r.setTrackByIndex(e)}function m(){return r.getCurrentTrackIndex()}function v(){var e=r.getTracks(),t=0;return e.map((function(e){var r=new s["default"];return r.mediaType=i["default"].IMAGE,r.qualityIndex=t++,r.bitrate=e.bitrate,r.width=e.width,r.height=e.height,r}))}function y(){r&&r.reset()}return t={getStreamId:d,initialize:f,provide:h,setTrackByIndex:g,getCurrentTrackIndex:m,getBitrateList:v,reset:y},c(),t}l.__dashjs_factory_name="ThumbnailController";const c=n["default"].getClassFactory(l)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
  \****************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{THUMBNAILS_SCHEME_ID_URIS:()=>h,default:()=>g});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ../../dash/constants/DashConstants */"./src/dash/constants/DashConstants.js"),a=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! ../vo/ThumbnailTrackInfo */"./src/streaming/vo/ThumbnailTrackInfo.js"),s=r(/*! ../../streaming/utils/URLUtils */"./src/streaming/utils/URLUtils.js"),u=r(/*! ../../dash/utils/SegmentsUtils */"./src/dash/utils/SegmentsUtils.js"),l=r(/*! ../../streaming/utils/BoxParser */"./src/streaming/utils/BoxParser.js"),c=r(/*! ../../streaming/net/XHRLoader */"./src/streaming/net/XHRLoader.js"),f=r(/*! ../../dash/DashHandler */"./src/dash/DashHandler.js"),d=r(/*! ../../dash/controllers/SegmentsController */"./src/dash/controllers/SegmentsController.js"),h=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function p(e){var t,r,a,p,g,m,v,y,b=this.context,E=e.adapter,_=e.baseURLController,T=e.streamInfo,w=e.timelineConverter,S=e.debug,A=e.eventBus,R=e.events,I=e.dashConstants,C=(0,s["default"])(b).getInstance();function D(){U(),v=(0,c["default"])(b).create({}),y=(0,l["default"])(b).getInstance(),m=(0,d["default"])(b).create({events:R,eventBus:A,streamInfo:T,timelineConverter:w,dashConstants:I,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController,type:n["default"].IMAGE}),a=(0,f["default"])(b).create({streamInfo:T,type:n["default"].IMAGE,timelineConverter:w,segmentsController:m,baseURLController:_,debug:S,eventBus:A,events:R,dashConstants:I,urlUtils:C}),a.initialize(!!E&&E.getIsDynamic())}function N(){if(T&&E&&(g=E.getMediaInfoForType(T,n["default"].IMAGE),g)){var e=E.getVoRepresentations(g);e&&e.length>0&&e.forEach((function(e){(e.segmentInfoType===i["default"].SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media||e.segmentInfoType===i["default"].SEGMENT_TIMELINE)&&x(e),e.segmentInfoType===i["default"].SEGMENT_BASE&&x(e,!0)})),r.length>0&&r.sort((function(e,t){return e.bitrate-t.bitrate}))}}function x(e,t){var n=new o["default"];n.id=e.id,n.bitrate=e.bandwidth,n.width=e.width,n.height=e.height,n.tilesHor=1,n.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach((function(e){if(h.indexOf(e.schemeIdUri)>=0&&e.value){var t=e.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(n.tilesHor=parseInt(t[0],10),n.tilesVert=parseInt(t[1],10))}})),t?m.updateSegmentData(e).then((function(t){M(n,e,t)})):(n.startNumber=e.startNumber,n.segmentDuration=e.segmentDuration,n.timescale=e.timescale,n.templateUrl=P(e)),n.tilesHor>0&&n.tilesVert>0&&(n.widthPerTile=n.width/n.tilesHor,n.heightPerTile=n.height/n.tilesVert,r.push(n))}function M(e,t,r){var n=[],i=O(r,t);t.segments=i,e.segmentDuration=t.segments[0].duration,e.readThumbnail=function(e,r){var i=null;n.some((function(t){if(t.start<=e&&t.end>e)return i=t.url,!0})),i?r(i):t.segments.some((function(i){if(i.mediaStartTime<=e&&i.mediaStartTime+i.duration>e){var a=_.resolve(t.path);return v.load({method:"get",url:a.url,request:{range:i.mediaRange,responseType:"arraybuffer"},onload:function(e){var t=y.getSamplesInfo(e.target.response),a=new Blob([e.target.response.slice(t.sampleList[0].offset,t.sampleList[0].offset+t.sampleList[0].size)],{type:"image/jpeg"}),o=window.URL.createObjectURL(a);n.push({start:i.mediaStartTime,end:i.mediaStartTime+i.duration,url:o}),r&&r(o)}}),!0}}))}}function O(e,t){var r,n,i,a,o=[],s=0;for(r=0,n=e.segments.length;r<n;r++)i=e.segments[r],a=(0,u.getTimeBasedSegment)(w,E.getIsDynamic(),t,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,s),a&&(o.push(a),a=null,s++);return o}function P(e){var t=C.isRelative(e.media)?C.resolve(e.media,_.resolve(e.path).url):e.media;return t?(0,u.replaceIDForTemplate)(t,e.id):""}function L(){return r}function k(){return p}function F(){return p<0?null:r[p]}function j(e){r&&0!==r.length&&(e>=r.length&&(e=r.length-1),p=e)}function B(e){for(var t,n=E.getVoRepresentations(g),i=0;i<n.length;i++)if(r[p].id===n[i].id){t=n[i];break}return a.getSegmentRequestForTime(g,t,e)}function U(){r=[],p=-1,g=null}return t={getTracks:L,addTracks:N,reset:U,setTrackByIndex:j,getCurrentTrack:F,getCurrentTrackIndex:k,getThumbnailRequestForTime:B},D(),t}p.__dashjs_factory_name="ThumbnailTracks";const g=a["default"].getClassFactory(p)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
  !*** ./src/streaming/utils/BaseURLSelector.js ***!
  \************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../../core/errors/Errors */"./src/core/errors/Errors.js"),i=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),a=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),o=r(/*! ../controllers/BlacklistController */"./src/streaming/controllers/BlacklistController.js"),s=r(/*! ./baseUrlResolution/DVBSelector */"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),u=r(/*! ./baseUrlResolution/BasicSelector */"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),l=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),c=r(/*! ../vo/DashJSError */"./src/streaming/vo/DashJSError.js"),f=r(/*! ../utils/SupervisorTools */"./src/streaming/utils/SupervisorTools.js"),d=r(/*! ./baseUrlResolution/ContentSteeringSelector */"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),h=r(/*! ../../core/Settings */"./src/core/Settings.js");function p(){var e,t,r,l,p,g,m=this.context,v=(0,i["default"])(m).getInstance(),y=(0,h["default"])(m).getInstance();function b(){t=(0,o["default"])(m).create({updateEventName:a["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:a["default"].SERVICE_LOCATION_BLACKLIST_ADD}),r=(0,u["default"])(m).create({blacklistController:t}),l=(0,s["default"])(m).create({blacklistController:t}),p=(0,d["default"])(m).create(),p.setConfig({blacklistController:t}),g=r}function E(e){e.selector&&(g=e.selector),e.contentSteeringSelector&&(p=e.contentSteeringSelector)}function _(e){(0,f.checkParameterType)(e,"boolean"),g=e?l:r}function T(e){if(e){if(y.get().streaming.applyContentSteering){var t=p.selectBaseUrlIndex(e);isNaN(t)||-1===t||(e.selectedIdx=t)}if(!isNaN(e.selectedIdx))return e.baseUrls[e.selectedIdx];var i=g.select(e.baseUrls);return i?(e.selectedIdx=e.baseUrls.indexOf(i),i):(v.trigger(a["default"].URL_RESOLUTION_FAILED,{error:new c["default"](n["default"].URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,n["default"].URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(g===r&&w()))}}function w(){t.reset()}return e={chooseSelector:_,select:T,reset:w,setConfig:E},b(),e}p.__dashjs_factory_name="BaseURLSelector";const g=l["default"].getClassFactory(p)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
  !*** ./src/streaming/utils/BoxParser.js ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ../../core/Debug */"./src/core/Debug.js"),i=r(/*! ./IsoFile */"./src/streaming/utils/IsoFile.js"),a=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),o=r(/*! codem-isoboxer */"./node_modules/codem-isoboxer/dist/iso_boxer.js"),s=r(/*! ../vo/IsoBoxSearchInfo */"./src/streaming/vo/IsoBoxSearchInfo.js");function u(){var e,t,r=this.context;function a(){e=(0,n["default"])(r).getInstance().getLogger(t)}function u(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=o.parseBuffer(e),n=(0,i["default"])(r).create();return n.setData(t),n}function l(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new s["default"](0,!1);var n,i=t instanceof ArrayBuffer?new Uint8Array(t):t,a=0;while(r<i.byteLength){var o=d(i,r),u=h(i,r+4);if(0===o)break;r+o<=i.byteLength&&(e.indexOf(u)>=0?n=new s["default"](r,!0,o):a=r+o),r+=o}return n||new s["default"](a,!1)}function c(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,r,n,i,a,o,s,l,c,f,d,h,p,g,m,v,y,b=u(e),E=b.getBoxes("moof"),_=b.getBoxes("mfhd");v=b.getBoxes("moof").length,m=_[_.length-1].sequence_number,n=0,o=[];var T=-1,w=-1;for(d=0;d<E.length;d++){var S=E[d],A=S.getChildBoxes("traf");for(c=0;c<A.length;c++){var R=A[c],I=R.getChildBox("tfhd"),C=R.getChildBox("tfdt");a=C.baseMediaDecodeTime;var D=R.getChildBoxes("trun"),N=R.getChildBoxes("subs");for(f=0;f<D.length;f++){var x=D[f];for(n=x.sample_count,g=(I.base_data_offset||0)+(x.data_offset||0),l=0;l<n;l++){s=x.samples[l],t=void 0!==s.sample_duration?s.sample_duration:I.default_sample_duration,i=void 0!==s.sample_size?s.sample_size:I.default_sample_size,r=void 0!==s.sample_composition_time_offset?s.sample_composition_time_offset:0;var M={dts:a,cts:a+r,duration:t,offset:S.offset+g,size:i,subSizes:[i]};if(N)for(h=0;h<N.length;h++){var O=N[h];if(T<O.entry_count-1&&l>w&&(T++,w+=O.entries[T].sample_delta),l==w){M.subSizes=[];var P=O.entries[T];for(p=0;p<P.subsample_count;p++)M.subSizes.push(P.subsamples[p].subsample_size)}}o.push(M),g+=i,a+=t}}y=a-C.baseMediaDecodeTime}}return{sampleList:o,lastSequenceNumber:m,totalDuration:y,numSequences:v}}function f(e){var t=u(e),r=t?t.getBox("mdhd"):void 0;return r?r.timescale:NaN}function d(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function h(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}function p(t){var r,n,i=null,a=u(t);if(!a)return i;var o=a.getBox("ftyp"),s=a.getBox("moov");return e.debug("Searching for initialization."),s&&s.isComplete&&(r=o?o.offset:s.offset,n=s.offset+s.size-1,i=r+"-"+n,e.debug("Found the initialization.  Range: "+i)),i}function g(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new s["default"](0,!1);var n,i=t instanceof ArrayBuffer?new Uint8Array(t):t,a=0;while(r<i.byteLength){var o=d(i,r),u=h(i,r+4);if(0===o)break;r+o<=i.byteLength&&(e.indexOf(u)>=0?n=new s["default"](r,!0,o,u):a=r+o),r+=o}return n||new s["default"](a,!1)}return t={parse:u,findLastTopIsoBoxCompleted:l,getMediaTimescaleFromMoov:f,getSamplesInfo:c,findInitRange:p,parsePayload:g},a(),t}u.__dashjs_factory_name="BoxParser";const l=a["default"].getSingletonFactory(u)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
  !*** ./src/streaming/utils/Capabilities.js ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,supportsMediaSource:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../thumbnail/ThumbnailTracks */"./src/streaming/thumbnail/ThumbnailTracks.js"),a=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),o=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function s(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t}function u(){var e,t,r;function n(){r=!1}function u(e){e&&e.settings&&(t=e.settings)}function l(){return r}function c(e){r=e}function f(e,t){return t!==a["default"].AUDIO&&t!==a["default"].VIDEO?Promise.resolve(!0):d(e,t)?p(e,t):h(e)}function d(e,r){return t.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(e.codec&&r===a["default"].AUDIO||r===a["default"].VIDEO&&e.codec&&e.width&&e.height&&e.bitrate&&e.framerate)}function h(e){return new Promise((function(t){if(e&&e.codec){var r=e.codec;e.width&&e.height&&(r+=';width="'+e.width+'";height="'+e.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(r)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(r)?t(!0):t(!1)}else t(!1)}))}function p(e,t){return new Promise((function(r){if(e&&e.codec){var n={type:"media-source"};n[t]={},n[t].contentType=e.codec,n[t].width=e.width,n[t].height=e.height,n[t].bitrate=parseInt(e.bitrate),n[t].framerate=parseFloat(e.framerate),navigator.mediaCapabilities.decodingInfo(n).then((function(e){r(e.supported)}))["catch"]((function(){r(!1)}))}else r(!1)}))}function g(e){try{return-1!==i.THUMBNAILS_SCHEME_ID_URIS.indexOf(e.schemeIdUri)}catch(t){return!0}}function m(e,t){for(var r,n=e.split(".")[0],i=0===t.indexOf(n),a=0;a<o.length;a++)if(o[a].codec===n){r=o[a];break}return r?i||r.compatibleCodecs.some((function(e){return 0===t.indexOf(e)})):i}return e={setConfig:u,supportsMediaSource:s,supportsEncryptedMedia:l,supportsCodec:f,setEncryptedMediaSupported:c,supportsEssentialProperty:g,codecRootCompatibleWithCodec:m},n(),e}u.__dashjs_factory_name="Capabilities";const l=n["default"].getSingletonFactory(u)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
  \***************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),o=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),s=r(/*! ../../core/events/Events */"./src/core/events/Events.js");function u(){var e,t,r,n,u,l,c=this.context,f=(0,o["default"])(c).getInstance();function d(){l=(0,i["default"])(c).getInstance().getLogger(e)}function h(e){e&&(e.adapter&&(t=e.adapter),e.capabilities&&(r=e.capabilities),e.settings&&(n=e.settings),e.customParametersModel&&(u=e.customParametersModel))}function p(e){return new Promise((function(t){var r=[];r.push(g(a["default"].VIDEO,e)),r.push(g(a["default"].AUDIO,e)),Promise.all(r).then((function(){n.get().streaming.capabilities.filterUnsupportedEssentialProperties&&_(e),T(e),t()}))["catch"]((function(){t()}))}))}function g(e,t){if(!t||!t.Period_asArray||0===t.Period_asArray.length)return Promise.resolve();var r=[];return t.Period_asArray.forEach((function(t){r.push(m(t,e))})),Promise.all(r)}function m(e,r){return new Promise((function(n){if(e&&e.AdaptationSet_asArray&&0!==e.AdaptationSet_asArray.length){var i=[];e.AdaptationSet_asArray.forEach((function(e){t.getIsTypeOf(e,r)&&i.push(v(e,r))})),Promise.all(i).then((function(){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){var t=e.Representation_asArray&&e.Representation_asArray.length>0;return t||(f.trigger(s["default"].ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:e}),l.warn("AdaptationSet has been removed because of no supported Representation")),t})),n()}))["catch"]((function(){n()}))}else n()}))}function v(e,n){return new Promise((function(i){if(e.Representation_asArray&&0!==e.Representation_asArray.length){var a=[],o=[];e.Representation_asArray.forEach((function(i,s){var u=t.getCodec(e,s,!1),l=y(n,i,u);o.push(l),a.push(r.supportsCodec(l,n))})),Promise.all(a).then((function(t){e.Representation_asArray=e.Representation_asArray.filter((function(e,r){return t[r]||l.debug("[Stream] Codec ".concat(o[r].codec," not supported ")),t[r]})),i()}))["catch"]((function(){i()}))}else i()}))}function y(e,t,r){switch(e){case a["default"].VIDEO:return b(t,r);case a["default"].AUDIO:return E(t,r);default:return null}}function b(e,t){var r=e.width||null,n=e.height||null,i=e.frameRate||null,a=e.bandwidth||null;return{codec:t,width:r,height:n,framerate:i,bitrate:a}}function E(e,t){var r=e.audioSamplingRate||null,n=e.bandwidth||null;return{codec:t,bitrate:n,samplerate:r}}function _(e){e&&e.Period_asArray&&0!==e.Period_asArray.length&&e.Period_asArray.forEach((function(e){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){return!e.Representation_asArray||0===e.Representation_asArray.length||(e.Representation_asArray=e.Representation_asArray.filter((function(e){var n=t.getEssentialPropertiesForRepresentation(e);if(n&&n.length>0){var i=0;while(i<n.length){if(!r.supportsEssentialProperty(n[i]))return l.debug("[Stream] EssentialProperty not supported: "+n[i].schemeIdUri),!1;i+=1}}return!0})),e.Representation_asArray&&e.Representation_asArray.length>0)}))}))}function T(e){var t=u.getCustomCapabilitiesFilters();t&&0!==t.length&&e&&e.Period_asArray&&0!==e.Period_asArray.length&&e.Period_asArray.forEach((function(e){e.AdaptationSet_asArray=e.AdaptationSet_asArray.filter((function(e){return!e.Representation_asArray||0===e.Representation_asArray.length||(e.Representation_asArray=e.Representation_asArray.filter((function(e){return!t.some((function(t){return!t(e)}))})),e.Representation_asArray&&e.Representation_asArray.length>0)}))}))}return e={setConfig:h,filterUnsupportedFeatures:p},d(),e}u.__dashjs_factory_name="CapabilitiesFilter";const l=n["default"].getSingletonFactory(u)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
  \*************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../utils/SupervisorTools */"./src/streaming/utils/SupervisorTools.js");function a(){var e=[],t=0;function r(e,t){var r=0;for(r=0;r<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[r].start;r++);for(this.customTimeRangeArray.splice(r,0,{start:e,end:t}),r=0;r<this.customTimeRangeArray.length-1;r++)this.mergeRanges(r,r+1)&&r--;this.length=this.customTimeRangeArray.length}function n(){this.customTimeRangeArray=[],this.length=0}function a(e,t){for(var r=0;r<this.customTimeRangeArray.length;r++)if(e<=this.customTimeRangeArray[r].start&&t>=this.customTimeRangeArray[r].end)this.customTimeRangeArray.splice(r,1),r--;else{if(e>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end){this.customTimeRangeArray.splice(r+1,0,{start:t,end:this.customTimeRangeArray[r].end}),this.customTimeRangeArray[r].end=e;break}e>this.customTimeRangeArray[r].start&&e<this.customTimeRangeArray[r].end?this.customTimeRangeArray[r].end=e:t>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end&&(this.customTimeRangeArray[r].start=t)}this.length=this.customTimeRangeArray.length}function o(e,t){var r=this.customTimeRangeArray[e],n=this.customTimeRangeArray[t];return r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(r.end=n.end,this.customTimeRangeArray.splice(t,1),!0):n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(r.start=n.start,this.customTimeRangeArray.splice(t,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end?(this.customTimeRangeArray.splice(e,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end&&(this.customTimeRangeArray.splice(t,1),!0)}function s(e){return(0,i.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start}function u(e){return(0,i.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}return{customTimeRangeArray:e,length:t,add:r,clear:n,remove:a,mergeRanges:o,start:s,end:u}}a.__dashjs_factory_name="CustomTimeRanges";const o=n["default"].getClassFactory(a)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
  !*** ./src/streaming/utils/DOMStorage.js ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),o=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],s="dashjs_?_bitrate",u="dashjs_?_settings",l="localStorage",c="sessionStorage",f="lastBitrate",d="lastMediaSettings";function h(e){e=e||{};var t,r,n,h=this.context,p=e.settings;function g(){r=(0,i["default"])(h).getInstance().getLogger(t),v()}function m(e){if(void 0!==n)return n;n=!1;var t,i="1",a="1";try{"undefined"!==typeof window&&(t=window[e])}catch(o){return r.warn("DOMStorage access denied: "+o.message),n}if(!t||e!==l&&e!==c)return n;try{t.setItem(i,a),t.removeItem(i),n=!0}catch(o){r.warn("DOMStorage is supported, but cannot be used: "+o.message)}return n}function v(){m(l)&&o.forEach((function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(n){r.error(n.message)}}}))}function y(){var e=6e5;return Math.round((new Date).getTime()/e)*e}function b(e,t){return m(e)&&p.get().streaming[t+"CachingInfo"].enabled}function E(){if(!p)throw new Error(a["default"].MISSING_CONFIG_ERROR)}function _(e){if(E(),!p.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var t=null;if(b(l,d)){var r=u.replace(/\?/,e);try{var n=JSON.parse(localStorage.getItem(r))||{},i=(new Date).getTime()-parseInt(n.timestamp,10)>=p.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;t=n.settings,i&&(localStorage.removeItem(r),t=null)}catch(a){return null}}return t}function T(e){if(E(),!p.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var t=NaN;if(b(l,f)){var n=s.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(n))||{},a=(new Date).getTime()-parseInt(i.timestamp,10)>=p.get().streaming.lastBitrateCachingInfo.ttl||!1,o=parseFloat(i.bitrate);isNaN(o)||a?a&&localStorage.removeItem(n):(t=o,r.debug("Last saved bitrate for "+e+" was "+o))}catch(u){return null}}return t}function w(e,t){if(b(l,d)){var n=u.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:y()}))}catch(i){r.error(i.message)}}}function S(e,t){if(b(l,f)&&t){var n=s.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t.toFixed(3),timestamp:y()}))}catch(i){r.error(i.message)}}}return t={getSavedBitrateSettings:T,setSavedBitrateSettings:S,getSavedMediaSettings:_,setSavedMediaSettings:w},g(),t}h.__dashjs_factory_name="DOMStorage";var p=n["default"].getSingletonFactory(h);const g=p},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
  \************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(){var e,t=/^[a-z][a-z0-9+\-_.]*:/i,r=/^https?:\/\//i,n=/^https:\/\//i,i=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,a=function(e,t){try{return new window.URL(e,t).toString()}catch(r){return e}},o=function(e,t){var r=u;if(!t)return e;if(!d(e))return e;h(e)&&(r=l),p(e)&&(r=f);var n=r(t),i="/"!==n.charAt(n.length-1)&&"/"!==e.charAt(0)?"/":"";return[n,e].join(i)};function s(){try{new window.URL("x","http://y");e=a}catch(t){}finally{e=e||o}}function u(e){var t=e.indexOf("/"),r=e.lastIndexOf("/");return-1!==t?r===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,r+1)):""}function l(e){var t=e.match(i);return t?t[1]:""}function c(e){var t=/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e);return t[2].substring(1)}function f(e){var r=e.match(t);return r?r[0]:""}function d(e){return!t.test(e)}function h(e){return d(e)&&"/"===e.charAt(0)}function p(e){return 0===e.indexOf("//")}function g(e){return r.test(e)}function m(e){return n.test(e)}function v(t,r){return e(t,r)}s();var y={parseBaseUrl:u,parseOrigin:l,parseScheme:f,isRelative:d,isPathAbsolute:h,isSchemeRelative:p,isHTTPURL:g,isHTTPS:m,removeHostname:c,resolve:v};return y}i.__dashjs_factory_name="DefaultURLUtils";const a=n["default"].getSingletonFactory(i)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
  !*** ./src/streaming/utils/EBMLParser.js ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(e){var t;e=e||{};var r=new DataView(e.data),n=0;function i(){return n}function a(e){n=e}function o(e,t){var i,a,o=!0,s=0;if(void 0===t&&(t=!1),e.tag>16777215?(r.getUint32(n)!==e.tag&&(o=!1),s=4):e.tag>65535?(i=r.getUint16(n),a=r.getUint8(n+2),256*i+a!==e.tag&&(o=!1),s=3):e.tag>255?(r.getUint16(n)!==e.tag&&(o=!1),s=2):(r.getUint8(n)!==e.tag&&(o=!1),s=1),!o&&e.required&&!t)throw new Error("required tag not found");return o&&(n+=s),o}function s(e,t){var r=o(e,t);return r&&c(),r}function u(e){var r;return o(e),r=c(),t[e.parse](r)}function l(e,t){var r,i=o(e,t);return i&&(r=c(),n+=r),i}function c(e){var t=1,i=128,a=8,o=-1,s=0,u=r.getUint8(n),l=0;for(l=0;l<a;l+=1){if((u&i)===i){s=void 0===e?u&~i:u,o=l;break}i>>=1}for(l=0;l<o;l+=1,t+=1)s=s<<8|255&r.getUint8(n+t);return n+=t,s}function f(e){var t;switch(e){case 4:t=r.getFloat32(n),n+=4;break;case 8:t=r.getFloat64(n),n+=8;break}return t}function d(e){for(var t=0,i=0;i<e;i+=1)t<<=8,t|=255&r.getUint8(n+i);return n+=e,t}function h(){return n<r.byteLength}return t={getPos:i,setPos:a,consumeTag:o,consumeTagAndSize:s,parseTag:u,skipOverElement:l,getMatroskaCodedNum:c,getMatroskaFloat:f,getMatroskaUint:d,moreData:h},t}i.__dashjs_factory_name="EBMLParser";const a=n["default"].getClassFactory(i)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
  !*** ./src/streaming/utils/ErrorHandler.js ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),i=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),a=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function o(){var e,t=this.context,r=(0,n["default"])(t).getInstance();function a(e){r.trigger(i["default"].ERROR,{error:e})}return e={error:a},e}o.__dashjs_factory_name="ErrorHandler";const s=a["default"].getSingletonFactory(o)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
  !*** ./src/streaming/utils/InitCache.js ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(){var e={};function t(t){var r=t.streamId,n=t.representationId;e[r]=e[r]||{},e[r][n]=t}function r(t,r){return e&&e[t]&&e[t][r]?e[t][r]:null}function n(){e={}}var i={save:t,extract:r,reset:n};return i}i.__dashjs_factory_name="InitCache";const a=n["default"].getSingletonFactory(i)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
  !*** ./src/streaming/utils/IsoFile.js ***!
  \****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../vo/IsoBox */"./src/streaming/vo/IsoBox.js"),i=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function a(){var e,t;function r(e){return e&&t&&t.boxes&&0!==t.boxes.length&&"function"===typeof t.fetch?s(t.fetch(e)):null}function i(e){var r=[];if(!e||!t||"function"!==typeof t.fetchAll)return r;for(var n,i=t.fetchAll(e),a=0,o=i.length;a<o;a++)n=s(i[a]),n&&r.push(n);return r}function a(e){t=e}function o(){if(!t||!t.boxes||!t.boxes.length)return null;var e=t.boxes[t.boxes.length-1].type,r=i(e);return r.length>0?r[r.length-1]:null}function s(e){if(!e)return null;var t=new n["default"](e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return e={getBox:r,getBoxes:i,setData:a,getLastBox:o},e}a.__dashjs_factory_name="IsoFile";const o=i["default"].getClassFactory(a)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
  !*** ./src/streaming/utils/ObjectUtils.js ***!
  \********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! fast-deep-equal */"./node_modules/fast-deep-equal/index.js"),a=r.n(i);function o(){var e;function t(e,t){return a()(e,t)}return e={areEqual:t},e}o.__dashjs_factory_name="ObjectUtils";const s=n["default"].getSingletonFactory(o)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
  !*** ./src/streaming/utils/RequestModifier.js ***!
  \************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,modifyRequest:()=>i});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(e,t){var r={url:e.url,method:e.method,headers:Object.assign({},e.headers),credentials:e.withCredentials?"include":void 0};return Promise.resolve(t.modifyRequest(r)).then((function(){return Object.assign(e,r,{withCredentials:"include"===r.credentials})}))}function a(){var e;function t(e){return e}function r(e,t){t.url;return e}return e={modifyRequest:null,modifyRequestURL:t,modifyRequestHeader:r},e}a.__dashjs_factory_name="RequestModifier";const o=n["default"].getSingletonFactory(a)},"./src/streaming/utils/SegmentResponseModifier.js":
/*!********************************************************!*\
  !*** ./src/streaming/utils/SegmentResponseModifier.js ***!
  \********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(){var e;function t(e){return Promise.resolve(e)}return e={modifyResponseAsync:t},e}i.__dashjs_factory_name="SegmentResponseModifier";const a=n["default"].getSingletonFactory(i)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
  !*** ./src/streaming/utils/SupervisorTools.js ***!
  \************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{checkInteger:()=>o,checkIsVideoOrAudioType:()=>u,checkParameterType:()=>a,checkRange:()=>s});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(i(e)!==t)throw n["default"].BAD_ARGUMENT_ERROR}function o(e){var t=null!==e&&!isNaN(e)&&e%1===0;if(!t)throw n["default"].BAD_ARGUMENT_ERROR+" : argument is not an integer"}function s(e,t,r){if(e<t||e>r)throw n["default"].BAD_ARGUMENT_ERROR+" : argument out of range"}function u(e){if("string"!==typeof e||e!==n["default"].AUDIO&&e!==n["default"].VIDEO)throw n["default"].BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
  !*** ./src/streaming/utils/TTMLParser.js ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a=r(/*! ../../core/EventBus */"./src/core/EventBus.js"),o=r(/*! ../../core/events/Events */"./src/core/events/Events.js"),s=r(/*! imsc */"./node_modules/imsc/src/main/js/main.js"),u=r(/*! ../MediaPlayerEvents */"./src/streaming/MediaPlayerEvents.js"),l=r(/*! ../constants/ConformanceViolationConstants */"./src/streaming/constants/ConformanceViolationConstants.js");function c(){var e,t,r=this.context,n=(0,a["default"])(r).getInstance(),c=0;function f(){t=(0,i["default"])(r).getInstance().getLogger(e)}function d(){var e="cue_TTML_"+c;return c++,e}function h(e,r,i,a,c){var f,h,p,g="",m=[],v={},y={},b="",E="",_={onOpenTag:function(e,r,i){if(i[" imagetype"]&&!i[" imageType"]&&(n.trigger(u["default"].CONFORMANCE_VIOLATION,{level:l["default"].LEVELS.ERROR,event:l["default"].EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),i[" imageType"]=i[" imagetype"]),"image"===r&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===e)){if(!i[" imageType"]||"PNG"!==i[" imageType"].value)return void t.warn("smpte-tt imageType != PNG. Discarded");b=i["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){b&&(y[b]=E.trim()),E="",b=""},onText:function(e){b&&(E+=e)}};if(!e)throw g="no ttml data to parse",new Error(g);v.data=e,n.trigger(o["default"].TTML_TO_PARSE,v);var T=(0,s.fromXML)(v.data,(function(e){g=e}),_);n.trigger(o["default"].TTML_PARSED,{ttmlString:v.data,ttmlDoc:T});var w=T.getMediaTimeEvents();for(p=0;p<w.length;p++){var S=(0,s.generateISD)(T,w[p],(function(e){g=e}));S.contents.some((function(e){return e.contents.length}))&&(f=w[p]+r<i?i:w[p]+r,h=w[p+1]+r>a?a:w[p+1]+r,f<h&&m.push({start:f,end:h,type:"html",cueID:d(),isd:S,images:c,embeddedImages:y}))}if(""!==g)throw t.error(g),new Error(g);return m}return e={parse:h},f(),e}c.__dashjs_factory_name="TTMLParser";const f=n["default"].getSingletonFactory(c)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
  !*** ./src/streaming/utils/URLUtils.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ./DefaultURLUtils */"./src/streaming/utils/DefaultURLUtils.js");function a(){var e,t,r=[],n=this.context;function a(e){var n;for(n=0;n<r.length;n++){var i=r[n].regex;if(i.test(e))return r[n].utils}return t}function o(){t=(0,i["default"])(n).getInstance()}function s(e,t){r.push({regex:e,utils:t})}function u(e,r,n){var i=a(n||r);return i&&"function"===typeof i[e]?i[e](r,n):t[e](r,n)}function l(e){return u("parseBaseUrl",e)}function c(e){return u("parseOrigin",e)}function f(e){return u("removeHostname",e)}function d(e){return u("parseScheme",e)}function h(e){return u("isRelative",e)}function p(e){return u("isPathAbsolute",e)}function g(e){return u("isSchemeRelative",e)}function m(e){return u("isHTTPURL",e)}function v(e){return u("isHTTPS",e)}function y(e,t){return u("resolve",e,t)}return o(),e={registerUrlRegex:s,parseBaseUrl:l,parseOrigin:c,parseScheme:d,isRelative:h,isPathAbsolute:p,isSchemeRelative:g,isHTTPURL:m,isHTTPS:v,removeHostname:f,resolve:y},e}a.__dashjs_factory_name="URLUtils";var o=n["default"].getSingletonFactory(a);const s=o},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
  !*** ./src/streaming/utils/VTTParser.js ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../core/Debug */"./src/core/Debug.js"),a="WEBVTT";function o(){var e,t,r,n,o,s,u=this.context;function l(){t=(0,i["default"])(u).getInstance().getLogger(e),r=/(?:\r\n|\r|\n)/gm,n=/-->/,o=/(^[\s]+|[\s]+$)/g,s=/\s\b/g}function c(e){var i,s,u=[];if(!e)return u;e=e.split(r),i=e.length,s=-1;for(var l=0;l<i;l++){var c=e[l];if(c.length>0&&c!==a&&c.match(n)){var h=d(c),g=h.cuePoints,m=h.styles,v=p(e,l+1),y=f(g[0].replace(o,"")),b=f(g[1].replace(o,""));!isNaN(y)&&!isNaN(b)&&y>=s&&b>y?""!==v?(s=y,u.push({start:y,end:b,data:v,styles:m})):t.error("Skipping cue due to empty/malformed cue text"):t.error("Skipping cue due to incorrect cue timing")}}return u}function f(e){var t=e.split(":"),r=t.length-1;return e=60*parseInt(t[r-1],10)+parseFloat(t[r]),2===r&&(e+=3600*parseInt(t[0],10)),e}function d(e){var t=e.split(n),r=t[1].split(s);return r.shift(),t[1]=r[0],r.shift(),{cuePoints:t,styles:h(r)}}function h(e){var t={};return e.forEach((function(e){if(e.split(/:/).length>1){var r=e.split(/:/)[1];r&&-1!=r.search(/%/)&&(r=parseInt(r.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=r),(e.match(/line/)||e.match(/L/))&&(t.line=r),(e.match(/position/)||e.match(/P/))&&(t.position=r),(e.match(/size/)||e.match(/S/))&&(t.size=r)}})),t}function p(e,t){var r,i=t,a="",o="";while(""!==e[i]&&i<e.length)i++;if(r=i-t,r>1)for(var s=0;s<r;s++){if(o=e[t+s],o.match(n)){a="";break}a+=o,s!==r-1&&(a+="\n")}else o=e[t],o.match(n)||(a=o);return a}return e={parse:c},l(),e}o.__dashjs_factory_name="VTTParser";const s=n["default"].getSingletonFactory(o)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
  \*********************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(){var e,t;function r(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(t=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch(e){}}function n(e){var r=[];return t.oncue=function(e){e.start=e.startTime,e.end=e.endTime,e.data=e.text,e.styles={align:e.align,line:e.line,position:e.position,size:e.size},r.push(e)},t.parse(e),r}return e={parse:n},r(),e}i.__dashjs_factory_name="VttCustomRenderingParser";const a=n["default"].getSingletonFactory(i)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
  \****************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(e){var t;e=e||{};var r=e.blacklistController;function n(e){var t,n=0;return e&&e.some((function(e,t){return n=t,!r.contains(e.serviceLocation)}))&&(t=e[n]),t}return t={select:n},t}i.__dashjs_factory_name="BasicSelector";const a=n["default"].getClassFactory(i)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
  \**************************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js"),i=r(/*! ../../../dash/controllers/ContentSteeringController */"./src/dash/controllers/ContentSteeringController.js");function a(){var e,t,r,n=this.context;function a(){t=(0,i["default"])(n).getInstance()}function o(e){e.blacklistController&&(r=e.blacklistController),e.contentSteeringController&&(t=e.contentSteeringController)}function s(e){var r=NaN;if(isNaN(e.selectedIdx)){var n=t.getSteeringDataFromManifest();n&&n.defaultServiceLocation&&(r=u([n.defaultServiceLocation],e.baseUrls))}var i=t.getCurrentSteeringResponseData();return e.baseUrls&&e.baseUrls.length&&i&&i.serviceLocationPriority&&i.serviceLocationPriority.length&&(r=u(i.serviceLocationPriority,e.baseUrls)),r}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0,i=NaN,a=function(){var a=e[n],o=t.findIndex((function(e){return e.serviceLocation&&e.serviceLocation===a}));if(-1!==o&&!r.contains(t[o].serviceLocation))return i=o,"break";n+=1};while(n<e.length){var o=a();if("break"===o)break}return i}return e={selectBaseUrlIndex:s,setConfig:o},a(),e}a.__dashjs_factory_name="ContentSteeringSelector";const o=n["default"].getClassFactory(a)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
  \**************************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(/*! ../../../core/FactoryMaker */"./src/core/FactoryMaker.js");function i(e){var t;e=e||{};var r=e.blacklistController;function n(e){var t=[],n=function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)},i=function(e){return!r.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)};return e.filter(i).filter(n)}function i(e){var t,r,n=function(e,t){var r=e.dvb_priority-t.dvb_priority;return isNaN(r)?0:r},i=function(e,t,r){return!t||r[0].dvb_priority&&e.dvb_priority&&r[0].dvb_priority===e.dvb_priority},a=0,o=[],s=0;if(r=e.sort(n).filter(i),r.length)return r.length>1&&(r.forEach((function(e){a+=e.dvb_weight,o.push(a)})),t=Math.floor(Math.random()*(a-1)),o.every((function(e,r){return s=r,!(t<e)}))),r[s]}function a(e){return e&&i(n(e))}return t={select:a},t}i.__dashjs_factory_name="DVBSelector";const a=n["default"].getClassFactory(i)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
  !*** ./src/streaming/vo/BitrateInfo.js ***!
  \*****************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};const a=i},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
  !*** ./src/streaming/vo/DashJSError.js ***!
  \*****************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r,i){n(this,e),this.code=t||null,this.message=r||null,this.data=i||null};const a=i},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
  !*** ./src/streaming/vo/DataChunk.js ***!
  \***************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};const a=i},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
  !*** ./src/streaming/vo/FragmentRequest.js ***!
  \*********************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(/*! ../vo/metrics/HTTPRequest */"./src/streaming/vo/metrics/HTTPRequest.js");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var s=function(){function e(t){i(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=t||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return o(e,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===n.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(e){this.type=e&&e.init?n.HTTPRequest.INIT_SEGMENT_TYPE:n.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=e&&e.url?e.url:null,this.range=e&&e.range?e.range.start+"-"+e.range.end:null,this.mediaType=e&&e.mediaType?e.mediaType:null}}]),e}();s.ACTION_DOWNLOAD="download",s.ACTION_COMPLETE="complete";const u=s},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
  !*** ./src/streaming/vo/HeadRequest.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ./FragmentRequest */"./src/streaming/vo/FragmentRequest.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(e){var n;return a(this,r),n=t.call(this,e),n.checkForExistenceOnly=!0,n}return r}(n["default"]);const p=h},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
  !*** ./src/streaming/vo/IsoBox.js ***!
  \************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}r.r(t),r.d(t,{default:()=>s});var o=function(){function e(t){if(n(this,e),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(var r=0;r<t.boxes.length;r++)this.boxes.push(new e(t.boxes[r]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references){this.references=[];for(var i=0;i<t.references.length;i++){var a={reference_type:t.references[i].reference_type,referenced_size:t.references[i].referenced_size,subsegment_duration:t.references[i].subsegment_duration};this.references.push(a)}}break;case"emsg":this.id=t.id,this.version=1===t.version?1:0,this.value=t.value,this.timescale=t.timescale,this.scheme_id_uri=t.scheme_id_uri,this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta,this.event_duration=t.event_duration,this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count,this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset,this.sample_description_index=t.sample_description_index,this.default_sample_duration=t.default_sample_duration,this.default_sample_size=t.default_sample_size,this.default_sample_flags=t.default_sample_flags,this.flags=t.flags;break;case"tfdt":this.version=t.version,this.baseMediaDecodeTime=t.baseMediaDecodeTime,this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples){this.samples=[];for(var o=0,s=t.samples.length;o<s;o++){var u={sample_size:t.samples[o].sample_size,sample_duration:t.samples[o].sample_duration,sample_composition_time_offset:t.samples[o].sample_composition_time_offset};this.samples.push(u)}}break}}return a(e,[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],r=0;r<this.boxes.length;r++)this.boxes[r].type===e&&t.push(this.boxes[r]);return t}}]),e}();const s=o},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
  \**********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(t,r,i){n(this,e),this.lastCompletedOffset=t,this.found=r,this.size=i};const a=i},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
  !*** ./src/streaming/vo/MetricsList.js ***!
  \*****************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]};const a=i},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
  !*** ./src/streaming/vo/TextRequest.js ***!
  \*****************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(/*! ../constants/Constants */"./src/streaming/constants/Constants.js"),i=r(/*! ./FragmentRequest */"./src/streaming/vo/FragmentRequest.js");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=d();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){s(r,e);var t=l(r);function r(e,i){var a;return o(this,r),a=t.call(this),a.url=e||null,a.type=i||null,a.mediaType=n["default"].STREAM,a.responseType="",a}return r}(i["default"]);const g=p},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
  !*** ./src/streaming/vo/TextTrackInfo.js ***!
  \*******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(/*! ./../../dash/vo/MediaInfo */"./src/dash/vo/MediaInfo.js");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=f();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){o(r,e);var t=u(r);function r(){var e;return a(this,r),e=t.call(this),e.captionData=null,e.label=null,e.defaultTrack=!1,e.kind=null,e.isFragmented=!1,e.isEmbedded=!1,e.isTTML=null,e}return r}(n["default"]);const p=h},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
  !*** ./src/streaming/vo/Thumbnail.js ***!
  \***************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null};const a=i},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
  \************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""};const a=i},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
  !*** ./src/streaming/vo/URIFragmentData.js ***!
  \*********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};const a=i},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
  \*************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.t=null,this.level=null};const a=i},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
  !*** ./src/streaming/vo/metrics/BufferState.js ***!
  \*************************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(/*! ../../constants/MetricsConstants */"./src/streaming/constants/MetricsConstants.js");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function e(){i(this,e),this.target=null,this.state=n["default"].BUFFER_EMPTY};const o=a},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
  \*********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.time=null,this.range=null,this.manifestInfo=null};const a=i},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
  \***************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.time=null,this.droppedFrames=null};const a=i},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
  \*************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{HTTPRequest:()=>i,HTTPRequestTrace:()=>a});var i=function e(){n(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},a=function e(){n(this,e),this.s=null,this.d=null,this.b=[]};i.GET="GET",i.HEAD="HEAD",i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",i.DVB_REPORTING_TYPE="DVBReporting",i.LICENSE="license",i.CONTENT_STEERING_TYPE="ContentSteering",i.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
  \****************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{ManifestUpdate:()=>i,ManifestUpdateRepresentationInfo:()=>o,ManifestUpdateStreamInfo:()=>a});var i=function e(){n(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},a=function e(){n(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},o=function e(){n(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
  !*** ./src/streaming/vo/metrics/PlayList.js ***!
  \**********************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{PlayList:()=>i,PlayListTrace:()=>a});var i=function e(){n(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var a=function e(){n(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};a.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",a.REBUFFERING_REASON="rebuffering",a.USER_REQUEST_STOP_REASON="user_request",a.END_OF_PERIOD_STOP_REASON="end_of_period",a.END_OF_CONTENT_STOP_REASON="end_of_content",a.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",a.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
  \**********************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null};const a=i},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
  \***************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.loadingRequests=[],this.executedRequests=[]};const a=i},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
  \****************************************************/(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.r(t),r.d(t,{default:()=>a});var i=function e(){n(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};const a=i},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
  !*** ./node_modules/bcp-47-match/index.js ***!
  \********************************************/(e,t)=>{"use strict";function r(e,t){return"*"===t||e===t||e.indexOf(t+"-")>-1}function n(e,t){var r=e.split("-"),n=t.split("-"),i=0,a=0;if("*"!==n[a]&&r[i]!==n[a])return!1;i++,a++;while(a<n.length)if("*"!==n[a]){if(!r[i])return!1;if(r[i]!==n[a]){if(1===r[i].length)return!1;i++}else i++,a++}else a++;return!0}function i(e,t){var r,n=t;while(1){if("*"===n||e===n)return!0;if(r=n.lastIndexOf("-"),r<0)return!1;"-"===n.charAt(r-2)&&(r-=2),n=n.slice(0,r)}}function a(e,t){return r;function r(r,n){var i,a,s,u=o(r,"tag"),l=o(null==n?"*":n,"range"),c=[],f=-1;while(++f<l.length)if(i=l[f].toLowerCase(),t||"*"!==i){a=-1,s=[];while(++a<u.length)if(e(u[a].toLowerCase(),i)){if(!t)return u[a];c.push(u[a])}else s.push(u[a]);u=s}return t?c:void 0}}function o(e,t){var r=e&&"string"===typeof e?[e]:e;if(!r||"object"!==typeof r||!("length"in r))throw new Error("Invalid "+t+" `"+r+"`, expected non-empty string");return r}t.basicFilter=a(r,!0),t.extendedFilter=a(n,!0),t.lookup=a(i)},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
  !*** ./node_modules/bcp-47-normalize/index.js ***!
  \************************************************/(e,t,r)=>{"use strict";e.exports=r(/*! ./lib */"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
  \****************************************************/(e,t,r)=>{"use strict";var n=r(/*! bcp-47 */"./node_modules/bcp-47/index.js"),i=r(/*! bcp-47-match */"./node_modules/bcp-47-match/index.js"),a=r(/*! ./matches.json */"./node_modules/bcp-47-normalize/lib/matches.json"),o=r(/*! ./fields.json */"./node_modules/bcp-47-normalize/lib/fields.json"),s=r(/*! ./defaults.json */"./node_modules/bcp-47-normalize/lib/defaults.json"),u=r(/*! ./many.json */"./node_modules/bcp-47-normalize/lib/many.json");e.exports=d;var l={}.hasOwnProperty,c=new Intl.Collator,f={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function d(e,t){var r,c=t||{},d=n.parse(String(e||"").toLowerCase(),c),v=n.stringify(d),y=-1;if(!v)return v;while(++y<a.length)i.extendedFilter(v,a[y].from).length&&(h(d,a[y].from,a[y].to),v=n.stringify(d));y=-1;while(++y<o.length)p(d,o[y].from.field,o[y].from.value)&&g(d,o[y].to.field,o[y].to.value);v=n.stringify(Object.assign({},d,f)),y=-1;while(++y<s.length)v===s[y]&&(h(d,s[y],s[y].split("-").slice(0,-1).join("-")),v=n.stringify(Object.assign({},d,f)));if(d.extensions.sort(m),c.warning)for(r in u)l.call(u[r],d[r])&&c.warning("Deprecated "+r+" `"+d[r]+"`, expected one of `"+u[r][d[r]].join("`, `")+"`",null,7);return d.script&&(d.script=d.script.charAt(0).toUpperCase()+d.script.slice(1)),d.region&&(d.region=d.region.toUpperCase()),n.stringify(d)}function h(e,t,r){var i,a=n.parse(t),o=n.parse(r),s=[];for(i in a)a[i]&&a[i].length&&p(e,i,a[i])&&s.push(i);for(i in o)o[i]&&o[i].length&&(s.indexOf(i)>-1||!e[i]||!e[i].length)&&g(e,i,o[i])}function p(e,t,r){var n,i,a,o,s=!1;if(r){if(n=e[t],i=n,n&&"object"===typeof n){i=[],a=-1;while(++a<n.length)o=n[a],r.indexOf(o)<0?i.push(o):s=!0}else n===r&&(i=null,s=!0);e[t]=i}return s}function g(e,t,r){var n,i,a,o=e[t];if(o&&"object"===typeof o){n=[].concat(r),i=-1;while(++i<n.length)a=n[i],o.indexOf(a)<0&&o.push(a)}else e[t]=r}function m(e,t){return c.compare(e.singleton,t.singleton)}},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
  !*** ./node_modules/bcp-47/index.js ***!
  \**************************************/(e,t,r)=>{"use strict";t.parse=r(/*! ./lib/parse */"./node_modules/bcp-47/lib/parse.js"),t.stringify=r(/*! ./lib/stringify */"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
  !*** ./node_modules/bcp-47/lib/parse.js ***!
  \******************************************/(e,t,r)=>{"use strict";var n=r(/*! is-alphanumerical */"./node_modules/is-alphanumerical/index.js"),i=r(/*! is-alphabetical */"./node_modules/is-alphabetical/index.js"),a=r(/*! is-decimal */"./node_modules/is-decimal/index.js"),o=r(/*! ./regular.json */"./node_modules/bcp-47/lib/regular.json"),s=r(/*! ./normalize.json */"./node_modules/bcp-47/lib/normalize.json");e.exports=l;var u={}.hasOwnProperty;function l(e,t){var r,f,d,h=t||{},p=c(),g=String(e),m=g.toLowerCase(),v=0;if(null==e)throw new Error("Expected string, got `"+e+"`");if(u.call(s,m))return(null==h.normalize||h.normalize)&&s[m]?l(s[m]):(p[-1===o.indexOf(m)?"irregular":"regular"]=g,p);while(i(m.charCodeAt(v))&&v<9)v++;if(v>1&&v<9){if(p.language=g.slice(0,v),v<4){f=0;while(45===m.charCodeAt(v)&&i(m.charCodeAt(v+1))&&i(m.charCodeAt(v+2))&&i(m.charCodeAt(v+3))&&!i(m.charCodeAt(v+4))){if(f>2)return y(v,3,"Too many extended language subtags, expected at most 3 subtags");p.extendedLanguageSubtags.push(g.slice(v+1,v+4)),v+=4,f++}}45===m.charCodeAt(v)&&i(m.charCodeAt(v+1))&&i(m.charCodeAt(v+2))&&i(m.charCodeAt(v+3))&&i(m.charCodeAt(v+4))&&!i(m.charCodeAt(v+5))&&(p.script=g.slice(v+1,v+5),v+=5),45===m.charCodeAt(v)&&(i(m.charCodeAt(v+1))&&i(m.charCodeAt(v+2))&&!i(m.charCodeAt(v+3))?(p.region=g.slice(v+1,v+3),v+=3):a(m.charCodeAt(v+1))&&a(m.charCodeAt(v+2))&&a(m.charCodeAt(v+3))&&!a(m.charCodeAt(v+4))&&(p.region=g.slice(v+1,v+4),v+=4));while(45===m.charCodeAt(v)){d=r=v+1;while(n(m.charCodeAt(d))){if(d-r>7)return y(d,1,"Too long variant, expected at most 8 characters");d++}if(!(d-r>4||d-r>3&&a(m.charCodeAt(r))))break;p.variants.push(g.slice(r,d)),v=d}while(45===m.charCodeAt(v)){if(120===m.charCodeAt(v+1)||!n(m.charCodeAt(v+1))||45!==m.charCodeAt(v+2)||!n(m.charCodeAt(v+3)))break;d=v+2,f=0;while(45===m.charCodeAt(d)&&n(m.charCodeAt(d+1))&&n(m.charCodeAt(d+2))){r=d+1,d=r+2,f++;while(n(m.charCodeAt(d))){if(d-r>7)return y(d,2,"Too long extension, expected at most 8 characters");d++}}if(!f)return y(d,4,"Empty extension, extensions must have at least 2 characters of content");p.extensions.push({singleton:g.charAt(v+1),extensions:g.slice(v+3,d).split("-")}),v=d}}else v=0;if(0===v&&120===m.charCodeAt(v)||45===m.charCodeAt(v)&&120===m.charCodeAt(v+1)){d=v=v?v+2:1;while(45===m.charCodeAt(d)&&n(m.charCodeAt(d+1))){d=r=v+1;while(n(m.charCodeAt(d))){if(d-r>7)return y(d,5,"Too long private-use area, expected at most 8 characters");d++}p.privateuse.push(g.slice(v+1,d)),v=d}}return v!==g.length?y(v,6,"Found superfluous content after tag"):p;function y(e,t,r){return h.warning&&h.warning(r,t,e),h.forgiving?p:c()}}function c(){return{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
  !*** ./node_modules/bcp-47/lib/stringify.js ***!
  \**********************************************/e=>{"use strict";function t(e){var t,r,n,i=e||{},a=[];if(i.irregular||i.regular)return i.irregular||i.regular;if(i.language){a=a.concat(i.language,i.extendedLanguageSubtags||[],i.script||[],i.region||[],i.variants||[]),t=i.extensions||[],r=-1;while(++r<t.length)n=t[r],n.singleton&&n.extensions&&n.extensions.length&&(a=a.concat(n.singleton,n.extensions))}return i.privateuse&&i.privateuse.length&&(a=a.concat("x",i.privateuse)),a.join("-")}e.exports=t},"./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/(e,t,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(/*! base64-js */"./node_modules/buffer/node_modules/base64-js/index.js"),i=r(/*! ieee754 */"./node_modules/buffer/node_modules/ieee754/index.js"),a="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;var o=2147483647;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}function u(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return p(e,t);if(ArrayBuffer.isView(e))return m(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return v(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return v(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);var i=y(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e,t,r){return f(e),e<=0?u(e):void 0!==t?"string"===typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}function h(e){return f(e),u(e<0?0:0|b(e))}function p(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|_(e,t),n=u(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function g(e){for(var t=e.length<0?0:0|b(e.length),r=u(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function m(e){if(Q(e,Uint8Array)){var t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return g(e)}function v(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function y(e){if(l.isBuffer(e)){var t=0|b(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!==typeof e.length||Z(e.length)?u(0):g(e):"Buffer"===e.type&&Array.isArray(e.data)?g(e.data):void 0}function b(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function E(e){return+e!=e&&(e=0),l.alloc(+e)}function _(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(e).length;default:if(i)return n?-1:z(e).length;t=(""+t).toLowerCase(),i=!0}}function T(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return F(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return L(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function S(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Z(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:A(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):A(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,d=0;d<u;d++)if(l(e,a+d)!==l(t,d)){f=!1;break}if(f)return a}return-1}function R(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(Z(s))return o;e[r+o]=s}return o}function I(e,t,r,n){return X(z(t,e.length-r),e,r,n)}function C(e,t,r,n){return X(K(t),e,r,n)}function D(e,t,r,n){return X($(t),e,r,n)}function N(e,t,r,n){return X(W(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function M(e,t,r){r=Math.min(e.length,r);var n=[],i=t;while(i<r){var a,o,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:a=e[i+1],128===(192&a)&&(u=(31&l)<<6|63&a,u>127&&(c=u));break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o,u>2047&&(u<55296||u>57343)&&(c=u));break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s,u>65535&&u<1114112&&(c=u))}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return P(n)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=s(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return d(e,t,r)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(Q(a,Uint8Array))i+a.length>n.length?l.from(a).copy(n,i):Uint8Array.prototype.set.call(n,a,i);else{if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},l.byteLength=_,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):T.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(Q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,o=r-t,s=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),f=0;f<s;++f)if(u[f]!==c[f]){a=u[f],o=c[f];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return S(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return S(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return R(this,e,t,r);case"utf8":case"utf-8":return I(this,e,t,r);case"ascii":case"latin1":case"binary":return C(this,e,t,r);case"base64":return D(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function P(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var r="",n=0;while(n<t)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function F(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=J[e[a]];return i}function j(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function B(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function q(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(e,t,r,n,a){return t=+t,r>>>=0,a||q(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function V(e,t,r,n,a){return t=+t,r>>>=0,a||q(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);var n=this[e],i=1,a=0;while(++a<t&&(i*=256))n+=this[e+a]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);var n=this[e+--t],i=1;while(t>0&&(i*=256))n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);var n=this[e],i=1,a=0;while(++a<t&&(i*=256))n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);var n=t,i=1,a=this[e+--n];while(n>0&&(i*=256))a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;U(this,e,t,r,i,0)}var a=1,o=0;this[t]=255&e;while(++o<r&&(a*=256))this[t+o]=e/a&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;U(this,e,t,r,i,0)}var a=r-1,o=1;this[t+a]=255&e;while(--a>=0&&(o*=256))this[t+a]=e/o&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;this[t]=255&e;while(++a<r&&(o*=256))e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;this[t+a]=255&e;while(--a>=0&&(o*=256))e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,r){return G(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return G(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:l.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var H=/[^+/0-9A-Za-z-_]/g;function Y(e){if(e=e.split("=")[0],e=e.trim().replace(H,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function K(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function W(e,t){for(var r,n,i,a=[],o=0;o<e.length;++o){if((t-=2)<0)break;r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n)}return a}function $(e){return n.toByteArray(Y(e))}function X(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!==e}var J=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},"./node_modules/buffer/node_modules/base64-js/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/buffer/node_modules/base64-js/index.js ***!
  \*************************************************************/(e,t)=>{"use strict";t.byteLength=l,t.toByteArray=f,t.fromByteArray=p;for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function l(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function c(e,t,r){return 3*(t+r)/4-r}function f(e){var t,r,a=u(e),o=a[0],s=a[1],l=new i(c(e,o,s)),f=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[f++]=t>>16&255,l[f++]=t>>8&255,l[f++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[f++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[f++]=t>>8&255,l[f++]=255&t),l}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function h(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(d(n));return i.join("")}function p(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,u=n-i;s<u;s+=o)a.push(h(e,s,s+o>u?u:s+o));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},"./node_modules/buffer/node_modules/ieee754/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/buffer/node_modules/ieee754/index.js ***!
  \***********************************************************/(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=l}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+h]=255&o,h+=p,o/=256,l-=8);e[r+h-p]|=128*g}},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
  \*******************************************************/(e,t)=>{
/*! codem-isoboxer v0.3.6 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var r={parseBuffer:function(e){return new n(e).parse()},addBoxProcessor:function(e,t){"string"===typeof e&&"function"===typeof t&&(i.prototype._boxProcessors[e]=t)},createFile:function(){return new n},createBox:function(e,t,r){var n=i.create(e);return t&&t.append(n,r),n},createFullBox:function(e,t,n){var i=r.createBox(e,t,n);return i.version=0,i.flags=0,i},Utils:{}};r.Utils.dataViewToString=function(e,t){var r=t||"utf-8";if("undefined"!==typeof TextDecoder)return new TextDecoder(r).decode(e);var n=[],i=0;if("utf-8"===r)while(i<e.byteLength){var a=e.getUint8(i++);a<128||(a<224?(a=(31&a)<<6,a|=63&e.getUint8(i++)):a<240?(a=(15&a)<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++)):(a=(7&a)<<18,a|=(63&e.getUint8(i++))<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++))),n.push(String.fromCharCode(a))}else while(i<e.byteLength)n.push(String.fromCharCode(e.getUint8(i++)));return n.join("")},r.Utils.utf8ToByteArray=function(e){var t,r;if("undefined"!==typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},r.Utils.appendBox=function(e,t,r){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==r)if(void 0!==r&&null!==r){var n,i=-1;if("number"===typeof r)i=r;else{if("string"===typeof r)n=r;else{if("object"!==typeof r||!r.type)return void e.boxes.push(t);n=r.type}for(var a=0;a<e.boxes.length;a++)if(n===e.boxes[a].type){i=a+1;break}}e.boxes.splice(i,0,t)}else e.boxes.push(t)},t.parseBuffer=r.parseBuffer,t.addBoxProcessor=r.addBoxProcessor,t.createFile=r.createFile,t.createBox=r.createBox,t.createFullBox=r.createFullBox,t.Utils=r.Utils,r.Cursor=function(e){this.offset="undefined"==typeof e?0:e};var n=function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};n.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},n.prototype.fetchAll=function(e,t){var r=[];return n._sweep.call(this,e,r,t),r},n.prototype.parse=function(){this._cursor.offset=0,this.boxes=[];while(this._cursor.offset<this._raw.byteLength){var e=i.parse(this);if("undefined"===typeof e.type)break;this.boxes.push(e)}return this},n._sweep=function(e,t,r){for(var i in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&r)return;n._sweep.call(this.boxes[i],e,t,r)}},n.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var r=new Uint8Array(t);for(this._rawo=new DataView(r.buffer),this.bytes=r,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return r.buffer},n.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var i=function(){this._cursor=new r.Cursor};i.parse=function(e){var t=new i;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},i.create=function(e){var t=new i;return t.type=e,t.boxes=[],t},i.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],i.prototype._boxProcessors={},i.prototype._procField=function(e,t,r){this._parsing?this[e]=this._readField(t,r):this._writeField(t,r,this[e])},i.prototype._procFieldArray=function(e,t,r,n){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(r,n);else for(i=0;i<this[e].length;i++)this._writeField(r,n,this[e][i])},i.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},i.prototype._procEntries=function(e,t,r){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push({}),r.call(this,this[e][n]);else for(n=0;n<t;n++)r.call(this,this[e][n])},i.prototype._procSubEntries=function(e,t,r,n){var i;if(this._parsing)for(e[t]=[],i=0;i<r;i++)e[t].push({}),n.call(this,e[t][i]);else for(i=0;i<r;i++)n.call(this,e[t][i])},i.prototype._procEntryField=function(e,t,r,n){this._parsing?e[t]=this._readField(r,n):this._writeField(r,n,e[t])},i.prototype._procSubBoxes=function(e,t){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push(i.parse(this));else for(r=0;r<t;r++)this._rawo?this[e][r].write():this.size+=this[e][r].getLength()},i.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},i.prototype._readInt=function(e){var t=null,r=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(r);break;case 16:t=this._raw.getInt16(r);break;case 32:t=this._raw.getInt32(r);break;case 64:var n=this._raw.getInt32(r),i=this._raw.getInt32(r+4);t=n*Math.pow(2,32)+i;break}return this._cursor.offset+=e>>3,t},i.prototype._readUint=function(e){var t,r,n=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:n=this._raw.getUint8(i);break;case 16:n=this._raw.getUint16(i);break;case 24:t=this._raw.getUint16(i),r=this._raw.getUint8(i+2),n=(t<<8)+r;break;case 32:n=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),r=this._raw.getUint32(i+4),n=t*Math.pow(2,32)+r;break}return this._cursor.offset+=e>>3,n},i.prototype._readString=function(e){for(var t="",r=0;r<e;r++){var n=this._readUint(8);t+=String.fromCharCode(n)}return t},i.prototype._readTemplate=function(e){var t=this._readUint(e/2),r=this._readUint(e/2);return t+r/Math.pow(2,e/2)},i.prototype._readTerminatedString=function(){var e="";while(this._cursor.offset-this._offset<this._raw.byteLength){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},i.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var r=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,r}return null},i.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?r.Utils.dataViewToString(t):t},i.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},i.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},i.prototype._parseContainerBox=function(){this.boxes=[];while(this._cursor.offset-this._raw.byteOffset<this._raw.byteLength)this.boxes.push(i.parse(this))},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},i.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},i.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},i.prototype._writeInt=function(e,t){if(this._rawo){var r=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(r,t);break;case 16:this._rawo.setInt16(r,t);break;case 32:this._rawo.setInt32(r,t);break;case 64:var n=Math.floor(t/Math.pow(2,32)),i=t-n*Math.pow(2,32);this._rawo.setUint32(r,n),this._rawo.setUint32(r+4,i);break}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeUint=function(e,t){if(this._rawo){var r,n,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:r=(16776960&t)>>8,n=255&t,this._rawo.setUint16(i,r),this._rawo.setUint8(i+2,n);break;case 32:this._rawo.setUint32(i,t);break;case 64:r=Math.floor(t/Math.pow(2,32)),n=t-r*Math.pow(2,32),this._rawo.setUint32(i,r),this._rawo.setUint32(i+4,n);break}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeString=function(e,t){for(var r=0;r<e;r++)this._writeUint(8,t.charCodeAt(r))},i.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},i.prototype._writeTemplate=function(e,t){var r=Math.floor(t),n=(t-r)*Math.pow(2,e/2);this._writeUint(e/2,r),this._writeUint(e/2,n)},i.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,r=0;r<e.length;r++)this._rawo.setInt8(t+r,e[r]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},i.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo)for(var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)n.setUint8(i,t[i]);else this.size+=t.length},i.prototype._writeField=function(e,t,r){switch(e){case"uint":this._writeUint(t,r);break;case"int":this._writeInt(t,r);break;case"template":this._writeTemplate(t,r);break;case"string":-1==t?this._writeTerminatedString(r):this._writeString(t,r);break;case"data":this._writeData(r);break;case"utf8":this._writeUTF8String(r);break;default:break}},i.prototype._boxProcessors["avc1"]=i.prototype._boxProcessors["encv"]=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},i.prototype._boxProcessors["dref"]=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors["elst"]=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},i.prototype._boxProcessors["emsg"]=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},i.prototype._boxProcessors["free"]=i.prototype._boxProcessors["skip"]=function(){this._procField("data","data",-1)},i.prototype._boxProcessors["frma"]=function(){this._procField("data_format","uint",32)},i.prototype._boxProcessors["ftyp"]=i.prototype._boxProcessors["styp"]=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},i.prototype._boxProcessors["hdlr"]=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},i.prototype._boxProcessors["mdat"]=function(){this._procField("data","data",-1)},i.prototype._boxProcessors["mdhd"]=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!==typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},i.prototype._boxProcessors["mehd"]=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},i.prototype._boxProcessors["mfhd"]=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},i.prototype._boxProcessors["mfro"]=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},i.prototype._boxProcessors["mp4a"]=i.prototype._boxProcessors["enca"]=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},i.prototype._boxProcessors["mvhd"]=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},i.prototype._boxProcessors["payl"]=function(){this._procField("cue_text","utf8")},i.prototype._boxProcessors["pssh"]=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},i.prototype._boxProcessors["schm"]=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},i.prototype._boxProcessors["sdtp"]=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},i.prototype._boxProcessors["sidx"]=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},i.prototype._boxProcessors["smhd"]=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},i.prototype._boxProcessors["ssix"]=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},i.prototype._boxProcessors["stsd"]=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors["subs"]=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},i.prototype._boxProcessors["tenc"]=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},i.prototype._boxProcessors["tfdt"]=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},i.prototype._boxProcessors["tfhd"]=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors["tfra"]=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},i.prototype._boxProcessors["tkhd"]=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},i.prototype._boxProcessors["trex"]=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors["trun"]=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},i.prototype._boxProcessors["url "]=i.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},i.prototype._boxProcessors["vlab"]=function(){this._procField("source_label","utf8")},i.prototype._boxProcessors["vmhd"]=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},i.prototype._boxProcessors["vttC"]=function(){this._procField("config","utf8")},i.prototype._boxProcessors["vtte"]=function(){}},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
  !*** ./node_modules/es6-promise/auto.js ***!
  \******************************************/(e,t,r)=>{"use strict";e.exports=r(/*! ./ */"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/function(e,r,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
(function(t,r){e.exports=r()})(0,(function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"===typeof e}var i=void 0;i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var a=i,o=0,s=void 0,u=void 0,l=function(e,t){T[o]=e,T[o+1]=t,o+=2,2===o&&(u?u(w):A())};function c(e){u=e}function f(e){l=e}var d="undefined"!==typeof window?window:void 0,h=d||{},p=h.MutationObserver||h.WebKitMutationObserver,g="undefined"===typeof self&&"undefined"!==typeof t&&"[object process]"==={}.toString.call(t),m="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function v(){return function(){return t.nextTick(w)}}function y(){return"undefined"!==typeof s?function(){s(w)}:_()}function b(){var e=0,t=new p(w),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function E(){var e=new MessageChannel;return e.port1.onmessage=w,function(){return e.port2.postMessage(0)}}function _(){var e=setTimeout;return function(){return e(w,1)}}var T=new Array(1e3);function w(){for(var e=0;e<o;e+=2){var t=T[e],r=T[e+1];t(r),T[e]=void 0,T[e+1]=void 0}o=0}function S(){try{var e=Function("return this")().require("vertx");return s=e.runOnLoop||e.runOnContext,y()}catch(t){return _()}}var A=void 0;function R(e,t){var r=this,n=new this.constructor(D);void 0===n[C]&&$(n);var i=r._state;if(i){var a=arguments[i-1];l((function(){return Y(i,n,a,r._result)}))}else V(r,n,e,t);return n}function I(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var r=new t(D);return B(r,e),r}A=g?v():p?b():m?E():void 0===d?S():_();var C=Math.random().toString(36).substring(2);function D(){}var N=void 0,x=1,M=2;function O(){return new TypeError("You cannot resolve a promise with itself")}function P(){return new TypeError("A promises callback cannot return that same promise.")}function L(e,t,r,n){try{e.call(t,r,n)}catch(i){return i}}function k(e,t,r){l((function(e){var n=!1,i=L(r,t,(function(r){n||(n=!0,t!==r?B(e,r):q(e,r))}),(function(t){n||(n=!0,G(e,t))}),"Settle: "+(e._label||" unknown promise"));!n&&i&&(n=!0,G(e,i))}),e)}function F(e,t){t._state===x?q(e,t._result):t._state===M?G(e,t._result):V(t,void 0,(function(t){return B(e,t)}),(function(t){return G(e,t)}))}function j(e,t,n){t.constructor===e.constructor&&n===R&&t.constructor.resolve===I?F(e,t):void 0===n?q(e,t):r(n)?k(e,t,n):q(e,t)}function B(t,r){if(t===r)G(t,O());else if(e(r)){var n=void 0;try{n=r.then}catch(i){return void G(t,i)}j(t,r,n)}else q(t,r)}function U(e){e._onerror&&e._onerror(e._result),H(e)}function q(e,t){e._state===N&&(e._result=t,e._state=x,0!==e._subscribers.length&&l(H,e))}function G(e,t){e._state===N&&(e._state=M,e._result=t,l(U,e))}function V(e,t,r,n){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+x]=r,i[a+M]=n,0===a&&e._state&&l(H,e)}function H(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)n=t[o],i=t[o+r],n?Y(r,n,i,a):i(a);e._subscribers.length=0}}function Y(e,t,n,i){var a=r(n),o=void 0,s=void 0,u=!0;if(a){try{o=n(i)}catch(l){u=!1,s=l}if(t===o)return void G(t,P())}else o=i;t._state!==N||(a&&u?B(t,o):!1===u?G(t,s):e===x?q(t,o):e===M&&G(t,o))}function z(e,t){try{t((function(t){B(e,t)}),(function(t){G(e,t)}))}catch(r){G(e,r)}}var K=0;function W(){return K++}function $(e){e[C]=K++,e._state=void 0,e._result=void 0,e._subscribers=[]}function X(){return new Error("Array Methods must be provided an Array")}var Q=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(D),this.promise[C]||$(this.promise),a(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?q(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&q(this.promise,this._result))):G(this.promise,X())}return e.prototype._enumerate=function(e){for(var t=0;this._state===N&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===I){var i=void 0,a=void 0,o=!1;try{i=e.then}catch(u){o=!0,a=u}if(i===R&&e._state!==N)this._settledAt(e._state,t,e._result);else if("function"!==typeof i)this._remaining--,this._result[t]=e;else if(r===ne){var s=new r(D);o?G(s,a):j(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===N&&(this._remaining--,e===M?G(n,r):this._result[t]=r),0===this._remaining&&q(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;V(e,void 0,(function(e){return r._settledAt(x,t,e)}),(function(e){return r._settledAt(M,t,e)}))},e}();function Z(e){return new Q(this,e).promise}function J(e){var t=this;return a(e)?new t((function(r,n){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function ee(e){var t=this,r=new t(D);return G(r,e),r}function te(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function re(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ne=function(){function e(t){this[C]=W(),this._result=this._state=void 0,this._subscribers=[],D!==t&&("function"!==typeof t&&te(),this instanceof e?z(this,t):re())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return r(e)?t.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):t.then(e,e)},e}();function ie(){var e=void 0;if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(i){}if("[object Promise]"===r&&!t.cast)return}e.Promise=ne}return ne.prototype.then=R,ne.all=Z,ne.race=J,ne.resolve=I,ne.reject=ee,ne._setScheduler=c,ne._setAsap=f,ne._asap=l,ne.polyfill=ie,ne.Promise=ne,ne}))},"./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function i(e){console&&console.warn&&console.warn(e)}t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=y,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var a,o,s;if(u(r),o=e._events,void 0===o?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"===typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),a=l(e),a>0&&s.length>a&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,i(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?v(i):g(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function v(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function y(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,a),n(r)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}E(e,t,a,{once:!0}),"error"!==t&&b(e,i,{once:!0})}))}function b(e,t,r){"function"===typeof e.on&&E(e,"error",t,r)}function E(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){n.once&&e.removeEventListener(t,i),r(a)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"===typeof u)n(u,this,t);else{var l=u.length,c=g(u,l);for(r=0;r<l;++r)n(c[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,a,o;if(u(t),n=this._events,void 0===n)return this;if(r=n[e],void 0===r)return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():m(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)i=a[n],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
  !*** ./node_modules/fast-deep-equal/index.js ***!
  \***********************************************/e=>{"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,a){if(i===a)return!0;if(i&&a&&"object"==typeof i&&"object"==typeof a){var o,s,u,l=t(i),c=t(a);if(l&&c){if(s=i.length,s!=a.length)return!1;for(o=s;0!==o--;)if(!e(i[o],a[o]))return!1;return!0}if(l!=c)return!1;var f=i instanceof Date,d=a instanceof Date;if(f!=d)return!1;if(f&&d)return i.getTime()==a.getTime();var h=i instanceof RegExp,p=a instanceof RegExp;if(h!=p)return!1;if(h&&p)return i.toString()==a.toString();var g=r(i);if(s=g.length,s!==r(a).length)return!1;for(o=s;0!==o--;)if(!n.call(a,g[o]))return!1;for(o=s;0!==o--;)if(u=g[o],!e(i[u],a[u]))return!1;return!0}return i!==i&&a!==a}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
  !*** ./node_modules/imsc/src/main/js/doc.js ***!
  \**********************************************/(e,t,r)=>{(function(e,t,r,n,i){function a(e,t,r,n){var i=n&&"seq"===n.timeContainer,o=0;n&&(o=i&&r?r.end:n.begin),t.begin=t.explicit_begin?t.explicit_begin+o:o;var s=t.begin,u=null;for(var l in t.sets)a(e,t.sets[l],u,t),s="seq"===t.timeContainer?t.sets[l].end:Math.max(s,t.sets[l].end),u=t.sets[l];if("contents"in t)for(var c in t.contents)a(e,t.contents[c],u,t),s="seq"===t.timeContainer?t.contents[c].end:Math.max(s,t.contents[c].end),u=t.contents[c];else s=i?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,o+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=o+t.explicit_end:t.end=s,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function o(e){this.node=e}function s(){this.events=[],this.head=null,this.body=null}function u(){this.styling=null,this.layout=null}function l(){this.styles={}}function c(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function f(){this.regions={}}function d(e){this.kind=e}function h(e){this.id=e}function p(e){this.regionID=e}function g(e){this.styleAttrs=e}function m(e){this.sets=e}function v(e){this.contents=e}function y(e,t,r){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=r}function b(){d.call(this,"body")}function E(){d.call(this,"div")}function _(){d.call(this,"p")}function T(){d.call(this,"span")}function w(){d.call(this,"span")}function S(){d.call(this,"br")}function A(){}function R(){}function I(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function C(e){return e&&"region"in e.attributes?e.attributes.region.value:""}function D(e,t){var r=e&&"timeContainer"in e.attributes?e.attributes.timeContainer.value:null;return r&&"par"!==r?"seq"===r?"seq":(V(t,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}function N(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function x(e,t){var r={};if(null!==e)for(var i in e.attributes){var a=e.attributes[i].uri+" "+e.attributes[i].local,o=n.byQName[a];if(void 0!==o){var s=o.parse(e.attributes[i].value);null!==s?(r[a]=s,o===n.byName.zIndex&&G(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):V(t,"Cannot parse styling attribute "+a+" --\x3e "+e.attributes[i].value)}}return r}function M(e,t,r){for(var n in e.attributes)if(e.attributes[n].uri===t&&e.attributes[n].local===r)return e.attributes[n].value;return null}function O(e,t){var n=M(e,r.ns_ittp,"aspectRatio"),i=null;if(null!==n){var a=/(\d+) (\d+)/,o=a.exec(n);if(null!==o){var s=parseInt(o[1]),u=parseInt(o[2]);0!==s&&0!==u?i=s/u:V(t,"Illegal aspectRatio values (ignoring)")}else V(t,"Malformed aspectRatio attribute (ignoring)")}return i}function P(e,t){var n=M(e,r.ns_ttp,"cellResolution"),i=15,a=32;if(null!==n){var o=/(\d+) (\d+)/,s=o.exec(n);null!==s?(a=parseInt(s[1]),i=parseInt(s[2])):G(t,"Malformed cellResolution value (using initial value instead)")}return{w:a,h:i}}function L(e,t){var n,i=M(e,r.ns_ttp,"frameRate"),a=30;if(null!==i){var o=/(\d+)/;n=o.exec(i),null!==n?a=parseInt(n[1]):G(t,"Malformed frame rate attribute (using initial value instead)")}var s=M(e,r.ns_ttp,"frameRateMultiplier"),u=1;if(null!==s){var l=/(\d+) (\d+)/;n=l.exec(s),null!==n?u=parseInt(n[1])/parseInt(n[2]):G(t,"Malformed frame rate multiplier attribute (using initial value instead)")}var c=u*a,f=1,d=M(e,r.ns_ttp,"tickRate");if(null===d)null!==i&&(f=c);else{var h=/(\d+)/;n=h.exec(d),null!==n?f=parseInt(n[1]):G(t,"Malformed tick rate attribute (using initial value instead)")}return{effectiveFrameRate:c,tickRate:f}}function k(e,t){var n=M(e,r.ns_tts,"extent");if(null===n)return null;var a=n.split(" ");if(2!==a.length)return G(t,"Malformed extent (ignoring)"),null;var o=i.parseLength(a[0]),s=i.parseLength(a[1]);return s&&o?{h:s,w:o}:(G(t,"Malformed extent values (ignoring)"),null)}function F(e,t,r){var n,i=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,a=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/,o=/^(\d+(?:\.\d+)?)f$/,s=/^(\d+(?:\.\d+)?)t$/,u=/^(\d+(?:\.\d+)?)ms$/,l=/^(\d+(?:\.\d+)?)s$/,c=/^(\d+(?:\.\d+)?)h$/,f=/^(\d+(?:\.\d+)?)m$/,d=null;return null!==(n=o.exec(r))?null!==t&&(d=parseFloat(n[1])/t):null!==(n=s.exec(r))?null!==e&&(d=parseFloat(n[1])/e):null!==(n=u.exec(r))?d=parseFloat(n[1])/1e3:null!==(n=l.exec(r))?d=parseFloat(n[1]):null!==(n=c.exec(r))?d=3600*parseFloat(n[1]):null!==(n=f.exec(r))?d=60*parseFloat(n[1]):null!==(n=i.exec(r))?d=3600*parseInt(n[1])+60*parseInt(n[2])+parseFloat(n[3]):null!==(n=a.exec(r))&&null!==t&&(d=3600*parseInt(n[1])+60*parseInt(n[2])+parseInt(n[3])+(null===n[4]?0:parseInt(n[4])/t)),d}function j(e,t,r,n){var i=null;r&&"begin"in r.attributes&&(i=F(e.tickRate,e.effectiveFrameRate,r.attributes.begin.value),null===i&&G(n,"Malformed begin value "+r.attributes.begin.value+" (using 0)"));var a=null;r&&"dur"in r.attributes&&(a=F(e.tickRate,e.effectiveFrameRate,r.attributes.dur.value),null===a&&G(n,"Malformed dur value "+r.attributes.dur.value+" (ignoring)"));var o=null;return r&&"end"in r.attributes&&(o=F(e.tickRate,e.effectiveFrameRate,r.attributes.end.value),null===o&&G(n,"Malformed end value (ignoring)")),{explicit_begin:i,explicit_end:o,explicit_dur:a}}function B(e,t,r){while(t.styleRefs.length>0){var n=t.styleRefs.pop();n in e.styles?(B(e,e.styles[n],r),q(e.styles[n].styleAttrs,t.styleAttrs)):V(r,"Non-existant style id referenced")}}function U(e,t,r,n){for(var i=t.length-1;i>=0;i--){var a=t[i];a in e.styles?q(e.styles[a].styleAttrs,r):V(n,"Non-existant style id referenced")}}function q(e,t){for(var r in e)r in t||(t[r]=e[r])}function G(e,t){if(e&&e.warn&&e.warn(t))throw t}function V(e,t){if(e&&e.error&&e.error(t))throw t}function H(e,t){throw e&&e.fatal&&e.fatal(t),t}function Y(e,t){var r,n=0,i=e.length-1;while(n<=i){r=Math.floor((n+i)/2);var a=e[r];if(a<t)n=r+1;else{if(!(a>t))return{found:!0,index:r};i=r-1}}return{found:!1,index:n}}e.fromXML=function(e,n,i){var d=t.parser(!0,{xmlns:!0}),h=[],p=[],g=[],m=0,v=null;d.onclosetag=function(e){if(h[0]instanceof l)for(var t in h[0].styles)B(h[0],h[0].styles[t],n);else if(h[0]instanceof _||h[0]instanceof T){if(h[0].contents.length>1){var a,s=[h[0].contents[0]];for(a=1;a<h[0].contents.length;a++)h[0].contents[a]instanceof w&&s[s.length-1]instanceof w?s[s.length-1].text+=h[0].contents[a].text:s.push(h[0].contents[a]);h[0].contents=s}h[0]instanceof T&&1===h[0].contents.length&&h[0].contents[0]instanceof w&&(h[0].text=h[0].contents[0].text,delete h[0].contents)}else h[0]instanceof o&&(h[0].node.uri===r.ns_tt&&"metadata"===h[0].node.local?m--:m>0&&i&&"onCloseTag"in i&&i.onCloseTag());g.shift(),p.shift(),h.shift()},d.ontext=function(e){if(void 0===h[0]);else if(h[0]instanceof T||h[0]instanceof _){var t=new w;t.initFromText(v,h[0],e,g[0],n),h[0].contents.push(t)}else h[0]instanceof o&&m>0&&i&&"onText"in i&&i.onText(e)},d.onopentag=function(e){var t=e.attributes["xml:space"];t?g.unshift(t.value):0===g.length?g.unshift("default"):g.unshift(g[0]);var a=e.attributes["xml:lang"];if(a?p.unshift(a.value):0===p.length?p.unshift(""):p.unshift(p[0]),e.uri===r.ns_tt)if("tt"===e.local)null!==v&&H(n,"Two <tt> elements at ("+this.line+","+this.column+")"),v=new s,v.initFromNode(e,n),h.unshift(v);else if("head"===e.local)h[0]instanceof s||H(n,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==v.head&&H("Second <head> element at ("+this.line+","+this.column+")"),v.head=new u,h.unshift(v.head);else if("styling"===e.local)h[0]instanceof u||H(n,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==v.head.styling&&H("Second <styling> element at ("+this.line+","+this.column+")"),v.head.styling=new l,h.unshift(v.head.styling);else if("style"===e.local){var d;h[0]instanceof l?(d=new c,d.initFromNode(e,n),d.id?v.head.styling.styles[d.id]=d:V(n,"<style> element missing @id attribute"),h.unshift(d)):h[0]instanceof A?(d=new c,d.initFromNode(e,n),q(d.styleAttrs,h[0].styleAttrs),h.unshift(d)):H(n,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("layout"===e.local)h[0]instanceof u||H(n,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==v.head.layout&&H(n,"Second <layout> element at "+this.line+","+this.column+")"),v.head.layout=new f,h.unshift(v.head.layout);else if("region"===e.local){h[0]instanceof f||H(n,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var y=new A;y.initFromNode(v,e,n),!y.id||y.id in v.head.layout.regions?V(n,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):v.head.layout.regions[y.id]=y,h.unshift(y)}else if("body"===e.local){h[0]instanceof s||H(n,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==v.body&&H(n,"Second <body> element at "+this.line+","+this.column+")");var w=new b;w.initFromNode(v,e,n),v.body=w,h.unshift(w)}else if("div"===e.local){h[0]instanceof E||h[0]instanceof b||H(n,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var I=new E;I.initFromNode(v,h[0],e,n),h[0].contents.push(I),h.unshift(I)}else if("p"===e.local){h[0]instanceof E||H(n,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var C=new _;C.initFromNode(v,h[0],e,n),h[0].contents.push(C),h.unshift(C)}else if("span"===e.local){h[0]instanceof T||h[0]instanceof _||H(n,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var D=new T;D.initFromNode(v,h[0],e,g[0],n),h[0].contents.push(D),h.unshift(D)}else if("br"===e.local){h[0]instanceof T||h[0]instanceof _||H(n,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var N=new S;N.initFromNode(v,h[0],e,n),h[0].contents.push(N),h.unshift(N)}else if("set"===e.local){h[0]instanceof T||h[0]instanceof _||h[0]instanceof E||h[0]instanceof b||h[0]instanceof A||h[0]instanceof S||H(n,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var x=new R;x.initFromNode(v,h[0],e,n),h[0].sets.push(x),h.unshift(x)}else h.unshift(new o(e));else h.unshift(new o(e));if(h[0]instanceof o)if(e.uri===r.ns_tt&&"metadata"===e.local)m++;else if(m>0&&i&&"onOpenTag"in i){var M=[];for(var O in e.attributes)M[e.attributes[O].uri+" "+e.attributes[O].local]={uri:e.attributes[O].uri,local:e.attributes[O].local,value:e.attributes[O].value};i.onOpenTag(e.uri,e.local,M)}},d.write(e).close(),null!==v.head?delete v.head.styling:v.head=new u,null===v.head.layout&&(v.head.layout=new f);var y=!1;for(var I in v.head.layout.regions){y=!0;break}if(!y){var C=A.prototype.createDefaultRegion();v.head.layout.regions[C.id]=C}for(var D in v.head.layout.regions)a(v,v.head.layout.regions[D],null,null);return v.body&&a(v,v.body,null,null),v},s.prototype.initFromNode=function(e,t){this.cellResolution=P(e,t);var n=L(e,t);this.effectiveFrameRate=n.effectiveFrameRate,this.tickRate=n.tickRate,this.aspectRatio=O(e,t);var i=M(e,r.ns_ttp,"timeBase");null!==i&&"media"!==i&&H(t,"Unsupported time base");var a=k(e,t);null===a?this.pxDimensions={h:480,w:640}:("px"===a.h.unit&&"px"===a.w.unit||H(t,"Extent on TT must be in px or absent"),this.pxDimensions={h:a.h.value,w:a.w.value})},s.prototype._registerEvent=function(e){if(!(e.end<=e.begin)){var t=Y(this.events,e.begin);if(t.found||this.events.splice(t.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY){var r=Y(this.events,e.end);r.found||this.events.splice(r.index,0,e.end)}}},s.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},s.prototype.getMediaTimeEvents=function(){return this.events},c.prototype.initFromNode=function(e,t){this.id=I(e),this.styleAttrs=x(e,t),this.styleRefs=N(e)},h.prototype.initFromNode=function(e,t,r,n){this.id=I(r)},p.prototype.initFromNode=function(e,t,r,n){this.regionID=C(r)},g.prototype.initFromNode=function(e,t,r,n){this.styleAttrs=x(r,n),null!==e.head&&null!==e.head.styling&&U(e.head.styling,N(r),this.styleAttrs,n)},m.prototype.initFromNode=function(e,t,r,n){this.sets=[]},v.prototype.initFromNode=function(e,t,r,n){this.contents=[]},y.prototype.initFromNode=function(e,t,r,n){var i=j(e,t,r,n);this.explicit_begin=i.explicit_begin,this.explicit_end=i.explicit_end,this.explicit_dur=i.explicit_dur,this.timeContainer=D(r,n)},b.prototype.initFromNode=function(e,t,r){g.prototype.initFromNode.call(this,e,null,t,r),y.prototype.initFromNode.call(this,e,null,t,r),m.prototype.initFromNode.call(this,e,null,t,r),p.prototype.initFromNode.call(this,e,null,t,r),v.prototype.initFromNode.call(this,e,null,t,r)},E.prototype.initFromNode=function(e,t,r,n){g.prototype.initFromNode.call(this,e,t,r,n),y.prototype.initFromNode.call(this,e,t,r,n),m.prototype.initFromNode.call(this,e,t,r,n),p.prototype.initFromNode.call(this,e,t,r,n),v.prototype.initFromNode.call(this,e,t,r,n)},_.prototype.initFromNode=function(e,t,r,n){g.prototype.initFromNode.call(this,e,t,r,n),y.prototype.initFromNode.call(this,e,t,r,n),m.prototype.initFromNode.call(this,e,t,r,n),p.prototype.initFromNode.call(this,e,t,r,n),v.prototype.initFromNode.call(this,e,t,r,n)},T.prototype.initFromNode=function(e,t,r,n,i){g.prototype.initFromNode.call(this,e,t,r,i),y.prototype.initFromNode.call(this,e,t,r,i),m.prototype.initFromNode.call(this,e,t,r,i),p.prototype.initFromNode.call(this,e,t,r,i),v.prototype.initFromNode.call(this,e,t,r,i),this.space=n},w.prototype.initFromText=function(e,t,r,n,i){y.prototype.initFromNode.call(this,e,t,null,i),this.text=r,this.space=n},S.prototype.initFromNode=function(e,t,r,n){p.prototype.initFromNode.call(this,e,t,r,n),y.prototype.initFromNode.call(this,e,t,r,n)},A.prototype.createDefaultRegion=function(){var e=new A;return h.call(e,""),g.call(e,{}),m.call(e,[]),y.call(e,0,Number.POSITIVE_INFINITY,null),e},A.prototype.initFromNode=function(e,t,r){h.prototype.initFromNode.call(this,e,null,t,r),g.prototype.initFromNode.call(this,e,null,t,r),y.prototype.initFromNode.call(this,e,null,t,r),m.prototype.initFromNode.call(this,e,null,t,r),null!==e.head&&null!==e.head.styling&&U(e.head.styling,N(t),this.styleAttrs,r)},R.prototype.initFromNode=function(e,t,r,n){y.prototype.initFromNode.call(this,e,t,r,n);var i=x(r,n);for(var a in this.qname=null,this.value=null,i){if(this.qname){V(n,"More than one style specified on set");break}this.qname=a,this.value=i[a]}}})(t,"undefined"===typeof sax?r(/*! sax */"./node_modules/sax/lib/sax.js"):sax,"undefined"===typeof imscNames?r(/*! ./names */"./node_modules/imsc/src/main/js/names.js"):imscNames,"undefined"===typeof imscStyles?r(/*! ./styles */"./node_modules/imsc/src/main/js/styles.js"):imscStyles,"undefined"===typeof imscUtils?r(/*! ./utils */"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
  !*** ./node_modules/imsc/src/main/js/html.js ***!
  \***********************************************/(e,t,r)=>{(function(e,t,r){function n(e,t,c){var f;if("region"===c.kind?(f=document.createElement("div"),f.style.position="absolute"):"body"===c.kind||"div"===c.kind?f=document.createElement("div"):"p"===c.kind?f=document.createElement("p"):"span"===c.kind?f=document.createElement("span"):"br"===c.kind&&(f=document.createElement("br")),f){for(var h in f.style.margin="0",d){var p=d[h],m=c.styleAttrs[p.qname];void 0!==m&&null!==p.map&&p.map(e,f,c,m)}var v=f;if("region"===c.kind){var y=c.styleAttrs[r.byName.writingMode.qname];"lrtb"===y||"lr"===y?(e.ipd="lr",e.bpd="tb"):"rltb"===y||"rl"===y?(e.ipd="rl",e.bpd="tb"):"tblr"===y?(e.ipd="tb",e.bpd="lr"):"tbrl"!==y&&"tb"!==y||(e.ipd="tb",e.bpd="rl")}var b=c.styleAttrs[r.byName.linePadding.qname];if(b&&b>0){var E=Math.ceil(b*e.h)+"px";"tb"===e.bpd?(v.style.paddingLeft=E,v.style.paddingRight=E):(v.style.paddingTop=E,v.style.paddingBottom=E),e.lp=b}var _=c.styleAttrs[r.byName.multiRowAlign.qname];if(_&&"auto"!==_){var T=document.createElement("span");T.style.display="inline-block",T.style.textAlign=_,f.appendChild(T),v=T,e.mra=_}if(c.styleAttrs[r.byName.fillLineGap.qname]&&(e.flg=!0),"span"===c.kind&&c.text)if(e.lp||e.mra||e.flg)for(var w="",S=0;S<c.text.length;S++){w+=c.text.charAt(S);var A=c.text.charCodeAt(S);if(A<55296||A>56319||S===c.text.length){var R=document.createElement("span");R.textContent=w,f.appendChild(R),w=""}}else f.textContent=c.text;for(var I in t.appendChild(f),c.contents)n(e,v,c.contents[I]);var C=[];if((e.lp||e.mra||e.flg)&&"p"===c.kind&&(l(e,v,C,null),e.mra&&(a(C),e.mra=null),e.lp&&(i(C,e.lp*e.h,e),e.lp=null),e.flg)){var D=u(v.getBoundingClientRect(),e);o(C,D.before,D.after,e),e.flg=null}if("region"===c.kind&&(l(e,v,C),"tb"===e.bpd&&e.enableRollUp&&c.contents.length>0&&"after"===c.styleAttrs[r.byName.displayAlign.qname])){var N=""===c.id?"_":c.id,x=new s(N,C);if(e.currentISDState[x.id]=x,e.previousISDState&&x.id in e.previousISDState&&e.previousISDState[x.id].plist.length>0&&x.plist.length>1&&x.plist[x.plist.length-2].text===e.previousISDState[x.id].plist[e.previousISDState[x.id].plist.length-1].text){var M=f.firstElementChild,O=x.plist[x.plist.length-1].after-x.plist[x.plist.length-1].before;M.style.bottom="-"+O+"px",M.style.transition="transform 0.4s",M.style.position="relative",M.style.transform="translateY(-"+O+"px)"}}}else g(e.errorHandler,"Error processing ISD element kind: "+c.kind)}function i(e,t,r){for(var n in e){var i=e[n].elements.length,a=e[n].elements[e[n].start_elem],o=e[n].elements[e[n].end_elem],s=Math.ceil(t)+"px",u="-"+Math.ceil(t)+"px";0!==i&&("lr"===r.ipd?(a.node.style.borderLeftColor=a.bgcolor||"#00000000",a.node.style.borderLeftStyle="solid",a.node.style.borderLeftWidth=s,a.node.style.marginLeft=u):"rl"===r.ipd?(a.node.style.borderRightColor=a.bgcolor||"#00000000",a.node.style.borderRightStyle="solid",a.node.style.borderRightWidth=s,a.node.style.marginRight=u):"tb"===r.ipd&&(a.node.style.borderTopColor=a.bgcolor||"#00000000",a.node.style.borderTopStyle="solid",a.node.style.borderTopWidth=s,a.node.style.marginTop=u),"lr"===r.ipd?(o.node.style.borderRightColor=o.bgcolor||"#00000000",o.node.style.borderRightStyle="solid",o.node.style.borderRightWidth=s,o.node.style.marginRight=u):"rl"===r.ipd?(o.node.style.borderLeftColor=o.bgcolor||"#00000000",o.node.style.borderLeftStyle="solid",o.node.style.borderLeftWidth=s,o.node.style.marginLeft=u):"tb"===r.ipd&&(o.node.style.borderBottomColor=o.bgcolor||"#00000000",o.node.style.borderBottomStyle="solid",o.node.style.borderBottomWidth=s,o.node.style.marginBottom=u))}}function a(e){for(var t=0;t<e.length-1;t++){var r=e[t].elements.length;if(0!==r&&!1===e[t].br){var n=document.createElement("br"),i=e[t].elements[r-1].node;i.parentElement.insertBefore(n,i.nextSibling)}}}function o(e,t,r,n){for(var i=Math.sign(r-t),a=0;a<=e.length;a++){var o,s,u;if(o=0===a?t:a===e.length?r:(e[a].before+e[a-1].after)/2,a>0)for(var l=0;l<e[a-1].elements.length;l++)null!==e[a-1].elements[l].bgcolor&&(u=e[a-1].elements[l],i*(u.after-o)<0&&(s=Math.ceil(Math.abs(o-u.after))+"px",u.node.style.backgroundColor=u.bgcolor,"lr"===n.bpd?u.node.style.paddingRight=s:"rl"===n.bpd?u.node.style.paddingLeft=s:"tb"===n.bpd&&(u.node.style.paddingBottom=s)));if(a<e.length)for(var c=0;c<e[a].elements.length;c++)u=e[a].elements[c],null!==u.bgcolor&&i*(u.before-o)>0&&(s=Math.ceil(Math.abs(u.before-o))+"px",u.node.style.backgroundColor=u.bgcolor,"lr"===n.bpd?u.node.style.paddingLeft=s:"rl"===n.bpd?u.node.style.paddingRight=s:"tb"===n.bpd&&(u.node.style.paddingTop=s))}}function s(e,t){this.id=e,this.plist=t}function u(e,t){var r={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(r.before=e.top,r.after=e.bottom,"lr"===t.ipd?(r.start=e.left,r.end=e.right):(r.start=e.right,r.end=e.left)):"lr"===t.bpd?(r.before=e.left,r.after=e.right,r.start=e.top,r.end=e.bottom):"rl"===t.bpd&&(r.before=e.right,r.after=e.left,r.start=e.top,r.end=e.bottom),r}function l(e,t,r,n){var i=t.style.backgroundColor||n;if(0===t.childElementCount)if("span"===t.localName){var a=t.getBoundingClientRect();if(0===a.height||0===a.width)return;var o=u(a,e);if(0!==r.length&&c(o.before,o.after,r[r.length-1].before,r[r.length-1].after)){var s=Math.sign(o.after-o.before),f=Math.sign(o.end-o.start);s*(o.before-r[r.length-1].before)<0&&(r[r.length-1].before=o.before),s*(o.after-r[r.length-1].after)>0&&(r[r.length-1].after=o.after),f*(o.start-r[r.length-1].start)<0&&(r[r.length-1].start=o.start,r[r.length-1].start_elem=r[r.length-1].elements.length),f*(o.end-r[r.length-1].end)>0&&(r[r.length-1].end=o.end,r[r.length-1].end_elem=r[r.length-1].elements.length)}else r.push({before:o.before,after:o.after,start:o.start,end:o.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1});r[r.length-1].text+=t.textContent,r[r.length-1].elements.push({node:t,bgcolor:i,before:o.before,after:o.after})}else"br"===t.localName&&0!==r.length&&(r[r.length-1].br=!0);else{var d=t.firstChild;while(d)d.nodeType===Node.ELEMENT_NODE&&l(e,d,r,i),d=d.nextSibling}}function c(e,t,r,n){return t<n&&e>r||n<=t&&r>=e}function f(e,t){this.qname=e,this.map=t}e.render=function(e,t,r,i,a,o,s,u,l){var c=i||t.clientHeight,f=a||t.clientWidth;if(null!==e.aspectRatio){var d=c*e.aspectRatio;d>f?c=Math.round(f/e.aspectRatio):f=d}var h=document.createElement("div");h.style.position="relative",h.style.width=f+"px",h.style.height=c+"px",h.style.margin="auto",h.style.top=0,h.style.bottom=0,h.style.left=0,h.style.right=0,h.style.zIndex=0;var p={h:c,w:f,regionH:null,regionW:null,imgResolver:r,displayForcedOnlyMode:o||!1,isd:e,errorHandler:s,previousISDState:u,enableRollUp:l||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null};for(var g in t.appendChild(h),e.contents)n(p,h,e.contents[g]);return p.currentISDState};var d=[new f("http://www.w3.org/ns/ttml#styling backgroundColor",(function(e,t,r,n){0!==n[3]&&(t.style.backgroundColor="rgba("+n[0].toString()+","+n[1].toString()+","+n[2].toString()+","+(n[3]/255).toString()+")")})),new f("http://www.w3.org/ns/ttml#styling color",(function(e,t,r,n){t.style.color="rgba("+n[0].toString()+","+n[1].toString()+","+n[2].toString()+","+(n[3]/255).toString()+")"})),new f("http://www.w3.org/ns/ttml#styling direction",(function(e,t,r,n){t.style.direction=n})),new f("http://www.w3.org/ns/ttml#styling display",(function(e,t,r,n){})),new f("http://www.w3.org/ns/ttml#styling displayAlign",(function(e,t,r,n){t.style.display="flex",t.style.flexDirection="column","before"===n?t.style.justifyContent="flex-start":"center"===n?t.style.justifyContent="center":"after"===n&&(t.style.justifyContent="flex-end")})),new f("http://www.w3.org/ns/ttml#styling extent",(function(e,t,r,n){e.regionH=n.h*e.h,e.regionW=n.w*e.w;var i=0,a=0,o=r.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];o&&(i=(o[0]+o[2])*e.h,a=(o[1]+o[3])*e.w),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-a+"px"})),new f("http://www.w3.org/ns/ttml#styling fontFamily",(function(e,t,r,n){var i=[];for(var a in n)"monospaceSerif"===n[a]?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):"proportionalSansSerif"===n[a]?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):"monospace"===n[a]?i.push("monospace"):"sansSerif"===n[a]?i.push("sans-serif"):"serif"===n[a]?i.push("serif"):"monospaceSansSerif"===n[a]?(i.push("Consolas"),i.push("monospace")):"proportionalSerif"===n[a]?i.push("serif"):i.push(n[a]);t.style.fontFamily=i.join(",")})),new f("http://www.w3.org/ns/ttml#styling fontSize",(function(e,t,r,n){t.style.fontSize=n*e.h+"px"})),new f("http://www.w3.org/ns/ttml#styling fontStyle",(function(e,t,r,n){t.style.fontStyle=n})),new f("http://www.w3.org/ns/ttml#styling fontWeight",(function(e,t,r,n){t.style.fontWeight=n})),new f("http://www.w3.org/ns/ttml#styling lineHeight",(function(e,t,r,n){t.style.lineHeight="normal"===n?"normal":n*e.h+"px"})),new f("http://www.w3.org/ns/ttml#styling opacity",(function(e,t,r,n){t.style.opacity=n})),new f("http://www.w3.org/ns/ttml#styling origin",(function(e,t,r,n){t.style.top=n.h*e.h+"px",t.style.left=n.w*e.w+"px"})),new f("http://www.w3.org/ns/ttml#styling overflow",(function(e,t,r,n){t.style.overflow=n})),new f("http://www.w3.org/ns/ttml#styling padding",(function(e,t,r,n){var i=[];i[0]=n[0]*e.h+"px",i[1]=n[3]*e.w+"px",i[2]=n[2]*e.h+"px",i[3]=n[1]*e.w+"px",t.style.padding=i.join(" ")})),new f("http://www.w3.org/ns/ttml#styling showBackground",null),new f("http://www.w3.org/ns/ttml#styling textAlign",(function(e,t,n,i){var a,o=n.styleAttrs[r.byName.direction.qname];a="start"===i?"rtl"===o?"right":"left":"end"===i?"rtl"===o?"left":"right":i,t.style.textAlign=a})),new f("http://www.w3.org/ns/ttml#styling textDecoration",(function(e,t,r,n){t.style.textDecoration=n.join(" ").replace("lineThrough","line-through")})),new f("http://www.w3.org/ns/ttml#styling textOutline",(function(e,t,r,n){t.style.textShadow="none"===n?"":"rgba("+n.color[0].toString()+","+n.color[1].toString()+","+n.color[2].toString()+","+(n.color[3]/255).toString()+") 0px 0px "+n.thickness*e.h+"px"})),new f("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(e,t,r,n){var i;i="bidiOverride"===n?"bidi-override":n,t.style.unicodeBidi=i})),new f("http://www.w3.org/ns/ttml#styling visibility",(function(e,t,r,n){t.style.visibility=n})),new f("http://www.w3.org/ns/ttml#styling wrapOption",(function(e,t,r,n){"wrap"===n?"preserve"===r.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===r.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"})),new f("http://www.w3.org/ns/ttml#styling writingMode",(function(e,t,r,n){"lrtb"===n||"lr"===n||"rltb"===n||"rl"===n?t.style.writingMode="horizontal-tb":"tblr"===n?t.style.writingMode="vertical-lr":"tbrl"!==n&&"tb"!==n||(t.style.writingMode="vertical-rl")})),new f("http://www.w3.org/ns/ttml#styling zIndex",(function(e,t,r,n){t.style.zIndex=n})),new f("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",(function(e,t,r,n){if(null!==e.imgResolver&&null!==n){var i=document.createElement("img"),a=e.imgResolver(n,i);a&&(i.src=a),i.height=e.regionH,i.width=e.regionW,t.appendChild(i)}})),new f("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(e,t,r,n){e.displayForcedOnlyMode&&!1===n&&(t.style.visibility="hidden")}))],h={};for(var p in d)h[d[p].qname]=d[p];function g(e,t){if(e&&e.error&&e.error(t))throw t}})(t,"undefined"===typeof imscNames?r(/*! ./names */"./node_modules/imsc/src/main/js/names.js"):imscNames,"undefined"===typeof imscStyles?r(/*! ./styles */"./node_modules/imsc/src/main/js/styles.js"):imscStyles)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
  !*** ./node_modules/imsc/src/main/js/isd.js ***!
  \**********************************************/(e,t,r)=>{(function(e,t,r){function n(e,t,o,l,c,f,d,h,p){if(t<d.begin||t>=d.end)return null;var g="regionID"in d&&""!==d.regionID?d.regionID:f;if(null!==c&&g!==o.id&&(!("contents"in d)||"contents"in d&&0===d.contents.length||""!==g))return null;var m=new s(d);for(var v in d.sets)t<d.sets[v].begin||t>=d.sets[v].end||(m.styleAttrs[d.sets[v].qname]=d.sets[v].value);var y,b={};for(var E in m.styleAttrs)if(b[E]=!0,E===r.byName.writingMode.qname&&!(r.byName.direction.qname in m.styleAttrs)){var _=m.styleAttrs[E];"lrtb"===_||"lr"===_?m.styleAttrs[r.byName.direction.qname]="ltr":"rltb"!==_&&"rl"!==_||(m.styleAttrs[r.byName.direction.qname]="rtl")}if(null!==c)for(var T in r.all){var w=r.all[T];if(w.qname===r.byName.textDecoration.qname){var S=c.styleAttrs[w.qname],A=m.styleAttrs[w.qname],R=[];void 0===A?R=S:-1===A.indexOf("none")?((-1===A.indexOf("noUnderline")&&-1!==S.indexOf("underline")||-1!==A.indexOf("underline"))&&R.push("underline"),(-1===A.indexOf("noLineThrough")&&-1!==S.indexOf("lineThrough")||-1!==A.indexOf("lineThrough"))&&R.push("lineThrough"),(-1===A.indexOf("noOverline")&&-1!==S.indexOf("overline")||-1!==A.indexOf("overline"))&&R.push("overline")):R.push("none"),m.styleAttrs[w.qname]=R}else w.inherit&&w.qname in c.styleAttrs&&!(w.qname in m.styleAttrs)&&(m.styleAttrs[w.qname]=c.styleAttrs[w.qname])}for(var I in r.all){var C=r.all[I];C.qname in m.styleAttrs||("region"===m.kind||!1===C.inherit&&null!==C.initial)&&(m.styleAttrs[C.qname]=C.parse(C.initial),b[C.qname]=!0)}for(var D in r.all){var N=r.all[D];if(N.qname in b&&null!==N.compute){var x=N.compute(e,c,m,m.styleAttrs[N.qname],p);null!==x?m.styleAttrs[N.qname]=x:u(h,"Style '"+N.qname+"' on element '"+m.kind+"' cannot be computed")}}if("none"===m.styleAttrs[r.byName.display.qname])return null;for(var M in null===c?y=null===l?[]:[l]:"contents"in d&&(y=d.contents),y){var O=n(e,t,o,l,m,g,y[M],h,p);null!==O&&m.contents.push(O.element)}for(var P in m.styleAttrs){var L=r.byQName[P];-1===L.applies.indexOf(m.kind)&&delete m.styleAttrs[P]}if("span"===m.kind&&m.text&&"default"===m.space){var k=m.text.replace(/\s+/g," ");m.text=k}if("p"===m.kind){var F=[];i(m,F);var j=0,B="after_br",U=0;while(1)if("after_br"===B)j>=F.length||"br"===F[j].kind?(B="before_br",U=j,j--):("preserve"!==F[j].space&&(F[j].text=F[j].text.replace(/^\s+/g,"")),F[j].text.length>0?(B="looking_br",j++):F.splice(j,1));else if("before_br"===B)if(j<0||"br"===F[j].kind){if(B="after_br",j=U+1,j>=F.length)break}else if("preserve"!==F[j].space&&(F[j].text=F[j].text.replace(/\s+$/g,"")),F[j].text.length>0){if(B="after_br",j=U+1,j>=F.length)break}else F.splice(j,1),j--;else j>=F.length||"br"===F[j].kind?(B="before_br",U=j,j--):j++;a(m)}return"div"===m.kind&&r.byName.backgroundImage.qname in m.styleAttrs||"br"===m.kind||"contents"in m&&m.contents.length>0||"span"===m.kind&&null!==m.text||"region"===m.kind&&"always"===m.styleAttrs[r.byName.showBackground.qname]?{region_id:g,element:m}:null}function i(e,t){if("contents"in e)for(var r in e.contents)i(e.contents[r],t);else t.push(e)}function a(e){if("br"===e.kind)return!1;if("text"in e)return 0===e.text.length;if("contents"in e){var t=e.contents.length;while(t--)a(e.contents[t])&&e.contents.splice(t,1);return 0===e.contents.length}}function o(e){this.contents=[],this.aspectRatio=e.aspectRatio}function s(e){for(var t in this.kind=e.kind||"region",e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)this.styleAttrs[t]=e.styleAttrs[t];"text"in e?this.text=e.text:"br"!==e.kind&&(this.contents=[]),"space"in e&&(this.space=e.space)}function u(e,t){if(e&&e.error&&e.error(t))throw t}e.generateISD=function(e,t,r){var i=new o(e),a={};for(var s in e.head.layout.regions){var u=n(e,t,e.head.layout.regions[s],e.body,null,"",e.head.layout.regions[s],r,a);null!==u&&i.contents.push(u.element)}return i}})(t,"undefined"===typeof imscNames?r(/*! ./names */"./node_modules/imsc/src/main/js/names.js"):imscNames,"undefined"===typeof imscStyles?r(/*! ./styles */"./node_modules/imsc/src/main/js/styles.js"):imscStyles)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
  !*** ./node_modules/imsc/src/main/js/main.js ***!
  \***********************************************/(e,t,r)=>{t.generateISD=r(/*! ./isd */"./node_modules/imsc/src/main/js/isd.js").generateISD,t.fromXML=r(/*! ./doc */"./node_modules/imsc/src/main/js/doc.js").fromXML,t.renderHTML=r(/*! ./html */"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
  !*** ./node_modules/imsc/src/main/js/names.js ***!
  \************************************************/(e,t)=>{(function(e){e.ns_tt="http://www.w3.org/ns/ttml",e.ns_tts="http://www.w3.org/ns/ttml#styling",e.ns_ttp="http://www.w3.org/ns/ttml#parameter",e.ns_xml="http://www.w3.org/XML/1998/namespace",e.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",e.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",e.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",e.ns_ebutts="urn:ebu:tt:style"})(t)},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
  !*** ./node_modules/imsc/src/main/js/styles.js ***!
  \*************************************************/(e,t,r)=>{(function(e,t,r){function n(e,t,r,n,i,a,o,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=i,this.animatable=a,this.initial=r,this.applies=n,this.parse=o,this.compute=s}for(var i in e.all=[new n(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,r.parseColor,null),new n(t.ns_tts,"color","white",["span"],!0,!0,r.parseColor,null),new n(t.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"displayAlign","before",["region"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var n=r.parseLength(t[0]),i=r.parseLength(t[1]);return i&&n?{h:i,w:n}:null}),(function(e,t,r,n,i){var a,o;if("auto"===n)a=1;else if("%"===n.h.unit)a=n.h.value/100;else{if("px"!==n.h.unit)return null;a=n.h.value/e.pxDimensions.h}if("auto"===n)o=1;else if("%"===n.w.unit)o=n.w.value/100;else{if("px"!==n.w.unit)return null;o=n.w.value/e.pxDimensions.w}return{h:a,w:o}})),new n(t.ns_tts,"fontFamily","default",["span"],!0,!0,(function(e){var t=e.split(","),r=[];for(var n in t)"'"!==t[n].charAt(0)&&'"'!==t[n].charAt(0)&&"default"===t[n]?r.push("monospaceSerif"):r.push(t[n]);return r}),null),new n(t.ns_tts,"fontSize","1c",["span"],!0,!0,r.parseLength,(function(t,r,n,i,a){var o;if("%"===i.unit)o=null!==r?r.styleAttrs[e.byName.fontSize.qname]*i.value/100:i.value/100/t.cellResolution.h;else if("em"===i.unit)o=null!==r?r.styleAttrs[e.byName.fontSize.qname]*i.value:i.value/t.cellResolution.h;else if("c"===i.unit)o=i.value/t.cellResolution.h;else{if("px"!==i.unit)return null;o=i.value/t.pxDimensions.h}return o})),new n(t.ns_tts,"fontStyle","normal",["span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"fontWeight","normal",["span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(e){return"normal"===e?e:r.parseLength(e)}),(function(t,r,n,i,a){var o;if("normal"===i)o=i;else if("%"===i.unit)o=n.styleAttrs[e.byName.fontSize.qname]*i.value/100;else if("em"===i.unit)o=n.styleAttrs[e.byName.fontSize.qname]*i.value;else if("c"===i.unit)o=i.value/t.cellResolution.h;else{if("px"!==i.unit)return null;o=i.value/t.pxDimensions.h}return o})),new n(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new n(t.ns_tts,"origin","auto",["region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var n=r.parseLength(t[0]),i=r.parseLength(t[1]);return i&&n?{h:i,w:n}:null}),(function(e,t,r,n,i){var a,o;if("auto"===n)a=0;else if("%"===n.h.unit)a=n.h.value/100;else{if("px"!==n.h.unit)return null;a=n.h.value/e.pxDimensions.h}if("auto"===n)o=0;else if("%"===n.w.unit)o=n.w.value/100;else{if("px"!==n.w.unit)return null;o=n.w.value/e.pxDimensions.w}return{h:a,w:o}})),new n(t.ns_tts,"overflow","hidden",["region"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"padding","0px",["region"],!1,!0,(function(e){var t=e.split(" ");if(t.length>4)return null;var n=[];for(var i in t){var a=r.parseLength(t[i]);if(!a)return null;n.push(a)}return n}),(function(t,r,n,i,a){var o;if(1===i.length)o=[i[0],i[0],i[0],i[0]];else if(2===i.length)o=[i[0],i[1],i[0],i[1]];else if(3===i.length)o=[i[0],i[1],i[2],i[1]];else{if(4!==i.length)return null;o=[i[0],i[1],i[2],i[3]]}var s=n.styleAttrs[e.byName.writingMode.qname];if("lrtb"===s||"lr"===s)o=[o[0],o[3],o[2],o[1]];else if("rltb"===s||"rl"===s)o=[o[0],o[1],o[2],o[3]];else if("tblr"===s)o=[o[3],o[0],o[1],o[2]];else{if("tbrl"!==s&&"tb"!==s)return null;o=[o[3],o[2],o[1],o[0]]}var u=[];for(var l in o)if(0===o[l].value)u[l]=0;else if("%"===o[l].unit)u[l]="0"===l||"2"===l?n.styleAttrs[e.byName.extent.qname].h*o[l].value/100:n.styleAttrs[e.byName.extent.qname].w*o[l].value/100;else if("em"===o[l].unit)u[l]=n.styleAttrs[e.byName.fontSize.qname]*o[l].value;else if("c"===o[l].unit)u[l]=o[l].value/t.cellResolution.h;else{if("px"!==o[l].unit)return null;u[l]="0"===l||"2"===l?o[l].value/t.pxDimensions.h:o[l].value/t.pxDimensions.w}return u})),new n(t.ns_tts,"showBackground","always",["region"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"textAlign","start",["p"],!0,!0,(function(e){return e}),(function(e,t,r,n,i){return"left"===n?"start":"right"===n?"end":n})),new n(t.ns_tts,"textDecoration","none",["span"],!0,!0,(function(e){return e.split(" ")}),null),new n(t.ns_tts,"textOutline","none",["span"],!0,!0,(function(e){if("none"===e)return e;var t={},n=e.split(" ");if(0===n.length||n.length>2)return null;var i=r.parseColor(n[0]);if(t.color=i,null!==i&&n.shift(),1!==n.length)return null;var a=r.parseLength(n[0]);return a?(t.thickness=a,t):null}),(function(t,r,n,i,a){if("none"===i)return i;var o={};if(null===i.color?o.color=n.styleAttrs[e.byName.color.qname]:o.color=i.color,"%"===i.thickness.unit)o.thickness=n.styleAttrs[e.byName.fontSize.qname]*i.thickness.value/100;else if("em"===i.thickness.unit)o.thickness=n.styleAttrs[e.byName.fontSize.qname]*i.thickness.value;else if("c"===i.thickness.unit)o.thickness=i.thickness.value/t.cellResolution.h;else{if("px"!==i.thickness.unit)return null;o.thickness=i.thickness.value/t.pxDimensions.h}return o})),new n(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(e){return e}),null),new n(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(e){return e}),null),new n(t.ns_tts,"zIndex","auto",["region"],!1,!0,(function(e){var t;return"auto"===e?t=e:(t=parseInt(e),isNaN(t)&&(t=null)),t}),null),new n(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,r.parseLength,(function(e,t,r,n,i){return"c"===n.unit?n.value/e.cellResolution.h:null})),new n(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(e){return e}),null),new n(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(e){return e}),null),new n(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(e){return"true"===e}),null),new n(t.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(e){return"true"===e}),null)],e.byQName={},e.all)e.byQName[e.all[i].qname]=e.all[i];for(var a in e.byName={},e.all)e.byName[e.all[a].name]=e.all[a]})(t,"undefined"===typeof imscNames?r(/*! ./names */"./node_modules/imsc/src/main/js/names.js"):imscNames,"undefined"===typeof imscUtils?r(/*! ./utils */"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
  !*** ./node_modules/imsc/src/main/js/utils.js ***!
  \************************************************/(e,t)=>{(function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var a,o=null,s=i[e.toLowerCase()];return void 0!==s?o=s:null!==(a=t.exec(e))?o=[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),void 0!==a[4]?parseInt(a[4],16):255]:null!==(a=r.exec(e))?o=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),255]:null!==(a=n.exec(e))&&(o=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),parseInt(a[4])]),o};var a=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;e.parseLength=function(e){var t,r=null;return null!==(t=a.exec(e))&&(r={value:parseFloat(t[1]),unit:t[2]}),r}})(t)},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
  !*** ./node_modules/is-alphabetical/index.js ***!
  \***********************************************/e=>{"use strict";function t(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}e.exports=t},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
  !*** ./node_modules/is-alphanumerical/index.js ***!
  \*************************************************/(e,t,r)=>{"use strict";var n=r(/*! is-alphabetical */"./node_modules/is-alphabetical/index.js"),i=r(/*! is-decimal */"./node_modules/is-decimal/index.js");function a(e){return n(e)||i(e)}e.exports=a},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
  !*** ./node_modules/is-decimal/index.js ***!
  \******************************************/e=>{"use strict";function t(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}e.exports=t},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
  !*** ./node_modules/path-browserify/index.js ***!
  \***********************************************/e=>{"use strict";function r(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var r,n="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",i=0):(n=n.slice(0,u),i=n.length-1-n.lastIndexOf("/")),a=s,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=s,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return n}function i(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}var a={resolve:function(){for(var e,i="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=t.cwd()),s=e),r(s),0!==s.length&&(i=s+"/"+i,a=47===s.charCodeAt(0))}return i=n(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return e=n(e,!t),0!==e.length||t||(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":a.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if(e=a.resolve(e),t=a.resolve(t),e===t)return"";for(var n=1;n<e.length;++n)if(47!==e.charCodeAt(n))break;for(var i=e.length,o=i-n,s=1;s<t.length;++s)if(47!==t.charCodeAt(s))break;for(var u=t.length,l=u-s,c=o<l?o:l,f=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===t.charCodeAt(s+d))return t.slice(s+d+1);if(0===d)return t.slice(s+d)}else o>c&&(47===e.charCodeAt(n+d)?f=d:0===d&&(f=0));break}var h=e.charCodeAt(n+d),p=t.charCodeAt(s+d);if(h!==p)break;47===h&&(f=d)}var g="";for(d=n+f+1;d<=i;++d)d!==i&&47!==e.charCodeAt(d)||(0===g.length?g+="..":g+="/..");return g.length>0?g+t.slice(s+f):(s+=f,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,a=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!a){i=o;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,i=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,u=-1;for(n=e.length-1;n>=0;--n){var l=e.charCodeAt(n);if(47===l){if(!o){i=n+1;break}}else-1===u&&(o=!1,u=n+1),s>=0&&(l===t.charCodeAt(s)?-1===--s&&(a=n):(s=-1,a=u))}return i===a?a=u:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(i,a)},extname:function(e){r(e);for(var t=-1,n=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47!==u)-1===i&&(a=!1,i=s+1),46===u?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return i("/",e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0),a=47===i;a?(t.root="/",n=1):n=0;for(var o=-1,s=0,u=-1,l=!0,c=e.length-1,f=0;c>=n;--c)if(i=e.charCodeAt(c),47!==i)-1===u&&(l=!1,u=c+1),46===i?-1===o?o=c:1!==f&&(f=1):-1!==o&&(f=-1);else if(!l){s=c+1;break}return-1===o||-1===u||0===f||1===f&&o===u-1&&o===s+1?-1!==u&&(t.base=t.name=0===s&&a?e.slice(1,u):e.slice(s,u)):(0===s&&a?(t.name=e.slice(1,o),t.base=e.slice(1,u)):(t.name=e.slice(s,o),t.base=e.slice(s,u)),t.ext=e.slice(o,u)),s>0?t.dir=e.slice(0,s-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,e.exports=a},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
  !*** ./node_modules/safe-buffer/index.js ***!
  \*******************************************/(e,t,r)=>{var n=r(/*! buffer */"./node_modules/buffer/index.js"),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),a(i,o),o.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
  !*** ./node_modules/sax/lib/sax.js ***!
  \*************************************/(e,t,n)=>{(function(e){e.parser=function(e,t){return new a(e,t)},e.SAXParser=a,e.SAXStream=f,e.createStream=c,e.MAX_BUFFER_LENGTH=65536;var t,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(t,r){if(!(this instanceof a))return new a(t,r);var n=this;s(n),n.q=n.c="",n.bufferCheckPosition=e.MAX_BUFFER_LENGTH,n.opt=r||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!t,n.noscript=!(!t&&!n.opt.noscript),n.state=N.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(_)),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),M(n,"onready")}function o(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),n=0,a=0,o=i.length;a<o;a++){var s=t[i[a]].length;if(s>r)switch(i[a]){case"textNode":P(t);break;case"cdata":O(t,"oncdata",t.cdata),t.cdata="";break;case"script":O(t,"onscript",t.script),t.script="";break;default:k(t,"Max buffer length exceeded: "+i[a])}n=Math.max(n,s)}var u=e.MAX_BUFFER_LENGTH-n;t.bufferCheckPosition=u+t.position}function s(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}function u(e){P(e),""!==e.cdata&&(O(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(O(e,"onscript",e.script),e.script="")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}t.prototype=e;var r=new t;return r}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),a.prototype={end:function(){F(this)},write:K,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};try{t=n(/*! stream */"./node_modules/stream-browserify/index.js").Stream}catch(W){t=function(){}}var l=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function c(e,t){return new f(e,t)}function f(e,r){if(!(this instanceof f))return new f(e,r);t.apply(this),this._parser=new a(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,l.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}f.prototype=Object.create(t.prototype,{constructor:{value:f}}),f.prototype.write=function(e){if("function"===typeof r&&"function"===typeof r.isBuffer&&r.isBuffer(e)){if(!this._decoder){var t=n(/*! string_decoder */"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},f.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},f.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===l.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var d="\r\n\t ",h="0124356789",p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",g="'\"",m=d+">",v="[CDATA[",y="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",_={xml:b,xmlns:E};d=R(d),h=R(h),p=R(p);var T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function R(e){return e.split("").reduce((function(e,t){return e[t]=!0,e}),{})}function I(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function C(e,t){return I(e)?!!t.match(e):e[t]}function D(e,t){return!C(e,t)}g=R(g),m=R(m);var N=0;for(var x in e.STATE={BEGIN:N++,BEGIN_WHITESPACE:N++,TEXT:N++,TEXT_ENTITY:N++,OPEN_WAKA:N++,SGML_DECL:N++,SGML_DECL_QUOTED:N++,DOCTYPE:N++,DOCTYPE_QUOTED:N++,DOCTYPE_DTD:N++,DOCTYPE_DTD_QUOTED:N++,COMMENT_STARTING:N++,COMMENT:N++,COMMENT_ENDING:N++,COMMENT_ENDED:N++,CDATA:N++,CDATA_ENDING:N++,CDATA_ENDING_2:N++,PROC_INST:N++,PROC_INST_BODY:N++,PROC_INST_ENDING:N++,OPEN_TAG:N++,OPEN_TAG_SLASH:N++,ATTRIB:N++,ATTRIB_NAME:N++,ATTRIB_NAME_SAW_WHITE:N++,ATTRIB_VALUE:N++,ATTRIB_VALUE_QUOTED:N++,ATTRIB_VALUE_CLOSED:N++,ATTRIB_VALUE_UNQUOTED:N++,ATTRIB_VALUE_ENTITY_Q:N++,ATTRIB_VALUE_ENTITY_U:N++,CLOSE_TAG:N++,CLOSE_TAG_SAW_WHITE:N++,SCRIPT:N++,SCRIPT_ENDING:N++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],n="number"===typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[x]]=x;function M(e,t,r){e[t]&&e[t](r)}function O(e,t,r){e.textNode&&P(e),M(e,t,r)}function P(e){e.textNode=L(e.opt,e.textNode),e.textNode&&M(e,"ontext",e.textNode),e.textNode=""}function L(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function k(e,t){return P(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,M(e,"onerror",t),e}function F(e){return e.sawRoot&&!e.closedRoot&&j(e,"Unclosed root tag"),e.state!==N.BEGIN&&e.state!==N.BEGIN_WHITESPACE&&e.state!==N.TEXT&&k(e,"Unexpected end"),P(e),e.c="",e.closed=!0,M(e,"onend"),a.call(e,e.strict,e.opt),e}function j(e,t){if("object"!==typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&k(e,t)}function B(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,O(e,"onopentagstart",r)}function U(e,t){var r=e.indexOf(":"),n=r<0?["",e]:e.split(":"),i=n[0],a=n[1];return t&&"xmlns"===e&&(i="xmlns",a=""),{prefix:i,local:a}}function q(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=U(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==b)j(e,"xml: prefix must be bound to "+b+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==E)j(e,"xmlns: prefix must be bound to "+E+"\nActual: "+e.attribValue);else{var i=e.tag,a=e.tags[e.tags.length-1]||e;i.ns===a.ns&&(i.ns=Object.create(a.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,O(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function G(e,t){if(e.opt.xmlns){var r=e.tag,n=U(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(j(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){O(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var a=0,o=e.attribList.length;a<o;a++){var s=e.attribList[a],u=s[0],l=s[1],c=U(u,!0),f=c.prefix,d=c.local,h=""===f?"":r.ns[f]||"",p={name:u,value:l,prefix:f,local:d,uri:h};f&&"xmlns"!==f&&!h&&(j(e,"Unbound namespace prefix: "+JSON.stringify(f)),p.uri=f),e.tag.attributes[u]=p,O(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),O(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=N.TEXT:e.state=N.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function V(e){if(!e.tagName)return j(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=N.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=N.SCRIPT);O(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());var n=r;while(t--){var i=e.tags[t];if(i.name===n)break;j(e,"Unexpected close tag")}if(t<0)return j(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=N.TEXT);e.tagName=r;var a=e.tags.length;while(a-- >t){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,O(e,"onclosetag",e.tagName);var s={};for(var u in o.ns)s[u]=o.ns[u];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==l.ns&&Object.keys(o.ns).forEach((function(t){var r=o.ns[t];O(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=N.TEXT}function H(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:(r=n,"#"===r.charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),t=parseInt(r,16),i=t.toString(16)):(r=r.slice(1),t=parseInt(r,10),i=t.toString(10))),r=r.replace(/^0+/,""),i.toLowerCase()!==r?(j(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function Y(e,t){"<"===t?(e.state=N.OPEN_WAKA,e.startTagPosition=e.position):D(d,t)&&(j(e,"Non-whitespace before first tag."),e.textNode=t,e.state=N.TEXT)}function z(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}function K(e){var t=this;if(this.error)throw this.error;if(t.closed)return k(t,"Cannot write after close. Assign an onready handler.");if(null===e)return F(t);"object"===typeof e&&(e=e.toString());var r=0,n="";while(1){if(n=z(e,r++),t.c=n,!n)break;switch(t.trackPosition&&(t.position++,"\n"===n?(t.line++,t.column=0):t.column++),t.state){case N.BEGIN:if(t.state=N.BEGIN_WHITESPACE,"\ufeff"===n)continue;Y(t,n);continue;case N.BEGIN_WHITESPACE:Y(t,n);continue;case N.TEXT:if(t.sawRoot&&!t.closedRoot){var i=r-1;while(n&&"<"!==n&&"&"!==n)n=z(e,r++),n&&t.trackPosition&&(t.position++,"\n"===n?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(i,r-1)}"<"!==n||t.sawRoot&&t.closedRoot&&!t.strict?(!D(d,n)||t.sawRoot&&!t.closedRoot||j(t,"Text data outside of root node."),"&"===n?t.state=N.TEXT_ENTITY:t.textNode+=n):(t.state=N.OPEN_WAKA,t.startTagPosition=t.position);continue;case N.SCRIPT:"<"===n?t.state=N.SCRIPT_ENDING:t.script+=n;continue;case N.SCRIPT_ENDING:"/"===n?t.state=N.CLOSE_TAG:(t.script+="<"+n,t.state=N.SCRIPT);continue;case N.OPEN_WAKA:if("!"===n)t.state=N.SGML_DECL,t.sgmlDecl="";else if(C(d,n));else if(C(T,n))t.state=N.OPEN_TAG,t.tagName=n;else if("/"===n)t.state=N.CLOSE_TAG,t.tagName="";else if("?"===n)t.state=N.PROC_INST,t.procInstName=t.procInstBody="";else{if(j(t,"Unencoded <"),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;n=new Array(a).join(" ")+n}t.textNode+="<"+n,t.state=N.TEXT}continue;case N.SGML_DECL:(t.sgmlDecl+n).toUpperCase()===v?(O(t,"onopencdata"),t.state=N.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+n==="--"?(t.state=N.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+n).toUpperCase()===y?(t.state=N.DOCTYPE,(t.doctype||t.sawRoot)&&j(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===n?(O(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=N.TEXT):C(g,n)?(t.state=N.SGML_DECL_QUOTED,t.sgmlDecl+=n):t.sgmlDecl+=n;continue;case N.SGML_DECL_QUOTED:n===t.q&&(t.state=N.SGML_DECL,t.q=""),t.sgmlDecl+=n;continue;case N.DOCTYPE:">"===n?(t.state=N.TEXT,O(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=n,"["===n?t.state=N.DOCTYPE_DTD:C(g,n)&&(t.state=N.DOCTYPE_QUOTED,t.q=n));continue;case N.DOCTYPE_QUOTED:t.doctype+=n,n===t.q&&(t.q="",t.state=N.DOCTYPE);continue;case N.DOCTYPE_DTD:t.doctype+=n,"]"===n?t.state=N.DOCTYPE:C(g,n)&&(t.state=N.DOCTYPE_DTD_QUOTED,t.q=n);continue;case N.DOCTYPE_DTD_QUOTED:t.doctype+=n,n===t.q&&(t.state=N.DOCTYPE_DTD,t.q="");continue;case N.COMMENT:"-"===n?t.state=N.COMMENT_ENDING:t.comment+=n;continue;case N.COMMENT_ENDING:"-"===n?(t.state=N.COMMENT_ENDED,t.comment=L(t.opt,t.comment),t.comment&&O(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+n,t.state=N.COMMENT);continue;case N.COMMENT_ENDED:">"!==n?(j(t,"Malformed comment"),t.comment+="--"+n,t.state=N.COMMENT):t.state=N.TEXT;continue;case N.CDATA:"]"===n?t.state=N.CDATA_ENDING:t.cdata+=n;continue;case N.CDATA_ENDING:"]"===n?t.state=N.CDATA_ENDING_2:(t.cdata+="]"+n,t.state=N.CDATA);continue;case N.CDATA_ENDING_2:">"===n?(t.cdata&&O(t,"oncdata",t.cdata),O(t,"onclosecdata"),t.cdata="",t.state=N.TEXT):"]"===n?t.cdata+="]":(t.cdata+="]]"+n,t.state=N.CDATA);continue;case N.PROC_INST:"?"===n?t.state=N.PROC_INST_ENDING:C(d,n)?t.state=N.PROC_INST_BODY:t.procInstName+=n;continue;case N.PROC_INST_BODY:if(!t.procInstBody&&C(d,n))continue;"?"===n?t.state=N.PROC_INST_ENDING:t.procInstBody+=n;continue;case N.PROC_INST_ENDING:">"===n?(O(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=N.TEXT):(t.procInstBody+="?"+n,t.state=N.PROC_INST_BODY);continue;case N.OPEN_TAG:C(w,n)?t.tagName+=n:(B(t),">"===n?G(t):"/"===n?t.state=N.OPEN_TAG_SLASH:(D(d,n)&&j(t,"Invalid character in tag name"),t.state=N.ATTRIB));continue;case N.OPEN_TAG_SLASH:">"===n?(G(t,!0),V(t)):(j(t,"Forward-slash in opening tag not followed by >"),t.state=N.ATTRIB);continue;case N.ATTRIB:if(C(d,n))continue;">"===n?G(t):"/"===n?t.state=N.OPEN_TAG_SLASH:C(T,n)?(t.attribName=n,t.attribValue="",t.state=N.ATTRIB_NAME):j(t,"Invalid attribute name");continue;case N.ATTRIB_NAME:"="===n?t.state=N.ATTRIB_VALUE:">"===n?(j(t,"Attribute without value"),t.attribValue=t.attribName,q(t),G(t)):C(d,n)?t.state=N.ATTRIB_NAME_SAW_WHITE:C(w,n)?t.attribName+=n:j(t,"Invalid attribute name");continue;case N.ATTRIB_NAME_SAW_WHITE:if("="===n)t.state=N.ATTRIB_VALUE;else{if(C(d,n))continue;j(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",O(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===n?G(t):C(T,n)?(t.attribName=n,t.state=N.ATTRIB_NAME):(j(t,"Invalid attribute name"),t.state=N.ATTRIB)}continue;case N.ATTRIB_VALUE:if(C(d,n))continue;C(g,n)?(t.q=n,t.state=N.ATTRIB_VALUE_QUOTED):(j(t,"Unquoted attribute value"),t.state=N.ATTRIB_VALUE_UNQUOTED,t.attribValue=n);continue;case N.ATTRIB_VALUE_QUOTED:if(n!==t.q){"&"===n?t.state=N.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=n;continue}q(t),t.q="",t.state=N.ATTRIB_VALUE_CLOSED;continue;case N.ATTRIB_VALUE_CLOSED:C(d,n)?t.state=N.ATTRIB:">"===n?G(t):"/"===n?t.state=N.OPEN_TAG_SLASH:C(T,n)?(j(t,"No whitespace between attributes"),t.attribName=n,t.attribValue="",t.state=N.ATTRIB_NAME):j(t,"Invalid attribute name");continue;case N.ATTRIB_VALUE_UNQUOTED:if(D(m,n)){"&"===n?t.state=N.ATTRIB_VALUE_ENTITY_U:t.attribValue+=n;continue}q(t),">"===n?G(t):t.state=N.ATTRIB;continue;case N.CLOSE_TAG:if(t.tagName)">"===n?V(t):C(w,n)?t.tagName+=n:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=N.SCRIPT):(D(d,n)&&j(t,"Invalid tagname in closing tag"),t.state=N.CLOSE_TAG_SAW_WHITE);else{if(C(d,n))continue;D(T,n)?t.script?(t.script+="</"+n,t.state=N.SCRIPT):j(t,"Invalid tagname in closing tag."):t.tagName=n}continue;case N.CLOSE_TAG_SAW_WHITE:if(C(d,n))continue;">"===n?V(t):j(t,"Invalid characters in closing tag");continue;case N.TEXT_ENTITY:case N.ATTRIB_VALUE_ENTITY_Q:case N.ATTRIB_VALUE_ENTITY_U:var s,u;switch(t.state){case N.TEXT_ENTITY:s=N.TEXT,u="textNode";break;case N.ATTRIB_VALUE_ENTITY_Q:s=N.ATTRIB_VALUE_QUOTED,u="attribValue";break;case N.ATTRIB_VALUE_ENTITY_U:s=N.ATTRIB_VALUE_UNQUOTED,u="attribValue";break}";"===n?(t[u]+=H(t),t.entity="",t.state=s):C(t.entity.length?A:S,n)?t.entity+=n:(j(t,"Invalid character in entity name"),t[u]+="&"+t.entity+n,t.entity="",t.state=s);continue;default:throw new Error(t,"Unknown state: "+t.state)}}return t.position>=t.bufferCheckPosition&&o(t),t}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */N=e.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,r=function(){var r,n,i=16384,a=[],o=-1,s=arguments.length;if(!s)return"";var u="";while(++o<s){var l=Number(arguments[o]);if(!isFinite(l)||l<0||l>1114111||t(l)!==l)throw RangeError("Invalid code point: "+l);l<=65535?a.push(l):(l-=65536,r=55296+(l>>10),n=l%1024+56320,a.push(r,n)),(o+1===s||a.length>i)&&(u+=e.apply(null,a),a.length=0)}return u};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()})(t)},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
  !*** ./node_modules/stream-browserify/index.js ***!
  \*************************************************/(e,t,r)=>{e.exports=a;var n=r(/*! events */"./node_modules/events/events.js").EventEmitter,i=r(/*! inherits */"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js");function a(){n.call(this)}i(a,n),a.Readable=r(/*! readable-stream/lib/_stream_readable.js */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js"),a.Writable=r(/*! readable-stream/lib/_stream_writable.js */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js"),a.Duplex=r(/*! readable-stream/lib/_stream_duplex.js */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),a.Transform=r(/*! readable-stream/lib/_stream_transform.js */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js"),a.PassThrough=r(/*! readable-stream/lib/_stream_passthrough.js */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js"),a.finished=r(/*! readable-stream/lib/internal/streams/end-of-stream.js */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"),a.pipeline=r(/*! readable-stream/lib/internal/streams/pipeline.js */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/pipeline.js"),a.Stream=a,a.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function l(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",a),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",l),e.on("error",l),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js ***!
  \**********************************************************************************/e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js ***!
  \***************************************************************************************/e=>{"use strict";function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r={};function n(e,n,i){function a(e,t,r){return"string"===typeof n?n:n(e,t,r)}i||(i=Error);var o=function(e){function r(t,r,n){return e.call(this,a(t,r,n))||this}return t(r,e),r}(i);o.prototype.name=i.name,o.prototype.code=e,r[e]=o}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function a(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function o(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function s(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,u;if("string"===typeof t&&a(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",o(e," argument"))u="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var l=s(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(l," ").concat(n," ").concat(i(t,"type"))}return u+=". Received type ".concat(typeof r),u}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js ***!
  \*******************************************************************************************/(e,r,n)=>{"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var a=n(/*! ./_stream_readable */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js"),o=n(/*! ./_stream_writable */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js");n(/*! inherits */"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(c,a);for(var s=i(o.prototype),u=0;u<s.length;u++){var l=s[u];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);a.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js ***!
  \************************************************************************************************/(e,t,r)=>{"use strict";e.exports=i;var n=r(/*! ./_stream_transform */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(/*! inherits */"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js ***!
  \*********************************************************************************************/(e,r,n)=>{"use strict";var i;e.exports=D,D.ReadableState=C;n(/*! events */"./node_modules/events/events.js").EventEmitter;var a=function(e,t){return e.listeners(t).length},o=n(/*! ./internal/streams/stream */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js"),s=n(/*! buffer */"./node_modules/buffer/index.js").Buffer,u=n.g.Uint8Array||function(){};function l(e){return s.from(e)}function c(e){return s.isBuffer(e)||e instanceof u}var f,d=n(/*! util */"?19e6");f=d&&d.debuglog?d.debuglog("stream"):function(){};var h,p,g,m=n(/*! ./internal/streams/buffer_list */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/buffer_list.js"),v=n(/*! ./internal/streams/destroy */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js"),y=n(/*! ./internal/streams/state */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js"),b=y.getHighWaterMark,E=n(/*! ../errors */"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes,_=E.ERR_INVALID_ARG_TYPE,T=E.ERR_STREAM_PUSH_AFTER_EOF,w=E.ERR_METHOD_NOT_IMPLEMENTED,S=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(/*! inherits */"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(D,o);var A=v.errorOrDestroy,R=["error","close","destroy","pause","resume"];function I(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function C(e,t,r){i=i||n(/*! ./_stream_duplex */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),e=e||{},"boolean"!==typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",r),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(/*! string_decoder/ */"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function D(e){if(i=i||n(/*! ./_stream_duplex */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof D))return new D(e);var t=this instanceof i;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function N(e,t,r,n,i){f("readableAddChunk",t);var a,o=e._readableState;if(null===t)o.reading=!1,k(e,o);else if(i||(a=M(o,t)),a)A(e,a);else if(o.objectMode||t&&t.length>0)if("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),n)o.endEmitted?A(e,new S):x(e,o,t,!0);else if(o.ended)A(e,new T);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?x(e,o,t,!1):B(e,o)):x(e,o,t,!1)}else n||(o.reading=!1,B(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&F(e)),B(e,t)}function M(e,t){var r;return c(t)||"string"===typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),D.prototype.destroy=v.destroy,D.prototype._undestroy=v.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=s.from(e,t),t=""),r=!0),N(this,e,t,!1,r)},D.prototype.unshift=function(e){return N(this,e,null,!0,!1)},D.prototype.isPaused=function(){return!1===this._readableState.flowing},D.prototype.setEncoding=function(e){h||(h=n(/*! string_decoder/ */"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head,i="";while(null!==r)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function P(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=P(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e,t){if(f("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?F(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}}function F(e){var r=e._readableState;f("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(f("emitReadable",r.flowing),r.emittedReadable=!0,t.nextTick(j,e))}function j(e){var t=e._readableState;f("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,z(e)}function B(e,r){r.readingMore||(r.readingMore=!0,t.nextTick(U,e,r))}function U(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length)){var r=t.length;if(f("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function q(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,z(e))}}function G(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function V(e){f("readable nexttick read 0"),e.read(0)}function H(e,r){r.resumeScheduled||(r.resumeScheduled=!0,t.nextTick(Y,e,r))}function Y(e,t){f("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),z(e),t.flowing&&!t.reading&&e.read(0)}function z(e){var t=e._readableState;f("flow",t.flowing);while(t.flowing&&null!==e.read());}function K(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function W(e){var r=e._readableState;f("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,t.nextTick($,r,e))}function $(e,t){if(f("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function X(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}D.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?W(this):F(this),null;if(e=L(e,t),0===e&&t.ended)return 0===t.length&&W(this),null;var n,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,f("length less than watermark",i)),t.ended||t.reading?(i=!1,f("reading or ended",i)):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(r,t))),n=e>0?K(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&W(this)),null!==n&&this.emit("data",n),n},D.prototype._read=function(e){A(this,new w("_read()"))},D.prototype.pipe=function(e,r){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr,s=o?l:y;function u(e,t){f("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function l(){f("onend"),e.end()}i.endEmitted?t.nextTick(s):n.once("end",s),e.on("unpipe",u);var c=q(n);e.on("drain",c);var d=!1;function h(){f("cleanup"),e.removeListener("close",m),e.removeListener("finish",v),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",p),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function p(t){f("ondata");var r=e.write(t);f("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==X(i.pipes,e))&&!d&&(f("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function g(t){f("onerror",t),y(),e.removeListener("error",g),0===a(e,"error")&&A(e,t)}function m(){e.removeListener("finish",v),y()}function v(){f("onfinish"),e.removeListener("close",m),y()}function y(){f("unpipe"),n.unpipe(e)}return n.on("data",p),I(e,"error",g),e.once("close",m),e.once("finish",v),e.emit("pipe",n),i.flowing||(f("pipe resume"),n.resume()),e},D.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=X(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},D.prototype.on=function(e,r){var n=o.prototype.on.call(this,e,r),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,f("on readable",i.length,i.reading),i.length?F(this):i.reading||t.nextTick(V,this))),n},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(e,r){var n=o.prototype.removeListener.call(this,e,r);return"readable"===e&&t.nextTick(G,this),n},D.prototype.removeAllListeners=function(e){var r=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||t.nextTick(G,this),r},D.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},D.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){if(f("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var a=t.push(i);a||(n=!0,e.pause())}})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<R.length;a++)e.on(R[a],this.emit.bind(this,R[a]));return this._read=function(t){f("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"===typeof Symbol&&(D.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=n(/*! ./internal/streams/async_iterator */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/async_iterator.js")),p(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),D._fromList=K,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(D.from=function(e,t){return void 0===g&&(g=n(/*! ./internal/streams/from */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/from-browser.js")),g(D,e,t)})},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js ***!
  \**********************************************************************************************/(e,t,r)=>{"use strict";e.exports=c;var n=r(/*! ../errors */"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(/*! ./_stream_duplex */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js");function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(/*! inherits */"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js ***!
  \*********************************************************************************************/(e,r,n)=>{"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Y(t,e)}}var a;e.exports=C,C.WritableState=I;var o={deprecate:n(/*! util-deprecate */"./node_modules/util-deprecate/browser.js")},s=n(/*! ./internal/streams/stream */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js"),u=n(/*! buffer */"./node_modules/buffer/index.js").Buffer,l=n.g.Uint8Array||function(){};function c(e){return u.from(e)}function f(e){return u.isBuffer(e)||e instanceof l}var d,h=n(/*! ./internal/streams/destroy */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js"),p=n(/*! ./internal/streams/state */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js"),g=p.getHighWaterMark,m=n(/*! ../errors */"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes,v=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,E=m.ERR_STREAM_CANNOT_PIPE,_=m.ERR_STREAM_DESTROYED,T=m.ERR_STREAM_NULL_VALUES,w=m.ERR_STREAM_WRITE_AFTER_END,S=m.ERR_UNKNOWN_ENCODING,A=h.errorOrDestroy;function R(){}function I(e,t,r){a=a||n(/*! ./_stream_duplex */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),e=e||{},"boolean"!==typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=g(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){k(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(e){a=a||n(/*! ./_stream_duplex */"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js");var t=this instanceof a;if(!t&&!d.call(C,this))return new C(e);this._writableState=new I(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function D(e,r){var n=new w;A(e,n),t.nextTick(r,n)}function N(e,r,n,i){var a;return null===n?a=new T:"string"===typeof n||r.objectMode||(a=new v("chunk",["string","Buffer"],n)),!a||(A(e,a),t.nextTick(i,a),!1)}function x(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,r)),t}function M(e,t,r,n,i,a){if(!r){var o=x(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else O(e,t,!1,s,n,i,a);return u}function O(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function P(e,r,n,i,a){--r.pendingcb,n?(t.nextTick(a,i),t.nextTick(V,e,r),e._writableState.errorEmitted=!0,A(e,i)):(a(i),e._writableState.errorEmitted=!0,A(e,i),V(e,r))}function L(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function k(e,r){var n=e._writableState,i=n.sync,a=n.writecb;if("function"!==typeof a)throw new b;if(L(n),r)P(e,n,i,r,a);else{var o=U(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||B(e,n),i?t.nextTick(F,e,n,o,a):F(e,n,o,a)}}function F(e,t,r,n){r||j(e,t),t.pendingcb--,n(),V(e,t)}function j(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),o=t.corkedRequestsFree;o.entry=r;var s=0,u=!0;while(r)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,O(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{while(r){var l=r.chunk,c=r.encoding,f=r.callback,d=t.objectMode?1:l.length;if(O(e,t,!1,d,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function U(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function q(e,t){e._final((function(r){t.pendingcb--,r&&A(e,r),t.prefinished=!0,e.emit("prefinish"),V(e,t)}))}function G(e,r){r.prefinished||r.finalCalled||("function"!==typeof e._final||r.destroyed?(r.prefinished=!0,e.emit("prefinish")):(r.pendingcb++,r.finalCalled=!0,t.nextTick(q,e,r)))}function V(e,t){var r=U(t);if(r&&(G(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function H(e,r,n){r.ending=!0,V(e,r),n&&(r.finished?t.nextTick(n):e.once("finish",n)),r.ended=!0,e.writable=!1}function Y(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}n(/*! inherits */"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(C,s),I.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(I.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===C&&(e&&e._writableState instanceof I)}})):d=function(e){return e instanceof this},C.prototype.pipe=function(){A(this,new E)},C.prototype.write=function(e,t,r){var n=this._writableState,i=!1,a=!n.objectMode&&f(e);return a&&!u.isBuffer(e)&&(e=c(e)),"function"===typeof t&&(r=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!==typeof r&&(r=R),n.ending?D(this,r):(a||N(this,n,e,r))&&(n.pendingcb++,i=M(this,n,a,e,t,r)),i},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||B(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new y("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n=this._writableState;return"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||H(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=h.destroy,C.prototype._undestroy=h.undestroy,C.prototype._destroy=function(e,t){t(e)}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/async_iterator.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/async_iterator.js ***!
  \************************************************************************************************************/(e,r,n)=>{"use strict";var i;function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=n(/*! ./end-of-stream */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"),s=Symbol("lastResolve"),u=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(p(r,!1)))}}function m(e){t.nextTick(g,e)}function v(e,t){return function(r,n){e.then((function(){t[c]?r(p(void 0,!0)):t[d](r,n)}),n)}}var y=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((i={get stream(){return this[h]},next:function(){var e=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[l]?n(e[l]):r(p(void 0,!0))}))}));var n,i=this[f];if(i)n=new Promise(v(i,this));else{var a=this[h].read();if(null!==a)return Promise.resolve(p(a,!1));n=new Promise(this[d])}return this[f]=n,n}},a(i,Symbol.asyncIterator,(function(){return this})),a(i,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),i),y),E=function(e){var t,r=Object.create(b,(t={},a(t,h,{value:e,writable:!0}),a(t,s,{value:null,writable:!0}),a(t,u,{value:null,writable:!0}),a(t,l,{value:null,writable:!0}),a(t,c,{value:e._readableState.endEmitted,writable:!0}),a(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[u]=null,e(p(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),void(r[l]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[u]=null,n(p(void 0,!0))),r[c]=!0})),e.on("readable",m.bind(null,r)),r};e.exports=E},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/buffer_list.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/buffer_list.js ***!
  \*********************************************************************************************************/(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var l=r(/*! buffer */"./node_modules/buffer/index.js"),c=l.Buffer,f=r(/*! util */"?3e83"),d=f.inspect,h=d&&d.custom||"inspect";function p(e,t,r){c.prototype.copy.call(e,t,r)}e.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return u(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";var t=this.head,r=""+t.data;while(t=t.next)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);var t=c.allocUnsafe(e>>>0),r=this.head,n=0;while(r)p(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;e-=n.length;while(t=t.next){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),e-=a,0===e){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;r.data.copy(t),e-=r.data.length;while(r=r.next){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),e-=a,0===e){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:h,value:function(e,t){return d(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js ***!
  \*****************************************************************************************************/e=>{"use strict";function r(e,r){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(o,this,e)):t.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!r&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(i,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):r?(t.nextTick(i,a),r(e)):t.nextTick(i,a)})),this)}function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}function s(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}e.exports={destroy:r,undestroy:a,errorOrDestroy:s}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js ***!
  \***********************************************************************************************************/(e,t,r)=>{"use strict";var n=r(/*! ../../../errors */"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function a(){}function o(e){return e.setHeader&&"function"===typeof e.abort}function s(e,t,r){if("function"===typeof t)return s(e,null,t);t||(t={}),r=i(r||a);var u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,c=function(){e.writable||d()},f=e._writableState&&e._writableState.finished,d=function(){l=!1,f=!0,u||r.call(e)},h=e._readableState&&e._readableState.endEmitted,p=function(){u=!1,h=!0,l||r.call(e)},g=function(t){r.call(e,t)},m=function(){var t;return u&&!h?(e._readableState&&e._readableState.ended||(t=new n),r.call(e,t)):l&&!f?(e._writableState&&e._writableState.ended||(t=new n),r.call(e,t)):void 0},v=function(){e.req.on("finish",d)};return o(e)?(e.on("complete",d),e.on("abort",m),e.req?v():e.on("request",v)):l&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",g),e.on("close",m),function(){e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",d),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",m)}}e.exports=s},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/from-browser.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/from-browser.js ***!
  \**********************************************************************************************************/e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/pipeline.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/pipeline.js ***!
  \******************************************************************************************************/(e,t,r)=>{"use strict";var n;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var a=r(/*! ../../../errors */"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes,o=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function l(e){return e.setHeader&&"function"===typeof e.abort}function c(e,t,a,o){o=i(o);var u=!1;e.on("close",(function(){u=!0})),void 0===n&&(n=r(/*! ./end-of-stream */"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js")),n(e,{readable:t,writable:a},(function(e){if(e)return o(e);u=!0,o()}));var c=!1;return function(t){if(!u&&!c)return c=!0,l(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function f(e){e()}function d(e,t){return e.pipe(t)}function h(e){return e.length?"function"!==typeof e[e.length-1]?u:e.pop():u}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1,s=r>0;return c(e,o,s,(function(e){n||(n=e),e&&a.forEach(f),o||(a.forEach(f),i(n))}))}));return t.reduce(d)}e.exports=p},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js ***!
  \***************************************************************************************************/(e,t,r)=>{"use strict";var n=r(/*! ../../../errors */"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes.ERR_INVALID_OPT_VALUE;function i(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function a(e,t,r,a){var o=i(t,a,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0){var s=a?r:"highWaterMark";throw new n(s,o)}return Math.floor(o)}return e.objectMode?16:16384}e.exports={getHighWaterMark:a}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
  \************************************************************************************************************/(e,t,r)=>{e.exports=r(/*! events */"./node_modules/events/events.js").EventEmitter},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
  \***********************************************************/(e,t,r)=>{"use strict";var n=r(/*! safe-buffer */"./node_modules/safe-buffer/index.js").Buffer,i=n.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=a(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=p,this.end=g,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=m,this.end=v,t=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function u(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function l(e,t,r){var n=t.length-1;if(n<r)return 0;var i=u(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=u(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=u(t[n]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function c(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�"}}function f(e){var t=this.lastTotal-this.lastNeed,r=c(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function d(e,t){var r=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function p(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function m(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=h,s.prototype.text=d,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
  \****************************************************/function(e,t,r){var n;(function(i,a){"use strict";var o="1.0.2",s="",u="?",l="function",c="undefined",f="object",d="string",h="major",p="model",g="name",m="type",v="vendor",y="version",b="architecture",E="console",_="mobile",T="tablet",w="smarttv",S="wearable",A="embedded",R=255,I="Amazon",C="Apple",D="ASUS",N="BlackBerry",x="Browser",M="Chrome",O="Edge",P="Firefox",L="Google",k="Huawei",F="LG",j="Microsoft",B="Motorola",U="Opera",q="Samsung",G="Sony",V="Xiaomi",H="Zebra",Y="Facebook",z=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2===0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},K=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===d&&-1!==$(t).indexOf($(e))},$=function(e){return e.toLowerCase()},X=function(e){return typeof e===d?e.replace(/[^\d\.]/g,s).split(".")[0]:a},Q=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,s).replace(/\s\s*$/,s),typeof t===c?e:e.substring(0,R)},Z=function(e,t){var r,n,i,o,s,u,c=0;while(c<t.length&&!s){var d=t[c],h=t[c+1];r=n=0;while(r<d.length&&!s)if(s=d[r++].exec(e),s)for(i=0;i<h.length;i++)u=s[++n],o=h[i],typeof o===f&&o.length>0?2===o.length?typeof o[1]==l?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==l||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):a:this[o[0]]=u?o[1].call(this,u,o[2]):a:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):a):this[o]=u||a;c+=2}},J=function(e,t){for(var r in t)if(typeof t[r]===f&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(W(t[r][n],e))return r===u?a:r}else if(W(t[r],e))return r===u?a:r;return e},ee={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},re={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,y],[/opios[\/ ]+([\w\.]+)/i],[y,[g,U+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[g,U]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[g,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[g,"UC"+x]],[/\bqbcore\/([\w\.]+)/i],[y,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[g,"IE"]],[/yabrowser\/([\w\.]+)/i],[y,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+x],y],[/\bfocus\/([\w\.]+)/i],[y,[g,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[g,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[g,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[g,"MIUI "+x]],[/fxios\/([-\w\.]+)/i],[y,[g,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+x]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+x],y],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[g,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,Y],y],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[g,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[g,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[g,M+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,M+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[g,"Android "+x]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,y],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[y,[g,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[y,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[y,J,ee]],[/(webkit|khtml)\/([\w\.]+)/i],[g,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[g,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[g,y]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,$]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,s,$]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,$]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[v,q],[m,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[v,q],[m,_]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[v,C],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[v,C],[m,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[v,k],[m,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[p,[v,k],[m,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[v,V],[m,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[v,V],[m,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[v,"OPPO"],[m,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[v,"Vivo"],[m,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[v,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[v,B],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[v,B],[m,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[v,F],[m,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[v,F],[m,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[v,"Lenovo"],[m,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[v,"Nokia"],[m,_]],[/(pixel c)\b/i],[p,[v,L],[m,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[v,L],[m,_]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[v,G],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[v,G],[m,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[v,"OnePlus"],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[v,I],[m,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[v,I],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[p,v,[m,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[v,N],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[v,D],[m,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[v,D],[m,_]],[/(nexus 9)/i],[p,[v,"HTC"],[m,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[v,[p,/_/g," "],[m,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[v,"Acer"],[m,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[v,"Meizu"],[m,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[v,"Sharp"],[m,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,p,[m,_]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,p,[m,T]],[/(surface duo)/i],[p,[v,j],[m,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[v,"Fairphone"],[m,_]],[/(u304aa)/i],[p,[v,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[p,[v,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[p,[v,"RCA"],[m,T]],[/\b(venue[\d ]{2,7}) b/i],[p,[v,"Dell"],[m,T]],[/\b(q(?:mv|ta)\w+) b/i],[p,[v,"Verizon"],[m,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[v,"Barnes & Noble"],[m,T]],[/\b(tm\d{3}\w+) b/i],[p,[v,"NuVision"],[m,T]],[/\b(k88) b/i],[p,[v,"ZTE"],[m,T]],[/\b(nx\d{3}j) b/i],[p,[v,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[p,[v,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[p,[v,"Swiss"],[m,T]],[/\b((zeki)?tb.*\b) b/i],[p,[v,"Zeki"],[m,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],p,[m,T]],[/\b(ns-?\w{0,9}) b/i],[p,[v,"Insignia"],[m,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[v,"NextBook"],[m,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],p,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],p,[m,_]],[/\b(ph-1) /i],[p,[v,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[v,"Envizen"],[m,T]],[/\b(trio[-\w\. ]+) b/i],[p,[v,"MachSpeed"],[m,T]],[/\btu_(1491) b/i],[p,[v,"Rotor"],[m,T]],[/(shield[\w ]+) b/i],[p,[v,"Nvidia"],[m,T]],[/(sprint) (\w+)/i],[v,p,[m,_]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[v,j],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[v,H],[m,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[v,H],[m,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,p,[m,E]],[/droid.+; (shield) bui/i],[p,[v,"Nvidia"],[m,E]],[/(playstation [345portablevi]+)/i],[p,[v,G],[m,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[v,j],[m,E]],[/smart-tv.+(samsung)/i],[v,[m,w]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[v,q],[m,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,F],[m,w]],[/(apple) ?tv/i],[v,[p,C+" TV"],[m,w]],[/crkey/i],[[p,M+"cast"],[v,L],[m,w]],[/droid.+aft(\w)( bui|\))/i],[p,[v,I],[m,w]],[/\(dtv[\);].+(aquos)/i],[p,[v,"Sharp"],[m,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,Q],[p,Q],[m,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,w]],[/((pebble))app/i],[v,p,[m,S]],[/droid.+; (glass) \d/i],[p,[v,L],[m,S]],[/droid.+; (wt63?0{2,3})\)/i],[p,[v,H],[m,S]],[/(quest( 2)?)/i],[p,[v,Y],[m,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[m,A]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[m,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,T]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[m,_]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[g,O+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[g,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[g,[y,J,te]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,"Windows"],[y,J,te]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,"Mac OS"],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[y,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,y],[/\(bb(10);/i],[y,[g,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[g,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[g,"webOS"]],[/crkey\/([\d\.]+)/i],[y,[g,M+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[g,"Chromium OS"],y],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,y],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[g,y]]},ne=function(e,t){if(typeof e===f&&(t=e,e=a),!(this instanceof ne))return new ne(e,t).getResult();var r=e||(typeof i!==c&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:s),n=t?z(re,t):re;return this.getBrowser=function(){var e={};return e[g]=a,e[y]=a,Z.call(e,r,n.browser),e.major=X(e.version),e},this.getCPU=function(){var e={};return e[b]=a,Z.call(e,r,n.cpu),e},this.getDevice=function(){var e={};return e[v]=a,e[p]=a,e[m]=a,Z.call(e,r,n.device),e},this.getEngine=function(){var e={};return e[g]=a,e[y]=a,Z.call(e,r,n.engine),e},this.getOS=function(){var e={};return e[g]=a,e[y]=a,Z.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===d&&e.length>R?Q(e,R):e,this},this.setUA(r),this};ne.VERSION=o,ne.BROWSER=K([g,y,h]),ne.CPU=K([b]),ne.DEVICE=K([p,v,m,E,_,w,T,S,A]),ne.ENGINE=ne.OS=K([g,y]),typeof t!==c?("object"!==c&&e.exports&&(t=e.exports=ne),t.UAParser=ne):"function"===l&&r.amdO?(n=function(){return ne}.call(t,r,t,e),n===a||(e.exports=n)):typeof i!==c&&(i.UAParser=ne);var ie=typeof i!==c&&(i.jQuery||i.Zepto);if(ie&&!ie.ua){var ae=new ne;ie.ua=ae.getResult(),ie.ua.get=function(){return ae.getUA()},ie.ua.set=function(e){ae.setUA(e);var t=ae.getResult();for(var r in t)ie.ua[r]=t[r]}}})("object"===typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
  !*** ./node_modules/util-deprecate/browser.js ***!
  \************************************************/(e,t,r)=>{function n(e,t){if(i("noDeprecation"))return e;var r=!1;function n(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function i(e){try{if(!r.g.localStorage)return!1}catch(n){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=n},"?3e83":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/()=>{},"?19e6":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/()=>{},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
  \*********************************************************/e=>{"use strict";e.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
  \*******************************************************/e=>{"use strict";e.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
  \*****************************************************/e=>{"use strict";e.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
  \********************************************************/e=>{"use strict";e.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
  !*** ./node_modules/bcp-47/lib/normalize.json ***!
  \************************************************/e=>{"use strict";e.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
  !*** ./node_modules/bcp-47/lib/regular.json ***!
  \**********************************************/e=>{"use strict";e.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t].call(a.exports,a,a.exports,i),a.exports}(()=>{i.amdO={}})(),(()=>{i.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return i.d(t,{a:t}),t}})(),(()=>{i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})();var o={};return(()=>{"use strict";
/*!******************!*\
  !*** ./index.js ***!
  \******************/i.r(o),i.d(o,{Debug:()=>s["default"],MediaPlayer:()=>e.MediaPlayer,MediaPlayerFactory:()=>a["default"],MetricsReporting:()=>r["default"],Protection:()=>n["default"],default:()=>u,supportsMediaSource:()=>t.supportsMediaSource});var e=i(/*! ./index_mediaplayerOnly */"./index_mediaplayerOnly.js"),t=i(/*! ./src/streaming/utils/Capabilities */"./src/streaming/utils/Capabilities.js"),r=i(/*! ./src/streaming/metrics/MetricsReporting */"./src/streaming/metrics/MetricsReporting.js"),n=i(/*! ./src/streaming/protection/Protection */"./src/streaming/protection/Protection.js"),a=i(/*! ./src/streaming/MediaPlayerFactory */"./src/streaming/MediaPlayerFactory.js"),s=i(/*! ./src/core/Debug */"./src/core/Debug.js");dashjs.Protection=n["default"],dashjs.MetricsReporting=r["default"],dashjs.MediaPlayerFactory=a["default"],dashjs.Debug=s["default"],dashjs.supportsMediaSource=t.supportsMediaSource;const u=dashjs})(),o=o["default"],o})())}).call(this,r("4362"),r("b639").Buffer)},6547:function(e,t,r){var n=r("e330"),i=r("5926"),a=r("577e"),o=r("1d80"),s=n("".charAt),u=n("".charCodeAt),l=n("".slice),c=function(e){return function(t,r){var n,c,f=a(o(t)),d=i(r),h=f.length;return d<0||d>=h?e?"":void 0:(n=u(f,d),n<55296||n>56319||d+1===h||(c=u(f,d+1))<56320||c>57343?e?s(f,d):n:e?l(f,d,d+2):c-56320+(n-55296<<10)+65536)}};e.exports={codeAt:c(!1),charAt:c(!0)}},6566:function(e,t,r){"use strict";var n=r("9bf2").f,i=r("7c73"),a=r("e2cc"),o=r("0366"),s=r("19aa"),u=r("2266"),l=r("7dd0"),c=r("2626"),f=r("83ab"),d=r("f183").fastKey,h=r("69f3"),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,r,l){var c=e((function(e,n){s(e,h),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=n&&u(n,e[l],{that:e,AS_ENTRIES:r})})),h=c.prototype,m=g(t),v=function(e,t,r){var n,i,a=m(e),o=y(e,t);return o?o.value=r:(a.last=o={index:i=d(t,!0),key:t,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=o),n&&(n.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},y=function(e,t){var r,n=m(e),i=d(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return a(h,{clear:function(){var e=this,t=m(e),r=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,r=m(t),n=y(t,e);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),f?r.size--:t.size--}return!!n},forEach:function(e){var t,r=m(this),n=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:r.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),a(h,r?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),f&&n(h,"size",{get:function(){return m(this).size}}),c},setStrong:function(e,t,r){var n=t+" Iterator",i=g(t),a=g(n);l(e,t,(function(e,t){p(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),c(t)}}},"65f0":function(e,t,r){var n=r("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},"67d5":function(e,t,r){},"68ee":function(e,t,r){var n=r("e330"),i=r("d039"),a=r("1626"),o=r("f5df"),s=r("d066"),u=r("8925"),l=function(){},c=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=n(d.exec),p=!d.exec(l),g=function(e){if(!a(e))return!1;try{return f(l,c,e),!0}catch(t){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return p||!!h(d,u(e))};e.exports=!f||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},"69f3":function(e,t,r){var n,i,a,o=r("7f9a"),s=r("da84"),u=r("e330"),l=r("861d"),c=r("9112"),f=r("1a2d"),d=r("c6cd"),h=r("f772"),p=r("d012"),g="Object already initialized",m=s.TypeError,v=s.WeakMap,y=function(e){return a(e)?i(e):n(e,{})},b=function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}};if(o||d.state){var E=d.state||(d.state=new v),_=u(E.get),T=u(E.has),w=u(E.set);n=function(e,t){if(T(E,e))throw new m(g);return t.facade=e,w(E,e,t),t},i=function(e){return _(E,e)||{}},a=function(e){return T(E,e)}}else{var S=h("state");p[S]=!0,n=function(e,t){if(f(e,S))throw new m(g);return t.facade=e,c(e,S,t),t},i=function(e){return f(e,S)?e[S]:{}},a=function(e){return f(e,S)}}e.exports={set:n,get:i,has:a,enforce:y,getterFor:b}},"6b93":function(e,t,r){var n=r("23e7"),i=Math.log,a=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(e){return i(e)*a}})},"6d61":function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("e330"),o=r("94ca"),s=r("6eeb"),u=r("f183"),l=r("2266"),c=r("19aa"),f=r("1626"),d=r("861d"),h=r("d039"),p=r("1c7e"),g=r("d44e"),m=r("7156");e.exports=function(e,t,r){var v=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=v?"set":"add",E=i[e],_=E&&E.prototype,T=E,w={},S=function(e){var t=a(_[e]);s(_,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!d(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})},A=o(e,!f(E)||!(y||_.forEach&&!h((function(){(new E).entries().next()}))));if(A)T=r.getConstructor(t,e,v,b),u.enable();else if(o(e,!0)){var R=new T,I=R[b](y?{}:-0,1)!=R,C=h((function(){R.has(1)})),D=p((function(e){new E(e)})),N=!y&&h((function(){var e=new E,t=5;while(t--)e[b](t,t);return!e.has(-0)}));D||(T=t((function(e,t){c(e,_);var r=m(new E,e,T);return void 0!=t&&l(t,r[b],{that:r,AS_ENTRIES:v}),r})),T.prototype=_,_.constructor=T),(C||N)&&(S("delete"),S("has"),v&&S("get")),(N||I)&&S(b),y&&_.clear&&delete _.clear}return w[e]=T,n({global:!0,forced:T!=E},w),g(T,e),y||r.setStrong(T,e,v),T}},"6e6c":function(e){e.exports=JSON.parse('{"year":{"previous":"last year","current":"this year","next":"next year","past":{"one":"a year ago","other":"{0} years ago"},"future":{"one":"in a year","other":"in {0} years"}},"quarter":{"previous":"last quarter","current":"this quarter","next":"next quarter","past":{"one":"a quarter ago","other":"{0} quarters ago"},"future":{"one":"in a quarter","other":"in {0} quarters"}},"month":{"previous":"last month","current":"this month","next":"next month","past":{"one":"a month ago","other":"{0} months ago"},"future":{"one":"in a month","other":"in {0} months"}},"week":{"previous":"last week","current":"this week","next":"next week","past":{"one":"a week ago","other":"{0} weeks ago"},"future":{"one":"in a week","other":"in {0} weeks"}},"day":{"previous":"yesterday","current":"today","next":"tomorrow","past":{"one":"a day ago","other":"{0} days ago"},"future":{"one":"in a day","other":"in {0} days"}},"hour":{"current":"this hour","past":{"one":"an hour ago","other":"{0} hours ago"},"future":{"one":"in an hour","other":"in {0} hours"}},"minute":{"current":"this minute","past":{"one":"a minute ago","other":"{0} minutes ago"},"future":{"one":"in a minute","other":"in {0} minutes"}},"second":{"current":"now","past":{"one":"a second ago","other":"{0} seconds ago"},"future":{"one":"in a second","other":"in {0} seconds"}},"now":{"future":"in a moment","past":"just now"}}')},"6eeb":function(e,t,r){var n=r("da84"),i=r("1626"),a=r("1a2d"),o=r("9112"),s=r("ce4e"),u=r("8925"),l=r("69f3"),c=r("5e77").CONFIGURABLE,f=l.get,d=l.enforce,h=String(String).split("String");(e.exports=function(e,t,r,u){var l,f=!!u&&!!u.unsafe,p=!!u&&!!u.enumerable,g=!!u&&!!u.noTargetGet,m=u&&void 0!==u.name?u.name:t;i(r)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(r,"name")||c&&r.name!==m)&&o(r,"name",m),l=d(r),l.source||(l.source=h.join("string"==typeof m?m:""))),e!==n?(f?!g&&e[t]&&(p=!0):delete e[t],p?e[t]=r:o(e,t,r)):p?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||u(this)}))},7156:function(e,t,r){var n=r("1626"),i=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var o,s;return a&&n(o=t.constructor)&&o!==r&&i(s=o.prototype)&&s!==r.prototype&&a(e,s),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,r){var n=r("cc12"),i=n("span").classList,a=i&&i.constructor&&i.constructor.prototype;e.exports=a===Object.prototype?void 0:a},"7b0b":function(e,t,r){var n=r("da84"),i=r("1d80"),a=n.Object;e.exports=function(e){return a(i(e))}},"7c73":function(e,t,r){var n,i=r("825a"),a=r("37e8"),o=r("7839"),s=r("d012"),u=r("1be4"),l=r("cc12"),c=r("f772"),f=">",d="<",h="prototype",p="script",g=c("IE_PROTO"),m=function(){},v=function(e){return d+p+f+e+d+"/"+p+f},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=l("iframe"),r="java"+p+":";return t.style.display="none",u.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},E=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}E="undefined"!=typeof document?document.domain&&n?y(n):b():y(n);var e=o.length;while(e--)delete E[h][o[e]];return E()};s[g]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(m[h]=i(e),r=new m,m[h]=null,r[g]=e):r=E(),void 0===t?r:a(r,t)}},"7d1a":function(e,t,r){var n=r("85de");e.exports={locale:n.locale,long:n.long,short:n.short,narrow:n.narrow,"short-time":r("bbf1"),"short-convenient":r("f5bf"),"long-time":r("f829"),"long-convenient":r("6e6c"),tiny:r("16be"),quantify:n.quantify}},"7dd0":function(e,t,r){"use strict";var n=r("23e7"),i=r("c65b"),a=r("c430"),o=r("5e77"),s=r("1626"),u=r("9ed3"),l=r("e163"),c=r("d2bb"),f=r("d44e"),d=r("9112"),h=r("6eeb"),p=r("b622"),g=r("3f8c"),m=r("ae93"),v=o.PROPER,y=o.CONFIGURABLE,b=m.IteratorPrototype,E=m.BUGGY_SAFARI_ITERATORS,_=p("iterator"),T="keys",w="values",S="entries",A=function(){return this};e.exports=function(e,t,r,o,p,m,R){u(r,t,o);var I,C,D,N=function(e){if(e===p&&L)return L;if(!E&&e in O)return O[e];switch(e){case T:return function(){return new r(this,e)};case w:return function(){return new r(this,e)};case S:return function(){return new r(this,e)}}return function(){return new r(this)}},x=t+" Iterator",M=!1,O=e.prototype,P=O[_]||O["@@iterator"]||p&&O[p],L=!E&&P||N(p),k="Array"==t&&O.entries||P;if(k&&(I=l(k.call(new e)),I!==Object.prototype&&I.next&&(a||l(I)===b||(c?c(I,b):s(I[_])||h(I,_,A)),f(I,x,!0,!0),a&&(g[x]=A))),v&&p==w&&P&&P.name!==w&&(!a&&y?d(O,"name",w):(M=!0,L=function(){return i(P,this)})),p)if(C={values:N(w),keys:m?L:N(T),entries:N(S)},R)for(D in C)(E||M||!(D in O))&&h(O,D,C[D]);else n({target:t,proto:!0,forced:E||M},C);return a&&!R||O[_]===L||h(O,_,L,{name:p}),g[t]=L,C}},"7f9a":function(e,t,r){var n=r("da84"),i=r("1626"),a=r("8925"),o=n.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},"825a":function(e,t,r){var n=r("da84"),i=r("861d"),a=n.String,o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not an object")}},"83ab":function(e,t,r){var n=r("d039");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,r){"use strict";var n=r("a04b"),i=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},"85de":function(e,t,r){e.exports={locale:"en",long:r("d22b"),short:r("2323"),narrow:r("46be"),quantify:r("9536")}},"861d":function(e,t,r){var n=r("1626");e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},8875:function(e,t,r){var n,i,a;(function(r,o){i=[],n=o,a="function"===typeof n?n.apply(t,i):n,void 0===a||(e.exports=a)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var r,n,i,a=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,s=a.exec(h.stack)||o.exec(h.stack),u=s&&s[1]||!1,l=s&&s[2]||!1,c=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");u===c&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=r.replace(n,"$1").trim());for(var d=0;d<f.length;d++){if("interactive"===f[d].readyState)return f[d];if(f[d].src===u)return f[d];if(u===c&&f[d].innerHTML&&f[d].innerHTML.trim()===i)return f[d]}return null}}return e}))},8925:function(e,t,r){var n=r("e330"),i=r("1626"),a=r("c6cd"),o=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"90e3":function(e,t,r){var n=r("e330"),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},9112:function(e,t,r){var n=r("83ab"),i=r("9bf2"),a=r("5c6c");e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},9152:function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=l}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+h]=255&o,h+=p,o/=256,l-=8);e[r+h-p]|=128*g}},9263:function(e,t,r){"use strict";var n=r("c65b"),i=r("e330"),a=r("577e"),o=r("ad6d"),s=r("9f7f"),u=r("5692"),l=r("7c73"),c=r("69f3").get,f=r("fce3"),d=r("107c"),h=u("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,m=i("".charAt),v=i("".indexOf),y=i("".replace),b=i("".slice),E=function(){var e=/a/,t=/b*/g;return n(p,e,"a"),n(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_=s.UNSUPPORTED_Y||s.BROKEN_CARET,T=void 0!==/()??/.exec("")[1],w=E||T||_||f||d;w&&(g=function(e){var t,r,i,s,u,f,d,w=this,S=c(w),A=a(e),R=S.raw;if(R)return R.lastIndex=w.lastIndex,t=n(g,R,A),w.lastIndex=R.lastIndex,t;var I=S.groups,C=_&&w.sticky,D=n(o,w),N=w.source,x=0,M=A;if(C&&(D=y(D,"y",""),-1===v(D,"g")&&(D+="g"),M=b(A,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&"\n"!==m(A,w.lastIndex-1))&&(N="(?: "+N+")",M=" "+M,x++),r=new RegExp("^(?:"+N+")",D)),T&&(r=new RegExp("^"+N+"$(?!\\s)",D)),E&&(i=w.lastIndex),s=n(p,C?r:w,M),C?s?(s.input=b(s.input,x),s[0]=b(s[0],x),s.index=w.lastIndex,w.lastIndex+=s[0].length):w.lastIndex=0:E&&s&&(w.lastIndex=w.global?s.index+s[0].length:i),T&&s&&s.length>1&&n(h,s[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&I)for(s.groups=f=l(null),u=0;u<I.length;u++)d=I[u],f[d[0]]=s[d[1]];return s}),e.exports=g},"92d7":function(e,t,r){(function(e,n){var i;/*! https://mths.be/he v1.2.0 by @mathias | MIT license */(function(a){var o=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[\x01-\x7F]/g,c=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,f=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,d={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},h=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},g=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,y={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},b={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},E={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},_=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],T=String.fromCharCode,w={},S=w.hasOwnProperty,A=function(e,t){return S.call(e,t)},R=function(e,t){var r=-1,n=e.length;while(++r<n)if(e[r]==t)return!0;return!1},I=function(e,t){if(!e)return t;var r,n={};for(r in t)n[r]=A(e,r)?e[r]:t[r];return n},C=function(e,t){var r="";return e>=55296&&e<=57343||e>1114111?(t&&x("character reference outside the permissible Unicode range"),"�"):A(E,e)?(t&&x("disallowed character reference"),E[e]):(t&&R(_,e)&&x("disallowed character reference"),e>65535&&(e-=65536,r+=T(e>>>10&1023|55296),e=56320|1023&e),r+=T(e),r)},D=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},N=function(e){return"&#"+e+";"},x=function(e){throw Error("Parse error: "+e)},M=function(e,t){t=I(t,M.options);var r=t.strict;r&&m.test(e)&&x("forbidden code point");var n=t.encodeEverything,i=t.useNamedReferences,a=t.allowUnsafeSymbols,o=t.decimal?N:D,s=function(e){return o(e.charCodeAt(0))};return n?(e=e.replace(l,(function(e){return i&&A(d,e)?"&"+d[e]+";":s(e)})),i&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),i&&(e=e.replace(f,(function(e){return"&"+d[e]+";"})))):i?(a||(e=e.replace(h,(function(e){return"&"+d[e]+";"}))),e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),e=e.replace(f,(function(e){return"&"+d[e]+";"}))):a||(e=e.replace(h,s)),e.replace(u,(function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=1024*(t-55296)+r-56320+65536;return o(n)})).replace(c,s)};M.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var O=function(e,t){t=I(t,O.options);var r=t.strict;return r&&g.test(e)&&x("malformed character reference"),e.replace(v,(function(e,n,i,a,o,s,u,l,c){var f,d,h,p,g,m;return n?(g=n,y[g]):i?(g=i,m=a,m&&t.isAttributeValue?(r&&"="==m&&x("`&` did not start a character reference"),e):(r&&x("named character reference was not terminated by a semicolon"),b[g]+(m||""))):o?(h=o,d=s,r&&!d&&x("character reference was not terminated by a semicolon"),f=parseInt(h,10),C(f,r)):u?(p=u,d=l,r&&!d&&x("character reference was not terminated by a semicolon"),f=parseInt(p,16),C(f,r)):(r&&x("named character reference was not terminated by a semicolon"),e)}))};O.options={isAttributeValue:!1,strict:!1};var P=function(e){return e.replace(h,(function(e){return p[e]}))},L={version:"1.2.0",encode:M,decode:O,escape:P,unescape:O};i=function(){return L}.call(t,r,t,e),void 0===i||(e.exports=i)})()}).call(this,r("62e4")(e),r("c8ba"))},"94ca":function(e,t,r){var n=r("d039"),i=r("1626"),a=/#|\.prototype\./,o=function(e,t){var r=u[s(e)];return r==c||r!=l&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},9536:function(e,t){e.exports=function(e){var t=!String(e).split(".")[1];return 1==e&&t?"one":"other"}},"99af":function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("d039"),o=r("e8b5"),s=r("861d"),u=r("7b0b"),l=r("07fa"),c=r("8418"),f=r("65f0"),d=r("1dde"),h=r("b622"),p=r("2d00"),g=h("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",y=i.TypeError,b=p>=51||!a((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),E=d("concat"),_=function(e){if(!s(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)},T=!b||!E;n({target:"Array",proto:!0,forced:T},{concat:function(e){var t,r,n,i,a,o=u(this),s=f(o,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?o:arguments[t],_(a)){if(i=l(a),d+i>m)throw y(v);for(r=0;r<i;r++,d++)r in a&&c(s,d,a[r])}else{if(d>=m)throw y(v);c(s,d++,a)}return s.length=d,s}})},"9a1f":function(e,t,r){var n=r("da84"),i=r("c65b"),a=r("59ed"),o=r("825a"),s=r("0d51"),u=r("35a1"),l=n.TypeError;e.exports=function(e,t){var r=arguments.length<2?u(e):t;if(a(r))return o(i(r,e));throw l(s(e)+" is not iterable")}},"9bf2":function(e,t,r){var n=r("da84"),i=r("83ab"),a=r("0cfb"),o=r("825a"),s=r("a04b"),u=n.TypeError,l=Object.defineProperty;t.f=i?l:function(e,t,r){if(o(e),t=s(t),o(r),a)try{return l(e,t,r)}catch(n){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"9ed3":function(e,t,r){"use strict";var n=r("ae93").IteratorPrototype,i=r("7c73"),a=r("5c6c"),o=r("d44e"),s=r("3f8c"),u=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=i(n,{next:a(1,r)}),o(e,l,!1,!0),s[l]=u,e}},"9f7f":function(e,t,r){var n=r("d039"),i=r("da84"),a=i.RegExp;t.UNSUPPORTED_Y=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a04b:function(e,t,r){var n=r("c04e"),i=r("d9b5");e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},a15b:function(e,t,r){"use strict";var n=r("23e7"),i=r("e330"),a=r("44ad"),o=r("fc6a"),s=r("a640"),u=i([].join),l=a!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(e){return u(o(this),void 0===e?",":e)}})},a302:function(e,t,r){"use strict";var n=r("67d5"),i=r.n(n);i.a},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,r){"use strict";var n=r("83ab"),i=r("da84"),a=r("e330"),o=r("94ca"),s=r("6eeb"),u=r("1a2d"),l=r("7156"),c=r("3a9b"),f=r("d9b5"),d=r("c04e"),h=r("d039"),p=r("241c").f,g=r("06cf").f,m=r("9bf2").f,v=r("408a"),y=r("58a8").trim,b="Number",E=i[b],_=E.prototype,T=i.TypeError,w=a("".slice),S=a("".charCodeAt),A=function(e){var t=d(e,"number");return"bigint"==typeof t?t:R(t)},R=function(e){var t,r,n,i,a,o,s,u,l=d(e,"number");if(f(l))throw T("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=y(l),t=S(l,0),43===t||45===t){if(r=S(l,2),88===r||120===r)return NaN}else if(48===t){switch(S(l,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(a=w(l,2),o=a.length,s=0;s<o;s++)if(u=S(a,s),u<48||u>i)return NaN;return parseInt(a,n)}return+l};if(o(b,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var I,C=function(e){var t=arguments.length<1?0:E(A(e)),r=this;return c(_,r)&&h((function(){v(r)}))?l(Object(t),r,C):t},D=n?p(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;D.length>N;N++)u(E,I=D[N])&&!u(C,I)&&m(C,I,g(E,I));C.prototype=_,_.constructor=C,s(i,b,C)}},abdc:function(e,t,r){"use strict";var n=r("0822"),i=r.n(n);i.a},ac1f:function(e,t,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},addb:function(e,t,r){var n=r("f36a"),i=Math.floor,a=function(e,t){var r=e.length,u=i(r/2);return r<8?o(e,t):s(e,a(n(e,0,u),t),a(n(e,u),t),t)},o=function(e,t){var r,n,i=e.length,a=1;while(a<i){n=a,r=e[a];while(n&&t(e[n-1],r)>0)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},s=function(e,t,r,n){var i=t.length,a=r.length,o=0,s=0;while(o<i||s<a)e[o+s]=o<i&&s<a?n(t[o],r[s])<=0?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e};e.exports=a},ae93:function(e,t,r){"use strict";var n,i,a,o=r("d039"),s=r("1626"),u=r("7c73"),l=r("e163"),c=r("6eeb"),f=r("b622"),d=r("c430"),h=f("iterator"),p=!1;[].keys&&(a=[].keys(),"next"in a?(i=l(l(a)),i!==Object.prototype&&(n=i)):p=!0);var g=void 0==n||o((function(){var e={};return n[h].call(e)!==e}));g?n={}:d&&(n=u(n)),s(n[h])||c(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},b041:function(e,t,r){"use strict";var n=r("00ee"),i=r("f5df");e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,r){var n=r("83ab"),i=r("5e77").EXISTS,a=r("e330"),o=r("9bf2").f,s=Function.prototype,u=a(s.toString),l=/^\s*function ([^ (]*)/,c=a(l.exec),f="name";n&&!i&&o(s,f,{configurable:!0,get:function(){try{return c(l,u(this))[1]}catch(e){return""}}})},b622:function(e,t,r){var n=r("da84"),i=r("5692"),a=r("1a2d"),o=r("90e3"),s=r("4930"),u=r("fdbf"),l=i("wks"),c=n.Symbol,f=c&&c["for"],d=u?c:c&&c.withoutSetter||o;e.exports=function(e){if(!a(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&a(c,e)?l[e]=c[e]:l[e]=u&&f?f(t):d(t)}return l[e]}},b639:function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r("1fb5"),i=r("9152"),a=r("e3db");function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=l.prototype):(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,r,n):"string"===typeof t?p(e,t,r):v(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t,r,n){return f(t),t<=0?u(e,t):void 0!==r?"string"===typeof n?u(e,t).fill(r,n):u(e,t).fill(r):u(e,t)}function h(e,t){if(f(t),e=u(e,t<0?0:0|y(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t,r){if("string"===typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|E(t,r);e=u(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function g(e,t){var r=t.length<0?0:0|y(t.length);e=u(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function m(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),l.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=l.prototype):e=g(e,t),e}function v(e,t){if(l.isBuffer(t)){var r=0|y(t.length);return e=u(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?u(e,0):g(e,t);if("Buffer"===t.type&&a(t.data))return g(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),l.alloc(+e)}function E(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(e).length;default:if(n)return X(e).length;t=(""+t).toLowerCase(),n=!0}}function _(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return F(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return L(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function T(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:S(e,t,r,n,i);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):S(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,d=0;d<u;d++)if(l(e,a+d)!==l(t,d)){f=!1;break}if(f)return a}return-1}function A(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function R(e,t,r,n){return ee(X(t,e.length-r),e,r,n)}function I(e,t,r,n){return ee(Q(t),e,r,n)}function C(e,t,r,n){return I(e,t,r,n)}function D(e,t,r,n){return ee(J(t),e,r,n)}function N(e,t,r,n){return ee(Z(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function M(e,t,r){r=Math.min(e.length,r);var n=[],i=t;while(i<r){var a,o,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:a=e[i+1],128===(192&a)&&(u=(31&l)<<6|63&a,u>127&&(c=u));break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o,u>2047&&(u<55296||u>57343)&&(c=u));break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s,u>65535&&u<1114112&&(c=u))}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return P(n)}t.Buffer=l,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return d(null,e,t,r)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=E,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)T(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)T(this,t,t+3),T(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)T(this,t,t+7),T(this,t+1,t+6),T(this,t+2,t+5),T(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):_.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,o=r-t,s=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),f=0;f<s;++f)if(u[f]!==c[f]){a=u[f],o=c[f];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return R(this,e,t,r);case"ascii":return I(this,e,t,r);case"latin1":case"binary":return C(this,e,t,r);case"base64":return D(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function P(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var r="",n=0;while(n<t)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function F(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=$(e[a]);return i}function j(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function B(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function q(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function G(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function V(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(e,t,r,n,a){return a||V(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function Y(e,t,r,n,a){return a||V(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);var n=this[e],i=1,a=0;while(++a<t&&(i*=256))n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);var n=this[e+--t],i=1;while(t>0&&(i*=256))n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);var n=this[e],i=1,a=0;while(++a<t&&(i*=256))n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);var n=t,i=1,a=this[e+--n];while(n>0&&(i*=256))a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;U(this,e,t,r,i,0)}var a=1,o=0;this[t]=255&e;while(++o<r&&(a*=256))this[t+o]=e/a&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;U(this,e,t,r,i,0)}var a=r-1,o=1;this[t+a]=255&e;while(--a>=0&&(o*=256))this[t+a]=e/o&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):G(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;this[t]=255&e;while(++a<r&&(o*=256))e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;this[t+a]=255&e;while(--a>=0&&(o*=256))e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return H(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return H(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return Y(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return Y(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},l.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:X(new l(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function K(e){if(e=W(e).replace(z,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Q(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function Z(e,t){for(var r,n,i,a=[],o=0;o<e.length;++o){if((t-=2)<0)break;r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n)}return a}function J(e){return n.toByteArray(K(e))}function ee(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function te(e){return e!==e}}).call(this,r("c8ba"))},b680:function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("e330"),o=r("5926"),s=r("408a"),u=r("1148"),l=r("d039"),c=i.RangeError,f=i.String,d=Math.floor,h=a(u),p=a("".slice),g=a(1..toFixed),m=function(e,t,r){return 0===t?r:t%2===1?m(e,t-1,r*e):m(e*e,t/2,r)},v=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},y=function(e,t,r){var n=-1,i=r;while(++n<6)i+=t*e[n],e[n]=i%1e7,i=d(i/1e7)},b=function(e,t){var r=6,n=0;while(--r>=0)n+=e[r],e[r]=d(n/t),n=n%t*1e7},E=function(e){var t=6,r="";while(--t>=0)if(""!==r||0===t||0!==e[t]){var n=f(e[t]);r=""===r?n:r+h("0",7-n.length)+n}return r},_=l((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!l((function(){g({})}));n({target:"Number",proto:!0,forced:_},{toFixed:function(e){var t,r,n,i,a=s(this),u=o(e),l=[0,0,0,0,0,0],d="",g="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return f(a);if(a<0&&(d="-",a=-a),a>1e-21)if(t=v(a*m(2,69,1))-69,r=t<0?a*m(2,-t,1):a/m(2,t,1),r*=4503599627370496,t=52-t,t>0){y(l,0,r),n=u;while(n>=7)y(l,1e7,0),n-=7;y(l,m(10,n,1),0),n=t-1;while(n>=23)b(l,1<<23),n-=23;b(l,1<<n),y(l,1,1),b(l,2),g=E(l)}else y(l,0,r),y(l,1<<-t,0),g=E(l)+h("0",u);return u>0?(i=g.length,g=d+(i<=u?"0."+h("0",u-i)+g:p(g,0,i-u)+"."+p(g,i-u))):g=d+g,g}})},b727:function(e,t,r){var n=r("0366"),i=r("e330"),a=r("44ad"),o=r("7b0b"),s=r("07fa"),u=r("65f0"),l=i([].push),c=function(e){var t=1==e,r=2==e,i=3==e,c=4==e,f=6==e,d=7==e,h=5==e||f;return function(p,g,m,v){for(var y,b,E=o(p),_=a(E),T=n(g,m),w=s(_),S=0,A=v||u,R=t?A(p,w):r||d?A(p,0):void 0;w>S;S++)if((h||S in _)&&(y=_[S],b=T(y,S,E),e))if(t)R[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:l(R,y)}else switch(e){case 4:return!1;case 7:l(R,y)}return f?-1:i||c?c:R}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},bb2f:function(e,t,r){var n=r("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bbf1:function(e){e.exports=JSON.parse('{"year":"{0} yr.","month":"{0} mo.","week":"{0} wk.","day":{"one":"{0} day","other":"{0} days"},"hour":"{0} hr.","minute":"{0} min.","second":"{0} sec.","now":"now"}')},c04e:function(e,t,r){var n=r("da84"),i=r("c65b"),a=r("861d"),o=r("d9b5"),s=r("dc4a"),u=r("485a"),l=r("b622"),c=n.TypeError,f=l("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var r,n=s(e,f);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!a(r)||o(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},c430:function(e,t){e.exports=!1},c65b:function(e,t){var r=Function.prototype.call;e.exports=r.bind?r.bind(r):function(){return r.apply(r,arguments)}},c6b6:function(e,t,r){var n=r("e330"),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},c6cd:function(e,t,r){var n=r("da84"),i=r("ce4e"),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},c740:function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").findIndex,a=r("44d2"),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},c8d2:function(e,t,r){var n=r("5e77").PROPER,i=r("d039"),a=r("5899"),o="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||o[e]()!==o||n&&a[e].name!==e}))}},ca84:function(e,t,r){var n=r("e330"),i=r("1a2d"),a=r("fc6a"),o=r("4d64").indexOf,s=r("d012"),u=n([].push);e.exports=function(e,t){var r,n=a(e),l=0,c=[];for(r in n)!i(s,r)&&i(n,r)&&u(c,r);while(t.length>l)i(n,r=t[l++])&&(~o(c,r)||u(c,r));return c}},cc12:function(e,t,r){var n=r("da84"),i=r("861d"),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},ce4e:function(e,t,r){var n=r("da84"),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,r){var n=r("da84"),i=r("1626"),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e]):n[e]&&n[e][t]}},d1e7:function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},d22b:function(e){e.exports=JSON.parse('{"year":{"previous":"last year","current":"this year","next":"next year","past":{"one":"{0} year ago","other":"{0} years ago"},"future":{"one":"in {0} year","other":"in {0} years"}},"quarter":{"previous":"last quarter","current":"this quarter","next":"next quarter","past":{"one":"{0} quarter ago","other":"{0} quarters ago"},"future":{"one":"in {0} quarter","other":"in {0} quarters"}},"month":{"previous":"last month","current":"this month","next":"next month","past":{"one":"{0} month ago","other":"{0} months ago"},"future":{"one":"in {0} month","other":"in {0} months"}},"week":{"previous":"last week","current":"this week","next":"next week","past":{"one":"{0} week ago","other":"{0} weeks ago"},"future":{"one":"in {0} week","other":"in {0} weeks"}},"day":{"previous":"yesterday","current":"today","next":"tomorrow","past":{"one":"{0} day ago","other":"{0} days ago"},"future":{"one":"in {0} day","other":"in {0} days"}},"hour":{"current":"this hour","past":{"one":"{0} hour ago","other":"{0} hours ago"},"future":{"one":"in {0} hour","other":"in {0} hours"}},"minute":{"current":"this minute","past":{"one":"{0} minute ago","other":"{0} minutes ago"},"future":{"one":"in {0} minute","other":"in {0} minutes"}},"second":{"current":"now","past":{"one":"{0} second ago","other":"{0} seconds ago"},"future":{"one":"in {0} second","other":"in {0} seconds"}}}')},d2bb:function(e,t,r){var n=r("e330"),i=r("825a"),a=r("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(r,[]),t=r instanceof Array}catch(o){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},d2df:function(e,t,r){"use strict";var n=r("f025"),i=r.n(n);i.a},d3b7:function(e,t,r){var n=r("00ee"),i=r("6eeb"),a=r("b041");n||i(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(e,t,r){var n=r("9bf2").f,i=r("1a2d"),a=r("b622"),o=a("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},d784:function(e,t,r){"use strict";r("ac1f");var n=r("e330"),i=r("6eeb"),a=r("9263"),o=r("d039"),s=r("b622"),u=r("9112"),l=s("species"),c=RegExp.prototype;e.exports=function(e,t,r,f){var d=s(e),h=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=h&&!o((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!h||!p||r){var g=n(/./[d]),m=t(d,""[e],(function(e,t,r,i,o){var s=n(e),u=t.exec;return u===a||u===c.exec?h&&!o?{done:!0,value:g(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(c,d,m[1])}f&&u(c[d],"sham",!0)}},d81d:function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").map,a=r("1dde"),o=a("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d90e:function(e,t,r){"use strict";var n=r("3778"),i=r.n(n);i.a},d998:function(e,t,r){var n=r("342f");e.exports=/MSIE|Trident/.test(n)},d9b5:function(e,t,r){var n=r("da84"),i=r("d066"),a=r("1626"),o=r("3a9b"),s=r("fdbf"),u=n.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return a(t)&&o(t.prototype,u(e))}},da84:function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r("c8ba"))},dc4a:function(e,t,r){var n=r("59ed");e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},dca8:function(e,t,r){var n=r("23e7"),i=r("bb2f"),a=r("d039"),o=r("861d"),s=r("f183").onFreeze,u=Object.freeze,l=a((function(){u(1)}));n({target:"Object",stat:!0,forced:l,sham:!i},{freeze:function(e){return u&&o(e)?u(s(e)):e}})},ddb0:function(e,t,r){var n=r("da84"),i=r("fdbc"),a=r("785a"),o=r("e260"),s=r("9112"),u=r("b622"),l=u("iterator"),c=u("toStringTag"),f=o.values,d=function(e,t){if(e){if(e[l]!==f)try{s(e,l,f)}catch(n){e[l]=f}if(e[c]||s(e,c,t),i[t])for(var r in o)if(e[r]!==o[r])try{s(e,r,o[r])}catch(n){e[r]=o[r]}}};for(var h in i)d(n[h]&&n[h].prototype,h);d(a,"DOMTokenList")},df75:function(e,t,r){var n=r("ca84"),i=r("7839");e.exports=Object.keys||function(e){return n(e,i)}},df7c:function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,n="/"===o.charAt(0))}return t=r(i(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),o="/"===a(e,-1);return e=r(i(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&o&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),a=n(r.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return l=l.concat(a.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===n&&(i=!1,n=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){r=o+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("4362"))},e163:function(e,t,r){var n=r("da84"),i=r("1a2d"),a=r("1626"),o=r("7b0b"),s=r("f772"),u=r("e177"),l=s("IE_PROTO"),c=n.Object,f=c.prototype;e.exports=u?c.getPrototypeOf:function(e){var t=o(e);if(i(t,l))return t[l];var r=t.constructor;return a(r)&&t instanceof r?r.prototype:t instanceof c?f:null}},e177:function(e,t,r){var n=r("d039");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,r){"use strict";var n=r("fc6a"),i=r("44d2"),a=r("3f8c"),o=r("69f3"),s=r("7dd0"),u="Array Iterator",l=o.set,c=o.getterFor(u);e.exports=s(Array,"Array",(function(e,t){l(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,r){var n=r("6eeb");e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},e330:function(e,t){var r=Function.prototype,n=r.bind,i=r.call,a=n&&n.bind(i);e.exports=n?function(e){return e&&a(i,e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},e3db:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},e893:function(e,t,r){var n=r("1a2d"),i=r("56ef"),a=r("06cf"),o=r("9bf2");e.exports=function(e,t){for(var r=i(t),s=o.f,u=a.f,l=0;l<r.length;l++){var c=r[l];n(e,c)||s(e,c,u(t,c))}}},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},e95a:function(e,t,r){var n=r("b622"),i=r("3f8c"),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},ebb3:function(e,t,r){"use strict";var n=r("f928"),i=r.n(n);i.a},f025:function(e,t,r){},f183:function(e,t,r){var n=r("23e7"),i=r("e330"),a=r("d012"),o=r("861d"),s=r("1a2d"),u=r("9bf2").f,l=r("241c"),c=r("057f"),f=r("90e3"),d=r("bb2f"),h=!1,p=f("meta"),g=0,m=Object.isExtensible||function(){return!0},v=function(e){u(e,p,{value:{objectID:"O"+g++,weakData:{}}})},y=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,p)){if(!m(e))return"F";if(!t)return"E";v(e)}return e[p].objectID},b=function(e,t){if(!s(e,p)){if(!m(e))return!0;if(!t)return!1;v(e)}return e[p].weakData},E=function(e){return d&&h&&m(e)&&!s(e,p)&&v(e),e},_=function(){T.enable=function(){},h=!0;var e=l.f,t=i([].splice),r={};r[p]=1,e(r).length&&(l.f=function(r){for(var n=e(r),i=0,a=n.length;i<a;i++)if(n[i]===p){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},T=e.exports={enable:_,fastKey:y,getWeakData:b,onFreeze:E};a[p]=!0},f36a:function(e,t,r){var n=r("e330");e.exports=n([].slice)},f5bf:function(e){e.exports=JSON.parse('{"year":{"previous":"last yr.","current":"this yr.","next":"next yr.","past":"{0} yr. ago","future":"in {0} yr."},"quarter":{"previous":"last qtr.","current":"this qtr.","next":"next qtr.","past":{"one":"{0} qtr. ago","other":"{0} qtrs. ago"},"future":{"one":"in {0} qtr.","other":"in {0} qtrs."}},"month":{"previous":"last mo.","current":"this mo.","next":"next mo.","past":"{0} mo. ago","future":"in {0} mo."},"week":{"previous":"last wk.","current":"this wk.","next":"next wk.","past":"{0} wk. ago","future":"in {0} wk."},"day":{"previous":"yesterday","current":"today","next":"tomorrow","past":{"one":"{0} day ago","other":"{0} days ago"},"future":{"one":"in {0} day","other":"in {0} days"}},"hour":{"current":"this hour","past":"{0} hr. ago","future":"in {0} hr."},"minute":{"current":"this minute","past":"{0} min. ago","future":"in {0} min."},"second":{"current":"now","past":"{0} sec. ago","future":"in {0} sec."},"now":{"future":"in a moment","past":"just now"}}')},f5df:function(e,t,r){var n=r("da84"),i=r("00ee"),a=r("1626"),o=r("c6b6"),s=r("b622"),u=s("toStringTag"),l=n.Object,c="Arguments"==o(function(){return arguments}()),f=function(e,t){try{return e[t]}catch(r){}};e.exports=i?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=f(t=l(e),u))?r:c?o(t):"Object"==(n=o(t))&&a(t.callee)?"Arguments":n}},f772:function(e,t,r){var n=r("5692"),i=r("90e3"),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},f829:function(e){e.exports=JSON.parse('{"year":{"one":"{0} year","other":"{0} years"},"month":{"one":"{0} month","other":"{0} months"},"week":{"one":"{0} week","other":"{0} weeks"},"day":{"one":"{0} day","other":"{0} days"},"hour":{"one":"{0} hour","other":"{0} hours"},"minute":{"one":"{0} minute","other":"{0} minutes"},"second":{"one":"{0} second","other":"{0} seconds"},"now":{"future":"in a moment","past":"just now"}}')},f928:function(e,t,r){},fb15:function(e,t,r){"use strict";if(r.r(t),"undefined"!==typeof window){var n=window.document.currentScript,i=r("8875");n=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var a=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(r.p=a[1])}var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"subreddit"},[r("div",{staticClass:"background-area"},[r("a",{attrs:{href:e.subLink,target:"_blank"}},[r("div",{staticClass:"background-image",style:e.backgroundStyle})]),r("div",{staticClass:"background-content"},[r("a",{staticClass:"background-reddit-icon",attrs:{href:e.subLink,target:"_blank"}},[e.hasIcon?r("img",{staticClass:"community-icon",attrs:{src:e.image.icon}}):e._e(),e.newSubredditLoading||e.hasIcon?e._e():r("svg",{staticClass:"community-icon",attrs:{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"}})])]),e.newSubredditLoading||e.showAgeWarning?e._e():r("div",{staticClass:"titles"},[r("h2",{attrs:{title:e.title}},[e._v(e._s(e.title))]),e.about?r("span",{staticClass:"subscribers"},[e._v(" "+e._s(e.subscribersCount)+" members; "+e._s(e.activeCount)+" online")]):e._e(),r("h3",{domProps:{innerHTML:e._s(e.description)}})]),e.loading?e._e():e._t("after-title")],2)]),e.canShowPosts?r("div",{staticClass:"controls"},[r("span",{staticClass:"sort-label"},[e._v("Sort posts by:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSortOption,expression:"selectedSortOption"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSortOption=t.target.multiple?r:r[0]}}},e._l(e.sortOptions,(function(t,n){return r("option",{key:n,domProps:{value:t.value}},[e._v(e._s(t.display))])})),0),e.canChooseTime?r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTimeFilter,expression:"selectedTimeFilter"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedTimeFilter=t.target.multiple?r:r[0]}}},e._l(e.timeFilterOptions,(function(t,n){return r("option",{key:n,domProps:{value:t.value}},[e._v(e._s(t.display))])})),0):e._e()]):e._e(),e.loading?r("div",{staticClass:"loading"},[e._v("Loading...")]):e._e(),e.showAgeWarning?r("div",{staticClass:"age-warning"},[r("h2",[e._v("You must be 18+ to view this community")]),r("p",[e._v(" You must be at least eighteen years old to view this content. Are you over eighteen and willing to see adult content? ")]),r("a",{attrs:{href:"https://www.reddit.com/",target:"_blank"},on:{click:e.declineAge}},[e._v("No")]),r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.confirmAge(t)}}},[e._v("Yes")])]):e._e(),e.canShowPosts?r("div",{staticClass:"details-container"},e._l(e.posts,(function(e){return r("post",{key:e.id,attrs:{vm:e}})})),1):e._e(),!e.loading&&e.error?r("div",{staticClass:"error"},[r("h3",[e._v("Cannot read /r/"+e._s(e.name))]),r("p",[e._v("Things to try and check:")]),r("ul",[r("li",[e._v("Do you have a network connection?")]),e.isFirefox?r("li",[e._v(" If you are using Firefox in private mode - disable "),r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Privacy/Tracking_Protection",target:"_blank"}},[e._v("tracking protection")]),e._v(". ")]):e._e(),r("li",[e._v("If you are using an ad blocker (uBlock, AdBlock, etc.) - pause it and see if it helps.")]),e._m(0)]),r("p",[e._v("Error code:")]),r("pre",[e._v(e._s(e.error))]),r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.reloadAll(t)}}},[e._v("Click to retry...")])]):e._e()])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",[e._v("If you still see an issue - "),r("a",{attrs:{href:"https://twitter.com/anvaka"}},[e._v("ping me")]),e._v(".")])}];r("c740"),r("a9e3"),r("b0c0"),r("ac1f"),r("1276"),r("99af"),r("4e82"),r("466d"),r("d81d"),r("fb6a"),r("dca8"),r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("498a"),r("a15b"),r("159b");function u(e,t){return t||(t={}),new Promise(r);function r(r,n){var i=new XMLHttpRequest;function a(e){e.lengthComputable&&t.progress({loaded:e.loaded,total:e.total,percent:e.loaded/e.total})}function o(){if(200!==i.status)return 404===i.status&&i.response&&"banned"===i.response.reason?void n("This community has been banned"):void n("Unexpected status code ".concat(i.status," when calling ").concat(e));var a=i.response;"json"===t.responseType&&"string"===typeof a&&(a=JSON.parse(a)),r(a)}function s(){n("Failed to download ".concat(e))}function u(){n("Cancelled download of ".concat(e))}"function"===typeof t.progress&&i.addEventListener("progress",a,!1),i.addEventListener("load",o,!1),i.addEventListener("error",s,!1),i.addEventListener("abort",u,!1),i.open("GET",e),t.responseType&&(i.responseType=t.responseType),i.send(null)}}function l(){var e="https://www.reddit.com/r/",t=new Map,r=new Map;return{fetchPosts:a,fetchAbout:n};function n(e){var t=i(e)[0];return a(t,"about")}function i(e){return e.split("+").map((function(e){return e.trim()}))}function a(n,a,s){var l,c=i(n).join("+"),f="".concat(c,"/").concat(a,".json");s&&(f+="?t="+s);var d=t.get(f);return d?l=Promise.resolve(d):r.has(f)?l=new Promise((function(e,t){r.get(f).resolvers.push({resolve:e,reject:t})})):r.set(f,{resolvers:[]}),l||(l=u("".concat(e).concat(f),{responseType:"json"}).then((function(e){var n={error:null,result:e};return t.set(f,n),o(f,!0,n),r.delete(f),n})).catch((function(e){var t={error:e,result:null};return o(f,!1,t),r.delete(f),t}))),l}function o(e,t,n){var i=r.get(e).resolvers;i&&i.forEach((function(e){return t?e.resolve(n):e.reject(n)}))}}r("6b93"),r("b680");function c(e){if(e<1e3)return e;var t=Math.floor(Math.floor(Math.log10(e))/3),r=Math.pow(1e3,t),n=["","k","m","b","t"],i=e/r;return i%1&&(i=i.toFixed(1)),i+n[t]}var f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"post"},[e.vm.scrollTracker?r("div",[r("scroll-tracker",{attrs:{vm:e.vm}})],1):r("a",{staticClass:"post-content",attrs:{href:e.permalink,target:"_blank"}},[r("div",{staticClass:"byline"},[e._v("Posted by "),r("a",{attrs:{href:e.authorLink,target:"_blank"}},[e._v("/u/"+e._s(e.vm.author))]),e._v(" "+e._s(e.postedTime)+" in "),r("a",{attrs:{href:e.subredditLink}},[e._v(e._s(e.vm.subreddit))])]),r("div",{staticClass:"title"},[e._v(e._s(e.decodedTitle))]),r(e.cardViewer,{tag:"component",attrs:{vm:e.vm}}),r("div",{staticClass:"status-line"},[r("div",{staticClass:"vote-count small"},[e._v(e._s(e.prettyScore))]),r("a",{staticClass:"comments-count",attrs:{href:e.permalink,target:"_blank"}},[e._v(e._s(e.commentsCount))])])],1)])},d=[],h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"url",attrs:{href:e.decodedURL,target:"_blank"}},[e._v(e._s(e.vm.url))])},p=[],g=(r("5319"),{name:"LinkViewer",props:["vm"],computed:{decodedURL:function(){return this.vm.url.replace(/&amp;/g,"&")}}}),m=g;function v(e,t,r,n,i,a,o,s){var u,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=u):i&&(u=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(e,t){return u.call(t),c(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:l}}var y=v(m,h,p,!1,null,null,null),b=y.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("img",{staticClass:"image-preview",attrs:{src:e.vm.url}})},_=[],T={name:"ImageViewer",props:["vm"]},w=T,S=v(w,E,_,!1,null,null,null),A=S.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"self-container"},[r("div",{domProps:{innerHTML:e._s(e.decodedHtml)}}),r("div",{staticClass:"read-more"})])},I=[],C=r("92d7"),D={name:"SelfViewer",props:["vm"],computed:{decodedHtml:function(){var e=this.vm.selftext_html;return e?C.decode(e):""}}},N=D,x=(r("d2df"),v(N,R,I,!1,null,null,null)),M=x.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a",{staticClass:"url",attrs:{href:e.vm.url,target:"_blank"}},[e._v(e._s(e.vm.url))]),r("div",{staticClass:"iframe-parent",domProps:{innerHTML:e._s(e.getDecodedMediaFrame())}})])},P=[],L=r("92d7"),k={name:"MediaViewer",props:["vm"],data:function(){return{isVisible:!1,embedded:!1,decoded:null}},methods:{getDecodedMediaFrame:function(){return this.decoded||(this.decoded=L.decode(this.vm.media_embed.content).replace(/position:absolute;/,"")),this.decoded}}},F=k,j=(r("abdc"),v(F,O,P,!1,null,null,null)),B=j.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},q=[],G={name:"LinkViewer",props:["vm"],mounted:function(){this.intersectionObserver=new IntersectionObserver(this.onElementVisible,{root:this.vm.list.$el}),this.intersectionObserver.observe(this.$el)},beforeDestroy:function(){this.intersectionObserver.disconnect()},methods:{onElementVisible:function(e){e[0].isIntersecting&&this.vm.loadTheRest()}}},V=G,H=v(V,U,q,!1,null,null,null),Y=H.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("video",{ref:"video",staticClass:"reddit-video",attrs:{controls:""}},[r("source",{attrs:{src:e.dash,type:"application/dash+xml"}}),r("source",{attrs:{src:e.fallback,type:"video/mp4"}})])},K=[],W=r("62f8"),$=r.n(W),X={name:"RedditVideoViewer",props:["vm"],computed:{dash:function(){return this.getVideoSource().dash_url},fallback:function(){return this.getVideoSource().fallback_url},audio:function(){var e=this.getVideoSource().fallback_url,t=e.replace(/\/DASH_\d+\.mp4/,"\\DASH_audio.mp4");return t}},mounted:function(){var e=this.dash,t=$.a.MediaPlayer().create();t.initialize(this.$refs.video,e,!1)},methods:{getVideoSource:function(){return this.vm.media?this.vm.media.reddit_video:this.vm.preview.reddit_video_preview}}},Q=X,Z=(r("a302"),v(Q,z,K,!1,null,null,null)),J=Z.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("video",{staticClass:"reddit-video",attrs:{controls:""}},[r("source",{attrs:{src:e.link,type:"video/mp4"}})])},te=[],re={name:"ImgurVideoViewer",props:["vm"],computed:{link:function(){return this.vm.url.replace(/\.gifv$/,".mp4")}}},ne=re,ie=v(ne,ee,te,!1,null,null,null),ae=ie.exports,oe="en",se={};function ue(){return oe}function le(e){oe=e}function ce(e){return se[e]}function fe(e){if(!e)throw new Error("No locale data passed");se[e.locale]=e}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.localeMatcher||"lookup";switch(r){case"lookup":return he(e);case"best fit":return he(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(r))}}function he(e){if(ce(e))return e;var t=e.split("-");while(e.length>1)if(t.pop(),e=t.join("-"),ce(e))return e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function me(e,t,r){return t&&ge(e.prototype,t),r&&ge(e,r),e}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye=["second","minute","hour","day","week","month","quarter","year"],be=["auto","always"],Ee=["long","short","narrow"],_e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pe(this,e),ve(this,"numeric","always"),ve(this,"style","long"),ve(this,"localeMatcher","lookup");var n=r.numeric,i=r.style,a=r.localeMatcher;if(n){if(be.indexOf(n)<0)throw new RangeError('Invalid "numeric" option: '.concat(n));this.numeric=n}if(i){if(Ee.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(a&&(this.localeMatcher=a),"string"===typeof t&&(t=[t]),t.push(ue()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new TypeError("No supported locale was found");this.locale=de(this.locale,{localeMatcher:this.localeMatcher}),"undefined"!==typeof Intl&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale))}return me(e,[{key:"format",value:function(e,t){return this.getRule(e,t).replace("{0}",this.formatNumber(Math.abs(e)))}},{key:"formatToParts",value:function(e,t){var r=this.getRule(e,t),n=r.indexOf("{0}");if(n<0)return[{type:"literal",value:r}];var i=[];return n>0&&i.push({type:"literal",value:r.slice(0,n)}),i.push({unit:t,type:"integer",value:this.formatNumber(Math.abs(e))}),n+"{0}".length<r.length-1&&i.push({type:"literal",value:r.slice(n+"{0}".length)}),i}},{key:"getRule",value:function(e,t){if(ye.indexOf(t)<0)throw new RangeError("Unknown time unit: ".concat(t,"."));var r=ce(this.locale)[this.style][t];if("auto"===this.numeric)if(-2===e||-1===e){var n=r["previous".concat(-1===e?"":"-"+Math.abs(e))];if(n)return n}else if(1===e||2===e){var i=r["next".concat(1===e?"":"-"+Math.abs(e))];if(i)return i}else if(0===e&&r.current)return r.current;var a=r[e<=0?"past":"future"];if("string"===typeof a)return a;var o=ce(this.locale).quantify,s=o&&o(Math.abs(e));return s=s||"other",a[s]||a.other}},{key:"formatNumber",value:function(e){return this.numberFormat?this.numberFormat.format(e):String(e)}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric}}}]),e}();function Te(e){return Te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e,t,r){return t&&Se(e.prototype,t),r&&Se(e,r),e}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_e.supportedLocalesOf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.filter((function(e){return de(e,t)}))},_e.addLocale=fe,_e.setDefaultLocale=le,_e.getDefaultLocale=ue;var Ie=function(){function e(){we(this,e),Re(this,"cache",{})}return Ae(e,[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0;i<r.length;i++){var a=r[i];if("object"!==Te(e))return;e=e[a]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.pop(),i=t.pop(),a=this.cache,o=0;o<t.length;o++){var s=t[o];"object"!==Te(a[s])&&(a[s]={}),a=a[s]}return a[i]=n}}]),e}(),Ce=60,De=60*Ce,Ne=24*De,xe=30.44*Ne,Me=365.2425*Ne;function Oe(e,t){var r=e,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if(i=r.next(),i.done)break;a=i.value}var o=a;if(o.unit===t)return o}}function Pe(e){return e instanceof Date?e:new Date(e)}var Le=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45,factor:1,unit:"second"},{threshold:45,factor:60,unit:"minute"},{threshold:150,factor:60,granularity:5,unit:"minute"},{threshold:1350,factor:1800,unit:"half-hour"},{threshold:2550,threshold_for_minute:3150,factor:3600,unit:"hour"},{threshold:20.5/24*Ne,factor:Ne,unit:"day"},{threshold:5.5*Ne,factor:7*Ne,unit:"week"},{threshold:24.5*Ne,factor:xe,unit:"month"},{threshold:10.5*xe,factor:Me,unit:"year"}];function ke(e){return ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Fe(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Le;if(n=Ue(n,r),0!==n.length){var i=Be(e,t,n),a=n[i];if(-1!==i){if(a.granularity){var o=Math.round(Math.abs(e)/a.factor/a.granularity)*a.granularity;if(0===o&&i>0)return n[i-1]}return a}}}function je(e,t,r,n){var i;if(e&&(e.id||e.unit)&&(i=t["threshold_for_".concat(e.id||e.unit)]),void 0===i&&(i=t.threshold),"function"===typeof i&&(i=i(r,n)),e&&"number"!==typeof i){var a=ke(i);throw new Error('Each step of a gradation must have a threshold defined except for the first one. Got "'.concat(i,'", ').concat(a,". Step: ").concat(JSON.stringify(t)))}return i}function Be(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.abs(e)<je(r[n-1],r[n],t,e<0)?n-1:n===r.length-1?n:Be(e,t,r,n+1)}function Ue(e,t){return e.filter((function(e){var r=e.unit;return!r||t.indexOf(r)>=0}))}function qe(e){return qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ge(e,t){var r=e,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if(i=r.next(),i.done)break;a=i.value}var o=a;if(t(o))return o;var s=o.split("-");while(s.length>1)if(s.pop(),o=s.join("-"),t(o))return o}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function Ve(){var e="object"===("undefined"===typeof Intl?"undefined":qe(Intl));return e&&"function"===typeof Intl.DateTimeFormat}var He={gradation:Le,flavour:["long-convenient","long"],units:["now","minute","hour","day","week","month","year"]},Ye=[{factor:1,unit:"now"},{threshold:.5,factor:1,unit:"second"},{threshold:59.5,factor:60,unit:"minute"},{threshold:3570,factor:3600,unit:"hour"},{threshold:84600,factor:Ne,unit:"day"},{threshold:6.5*Ne,factor:7*Ne,unit:"week"},{threshold:24.5*Ne,factor:xe,unit:"month"},{threshold:11.5*xe,factor:Me,unit:"year"}];function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ke(e,t,r[t])}))}return e}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var We={},$e={gradation:[ze({},Oe(Ye,"minute"),{threshold:45}),Oe(Ye,"hour"),{threshold:Ne-.5*De,format:function(e,t){if(Ve())return We[t]||(We[t]={}),We[t].this_year||(We[t].this_year=new Intl.DateTimeFormat(t,{month:"short",day:"numeric"})),We[t].this_year.format(Pe(e))}},{threshold:function(e,t){if(t){var r=new Date(new Date(e).getFullYear()+1,0);return(r.getTime()-e)/1e3}var n=new Date(new Date(e).getFullYear(),0);return(e-n.getTime())/1e3},format:function(e,t){if(Ve())return We[t]||(We[t]={}),We[t].other||(We[t].other=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"})),We[t].other.format(Pe(e))}}],flavour:["tiny","short-time","narrow","short"]},Xe={gradation:Le,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]},Qe={};function Ze(e){return Qe[e]}function Je(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");Qe[e.locale]=e}function et(e){return et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t,r){return t&&rt(e.prototype,t),r&&rt(e,r),e}var it=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];tt(this,e),"string"===typeof t&&(t=[t]),this.locale=Ge(t.concat(_e.getDefaultLocale()),Ze),"undefined"!==typeof Intl&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),this.relativeTimeFormatCache=new Ie}return nt(e,[{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He;if("string"===typeof t)switch(t){case"twitter":t=$e;break;case"time":t=Xe;break;default:t=He}var r=at(e),n=r.date,i=r.time,a=this.getLocaleData(t.flavour),o=a.flavour,s=a.localeData,u=t.now||Date.now(),l=(u-i)/1e3;if(t.custom){var c=t.custom({now:u,date:n,time:i,elapsed:l,locale:this.locale});if(void 0!==c)return c}var f=st(s,t.units);if(0===f.length)return console.error('Units "'.concat(f.join(", "),'" were not found in locale data for "').concat(this.locale,'".')),"";var d=Fe(l,u,f,t.gradation);if(!d)return"";if(d.format)return d.format(n||i,this.locale);var h=d.unit,p=d.factor,g=d.granularity,m=Math.abs(l)/p;if(g&&(m=Math.round(m/g)*g),"now"===h)return ut(s,-1*Math.sign(l));switch(o){case"long":case"short":case"narrow":return this.getFormatter(o).format(-1*Math.sign(l)*Math.round(m),h);default:return this.formatValue(-1*Math.sign(l)*Math.round(m),h,s)}}},{key:"formatValue",value:function(e,t,r){return this.getRule(e,t,r).replace("{0}",this.formatNumber(Math.abs(e)))}},{key:"getRule",value:function(e,t,r){var n=r[t];if("string"===typeof n)return n;var i=n[e<=0?"past":"future"]||n;if("string"===typeof i)return i;var a=Ze(this.locale).quantify,o=a&&a(Math.abs(e));return o=o||"other",i[o]||i.other}},{key:"formatNumber",value:function(e){return this.numberFormat?this.numberFormat.format(e):String(e)}},{key:"getFormatter",value:function(e){return this.relativeTimeFormatCache.get(this.locale,e)||this.relativeTimeFormatCache.put(this.locale,e,new _e(this.locale,{style:e}))}},{key:"getLocaleData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Ze(this.locale);"string"===typeof e&&(e=[e]),e=e.concat("long");var r=e,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if(i=r.next(),i.done)break;a=i.value}var o=a;if(t[o])return{flavour:o,localeData:t[o]}}}}]),e}();function at(e){if(e.constructor===Date||ot(e))return{date:e,time:e.getTime()};if("number"===typeof e)return{time:e};throw new Error("Unsupported relative time formatter input: ".concat(et(e),", ").concat(e))}function ot(e){return"object"===et(e)&&"function"===typeof e.getTime}function st(e,t){var r=Object.keys(e);return t&&(r=t.filter((function(e){return r.indexOf(e)>=0}))),(!t||t.indexOf("now")>=0)&&r.indexOf("now")<0&&e.second.current&&r.unshift("now"),r}function ut(e,t){return e.now?"string"===typeof e.now?e.now:t<=0?e.now.past:e.now.future:e.second.current}it.getDefaultLocale=_e.getDefaultLocale,it.setDefaultLocale=_e.setDefaultLocale,it.addLocale=function(e){Je(e),_e.addLocale(e)},it.locale=it.addLocale;var lt=r("7d1a"),ct=r.n(lt),ft=r("92d7");it.addLocale(ct.a);var dt=new it("en-US"),ht={components:{ScrollTracker:Y},name:"Post",props:["vm"],computed:{cardViewer:function(){var e=this.vm;return pt(e.url)?A:e.is_self?M:e.media_embed&&e.media_embed.content?B:e.media&&e.media.reddit_video&&e.media.reddit_video.dash_url||e.preview&&e.preview.reddit_video_preview&&e.preview.reddit_video_preview.dash_url?J:e.url.match(/imgur.com\/(.+)\.gifv/)?ae:b},decodedTitle:function(){var e=this.vm.title;return e?ft.decode(e):""},postedTime:function(){var e=new Date(1e3*this.vm.created_utc);return dt.format(e)},prettyScore:function(){return c(this.vm.score)},authorLink:function(){return"https://reddit.com/u/"+this.vm.author},permalink:function(){return"https://reddit.com"+this.vm.permalink},subredditLink:function(){return"https://reddit.com/r/"+this.vm.subreddit},commentsCount:function(){var e=this.vm.num_comments;return 0===e?"No comments":1===e?"1 Comment":"".concat(c(e)," Comments")}}};function pt(e){return e&&e.match(/\.(png|jpg|jpeg|gif)\b/i)}var gt=ht,mt=(r("ebb3"),v(gt,f,d,!1,null,null,null)),vt=mt.exports,yt=l(),bt=r("92d7"),Et=wt(),_t=St(),Tt={name:"Subreddit",props:{name:String,sort:{type:String,default:Et[0].value,validator:function(e){return!e||Et.findIndex((function(t){return t.value===e}))>-1}},showFirst:{type:Number,default:30},time:{type:String,default:_t[1].value,validator:function(e){return!e||_t.findIndex((function(t){return t.value===e}))>-1}}},components:{Post:vt},computed:{isMultiView:function(){return this.name&&this.name.indexOf("+")>-1},description:function(){var e=this.about,t=e&&e.public_description_html;return t?bt.decode(t):""},title:function(){var e=this.about,t=e&&e.title||this.name;if(this.isMultiView){var r=this.name.split("+").length-1,n=1===r?"other":"others";t+=" (and ".concat(r," ").concat(n,")")}return t?bt.decode(t):this.name},canShowPosts:function(){return!this.loading&&(!(!0===this.over18&&!this.ageConfirmed)&&(this.posts&&!this.error))},showAgeWarning:function(){return!this.loading&&(!0===this.over18&&!this.ageConfirmed)},backgroundStyle:function(){var e=this.about&&this.about.banner_background_color||"",t=this.image&&this.image.banner&&!(this.showAgeWarning||this.loading&&!this.partialReload)?"url(".concat(this.image.banner,") no-repeat center / cover;background-position:center top; height: 192px;"):";height: 86px;";return"background:".concat(e," ").concat(t)},hasIcon:function(){return!(this.loading&&!this.partialReload)&&(!this.showAgeWarning&&(this.image&&this.image.icon))},canChooseTime:function(){return"top"===this.selectedSortOption||"controversial"===this.selectedSortOption},subscribersCount:function(){if(this.about)return c(this.about.subscribers)},activeCount:function(){if(this.about)return c(this.about.active_user_count)},subLink:function(){return"https://reddit.com/r/"+this.name},newSubredditLoading:function(){return this.loading&&!this.partialReload}},data:function(){var e=wt(),t=St();return{about:null,over18:null,loading:!0,error:null,posts:null,image:null,partialReload:!1,selectedSortOption:this.sort,selectedTimeFilter:this.time,ageConfirmed:window.ageConfirmed||!1,isFirefox:window&&window.navigator.userAgent.match(/Firefox/i),sortOptions:e,timeFilterOptions:t,destroyed:!1}},mounted:function(){this.updateStyle(),this.fetchCurrent(),this.fetchAbout(),window.addEventListener("resize",this.updateResize)},beforeDestroy:function(){this.destroyed=!0,window.removeEventListener("resize",this.updateResize)},methods:{updateResize:function(){this.updateStyle()},fetchCurrent:function(e){this.loading=!0,this.partialReload=e;var t=this.canChooseTime?this.selectedTimeFilter:void 0;yt.fetchPosts(this.name,this.selectedSortOption,t).then(this.updateData)},fetchAbout:function(){this.about=null,yt.fetchAbout(this.name).then(this.updateAbout)},updateData:function(e){if(!this.destroyed){if(this.error=e.error,!e.error){var t=e.result.data.children,r=this.showFirst,n=t.slice(0,r).map((function(e){return At(e.data)})),i=t.length<r;i||n.push({scrollTracker:!0,list:this,loadTheRest:function(){if(!i){i=!0,n.pop();for(var e=r;e<t.length;++e)n.push(At(t[e].data))}}}),this.posts=n}(this.error||this.about)&&(this.loading=!1),this.posts&&this.error&&(this.image=null)}},updateAbout:function(e){if(!this.destroyed){var t=e&&e.result&&e.result.data;this.about=Rt(t),this.over18=this.about&&this.about.over18,this.posts&&(this.loading=!1);var r=null,n=t&&(t.icon_img||t.community_icon);if(n){var i=t.banner_img||t.banner_background_image;r={icon:n.split("?")[0],banner:i?i.split("?")[0]:null}}this.image=r}},declineAge:function(e){this.$emit("declineAge",e)},confirmAge:function(){window.ageConfirmed=!0,this.ageConfirmed=!0,this.$emit("confirmAge")},updateStyle:function(){this.$el.clientWidth<600?this.$el.classList.add("small-screen"):this.$el.classList.remove("small-screen")},reloadAll:function(){this.about=null,this.posts=null,this.error=null,this.updateStyle(),this.fetchCurrent(),this.fetchAbout()}},watch:{name:function(){this.reloadAll()},selectedSortOption:function(e){this.$emit("sortChanged",e),this.fetchCurrent(!0)},selectedTimeFilter:function(e){this.$emit("timeChanged",e),this.fetchCurrent(!0)}}};function wt(){return[{value:"hot",display:"Hot"},{value:"new",display:"New"},{value:"controversial",display:"Controversial"},{value:"top",display:"Top"},{value:"rising",display:"Rising"}]}function St(){return[{value:"hour",display:"Past Hour"},{value:"day",display:"Past 24 Hours"},{value:"week",display:"Past Week"},{value:"month",display:"Past Month"},{value:"year",display:"Past Year"},{value:"all",display:"Of All Time"}]}function At(e){return Object.freeze({url:e.url,is_self:e.is_self,media_embed:e.media_embed,media:e.media,preview:e.preview,title:e.title,created_utc:e.created_utc,score:e.score,author:e.author,permalink:e.permalink,num_comments:e.num_comments,subreddit:e.subreddit})}function Rt(e){return e?Object.freeze({public_description_html:e.public_description_html,title:e.title,banner_background_color:e.banner_background_color,subscribers:e.subscribers,active_user_count:e.active_user_count,over18:e.over18}):e}var It=Tt,Ct=(r("d90e"),v(It,o,s,!1,null,null,null)),Dt=Ct.exports;t["default"]=Dt},fb6a:function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("e8b5"),o=r("68ee"),s=r("861d"),u=r("23cb"),l=r("07fa"),c=r("fc6a"),f=r("8418"),d=r("b622"),h=r("1dde"),p=r("f36a"),g=h("slice"),m=d("species"),v=i.Array,y=Math.max;n({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var r,n,i,d=c(this),h=l(d),g=u(e,h),b=u(void 0===t?h:t,h);if(a(d)&&(r=d.constructor,o(r)&&(r===v||a(r.prototype))?r=void 0:s(r)&&(r=r[m],null===r&&(r=void 0)),r===v||void 0===r))return p(d,g,b);for(n=new(void 0===r?v:r)(y(b-g,0)),i=0;g<b;g++,i++)g in d&&f(n,i,d[g]);return n.length=i,n}})},fc6a:function(e,t,r){var n=r("44ad"),i=r("1d80");e.exports=function(e){return n(i(e))}},fce3:function(e,t,r){var n=r("d039"),i=r("da84"),a=i.RegExp;e.exports=n((function(){var e=a(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,r){var n=r("4930");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})["default"]}))},8418:function(e,t,r){"use strict";var n=r("c04e"),i=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,r){var n=r("c6cd"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"8aa7":function(e,t,r){var n=r("da84"),i=r("d039"),a=r("1c7e"),o=r("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},"90e3":function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},9112:function(e,t,r){var n=r("83ab"),i=r("9bf2"),a=r("5c6c");e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},9129:function(e,t,r){var n=r("23e7");n({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},9263:function(e,t,r){"use strict";var n=r("ad6d"),i=r("9f7f"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,u=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],f=u||c||l;f&&(s=function(e){var t,r,i,s,f=this,d=l&&f.sticky,h=n.call(f),p=f.source,g=0,m=e;return d&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),m=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,g++),r=new RegExp("^(?:"+p+")",h)),c&&(r=new RegExp("^"+p+"$(?!\\s)",h)),u&&(t=f.lastIndex),i=a.call(d?r:f,m),d?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:u&&i&&(f.lastIndex=f.global?i.index+i[0].length:t),c&&i&&i.length>1&&o.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},"94ca":function(e,t,r){var n=r("d039"),i=/#|\.prototype\./,a=function(e,t){var r=s[o(e)];return r==l||r!=u&&("function"==typeof t?n(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},"954b":function(e,t,r){const n=r("28d9"),i=r("2015");function a(e){let t=o(e);return new Function(t)()}function o(e){let t=n(e),r=Math.pow(2,e),a=`\n${s()}\n${f(e)}\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n${d("      node.")}\n      node.body = null;\n      node.mass = ${t("node.mass_{var} = ",{join:""})}0;\n      ${t("node.min_{var} = node.max_{var} = ",{join:""})}0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ${t("var d{var};",{indent:4})}\n    var r; \n    ${t("var f{var} = 0;",{indent:4})}\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ${t("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ${t("f{var} += v * d{var};",{indent:8})}\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ${t("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n        }\n        // If s / r < θ, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_${i(0)} - node.min_${i(0)}) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ${t("f{var} += v * d{var};",{indent:10})}\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n${c()}\n        }\n      }\n    }\n\n    ${t("sourceBody.force.{var} += f{var};",{indent:4})}\n  }\n\n  function insertBodies(bodies) {\n    ${t("var {var}min = Number.MAX_VALUE;",{indent:4})}\n    ${t("var {var}max = Number.MIN_VALUE;",{indent:4})}\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ${t("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}\n      ${t("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ${t("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}\n\n    currentInCache = 0;\n    root = newNode();\n    ${t("root.min_{var} = {var}min;",{indent:4})}\n    ${t("root.max_{var} = {var}min + maxSideLength;",{indent:4})}\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ${t("var {var} = body.pos.{var};",{indent:8})}\n        node.mass += body.mass;\n        ${t("node.mass_{var} += body.mass * {var};",{indent:8})}\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ${t("var min_{var} = node.min_{var};",{indent:8})}\n        ${t("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}\n\n${l(8)}\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ${t("child.min_{var} = min_{var};",{indent:10})}\n          ${t("child.max_{var} = max_{var};",{indent:10})}\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ${t("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}\n\n            ${t("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\n\nfunction getChild(node, idx) {\n${o()}\n  return null;\n}\n\nfunction setChild(node, idx, child) {\n${u()}\n}\n\nfunction isSamePosition(point1, point2) {\n  ${t("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}\n\n  return ${t("d{var} < 1e-8",{join:" && "})};\n}\n\nreturn createQuadTree;\n\n`;return a;function o(){let e=[];for(let t=0;t<r;++t)e.push(`  if (idx === ${t}) return node.quad${t};`);return e.join("\n")}function u(){let e=[];for(let t=0;t<r;++t){let r=0===t?"  ":"  else ";e.push(`${r}if (idx === ${t}) node.quad${t} = child;`)}return e.join("\n")}function l(t){let r=[],n=Array(t+1).join(" ");for(let a=0;a<e;++a)r.push(n+`if (${i(a)} > max_${i(a)}) {`),r.push(n+`  quadIdx = quadIdx + ${Math.pow(2,a)};`),r.push(n+`  min_${i(a)} = max_${i(a)};`),r.push(n+`  max_${i(a)} = node.max_${i(a)};`),r.push(n+"}");return r.join("\n")}function c(){let e=Array(11).join(" "),t=[];for(let n=0;n<r;++n)t.push(e+`if (node.quad${n}) {`),t.push(e+`  queue[pushIdx] = node.quad${n};`),t.push(e+"  queueLength += 1;"),t.push(e+"  pushIdx += 1;"),t.push(e+"}");return t.join("\n")}function f(e){let r=`\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n${d("  this.")}\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ${t("this.mass_{var} = 0;",{indent:2})}\n\n  // bounding box coordinates\n  ${t("this.min_{var} = 0;",{indent:2})}\n  ${t("this.max_{var} = 0;",{indent:2})}\n}\n`;return r}function d(e){let t=[];for(let n=0;n<r;++n)t.push(`${e}quad${n} = null;`);return t.join("\n")}}function s(){return"\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n"}e.exports=a,e.exports.generateQuadTreeFunctionBody=o},9861:function(e,t,r){"use strict";r("e260");var n=r("23e7"),i=r("d066"),a=r("0d3b"),o=r("6eeb"),s=r("e2cc"),u=r("d44e"),l=r("9ed3"),c=r("69f3"),f=r("19aa"),d=r("5135"),h=r("0366"),p=r("f5df"),g=r("825a"),m=r("861d"),v=r("7c73"),y=r("5c6c"),b=r("9a1f"),E=r("35a1"),_=r("b622"),T=i("fetch"),w=i("Headers"),S=_("iterator"),A="URLSearchParams",R=A+"Iterator",I=c.set,C=c.getterFor(A),D=c.getterFor(R),N=/\+/g,x=Array(4),M=function(e){return x[e-1]||(x[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},O=function(e){try{return decodeURIComponent(e)}catch(t){return e}},P=function(e){var t=e.replace(N," "),r=4;try{return decodeURIComponent(t)}catch(n){while(r)t=t.replace(M(r--),O);return t}},L=/[!'()~]|%20/g,k={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return k[e]},j=function(e){return encodeURIComponent(e).replace(L,F)},B=function(e,t){if(t){var r,n,i=t.split("&"),a=0;while(a<i.length)r=i[a++],r.length&&(n=r.split("="),e.push({key:P(n.shift()),value:P(n.join("="))}))}},U=function(e){this.entries.length=0,B(this.entries,e)},q=function(e,t){if(e<t)throw TypeError("Not enough arguments")},G=l((function(e,t){I(this,{type:R,iterator:b(C(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),V=function(){f(this,V,A);var e,t,r,n,i,a,o,s,u,l=arguments.length>0?arguments[0]:void 0,c=this,h=[];if(I(c,{type:A,entries:h,updateURL:function(){},updateSearchParams:U}),void 0!==l)if(m(l))if(e=E(l),"function"===typeof e){t=e.call(l),r=t.next;while(!(n=r.call(t)).done){if(i=b(g(n.value)),a=i.next,(o=a.call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}}else for(u in l)d(l,u)&&h.push({key:u,value:l[u]+""});else B(h,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},H=V.prototype;s(H,{append:function(e,t){q(arguments.length,2);var r=C(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){q(arguments.length,1);var t=C(this),r=t.entries,n=e+"",i=0;while(i<r.length)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){q(arguments.length,1);for(var t=C(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){q(arguments.length,1);for(var t=C(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){q(arguments.length,1);var t=C(this).entries,r=e+"",n=0;while(n<t.length)if(t[n++].key===r)return!0;return!1},set:function(e,t){q(arguments.length,1);for(var r,n=C(this),i=n.entries,a=!1,o=e+"",s=t+"",u=0;u<i.length;u++)r=i[u],r.key===o&&(a?i.splice(u--,1):(a=!0,r.value=s));a||i.push({key:o,value:s}),n.updateURL()},sort:function(){var e,t,r,n=C(this),i=n.entries,a=i.slice();for(i.length=0,r=0;r<a.length;r++){for(e=a[r],t=0;t<r;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===r&&i.push(e)}n.updateURL()},forEach:function(e){var t,r=C(this).entries,n=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<r.length)t=r[i++],n(t.value,t.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),o(H,S,H.entries),o(H,"toString",(function(){var e,t=C(this).entries,r=[],n=0;while(n<t.length)e=t[n++],r.push(j(e.key)+"="+j(e.value));return r.join("&")}),{enumerable:!0}),u(V,A),n({global:!0,forced:!a},{URLSearchParams:V}),a||"function"!=typeof T||"function"!=typeof w||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,i=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(r=t.body,p(r)===A&&(n=t.headers?new w(t.headers):new w,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:y(0,String(r)),headers:y(0,n)}))),i.push(t)),T.apply(this,i)}}),e.exports={URLSearchParams:V,getState:C}},"99af":function(e,t,r){"use strict";var n=r("23e7"),i=r("d039"),a=r("e8b5"),o=r("861d"),s=r("7b0b"),u=r("50c4"),l=r("8418"),c=r("65f0"),f=r("1dde"),d=r("b622"),h=r("2d00"),p=d("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=f("concat"),b=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},E=!v||!y;n({target:"Array",proto:!0,forced:E},{concat:function(e){var t,r,n,i,a,o=s(this),f=c(o,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?o:arguments[t],b(a)){if(i=u(a.length),d+i>g)throw TypeError(m);for(r=0;r<i;r++,d++)r in a&&l(f,d,a[r])}else{if(d>=g)throw TypeError(m);l(f,d++,a)}return f.length=d,f}})},"9a1f":function(e,t,r){var n=r("825a"),i=r("35a1");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},"9a8c":function(e,t,r){"use strict";var n=r("ebb5"),i=r("145e"),a=n.aTypedArray,o=n.exportTypedArrayMethod;o("copyWithin",(function(e,t){return i.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},"9aeb":function(e,t,r){"use strict";r.d(t,"a",(function(){return Ot})),r.d(t,"b",(function(){return jt})),r.d(t,"c",(function(){return Ut})),r.d(t,"d",(function(){return Lt})),r.d(t,"e",(function(){return Pt})),r.d(t,"f",(function(){return mt})),r.d(t,"g",(function(){return nt})),r.d(t,"h",(function(){return xt})),r.d(t,"i",(function(){return pt})),r.d(t,"j",(function(){return ut})),r.d(t,"k",(function(){return rt}));var n=function(e){a(e);var t=i(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e};function i(e){var t=Object.create(null);return{on:function(r,n,i){if("function"!==typeof n)throw new Error("callback is expected to be a function");var a=t[r];return a||(a=t[r]=[]),a.push({callback:n,ctx:i}),e},off:function(r,n){var i="undefined"===typeof r;if(i)return t=Object.create(null),e;if(t[r]){var a="function"!==typeof n;if(a)delete t[r];else for(var o=t[r],s=0;s<o.length;++s)o[s].callback===n&&o.splice(s,1)}return e},fire:function(r){var n,i=t[r];if(!i)return e;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var a=0;a<i.length;++a){var o=i[a];o.callback.apply(o.ctx,n)}return e}}}function a(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}var o=1e-6,s="undefined"!==typeof Float32Array?Float32Array:Array;function u(e){s=e}function l(){var e=new s(9);return s!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function c(){var e=new s(16);return s!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function d(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=r*s-n*o,b=r*u-i*o,E=r*l-a*o,_=n*u-i*s,T=n*l-a*s,w=i*l-a*u,S=c*g-f*p,A=c*m-d*p,R=c*v-h*p,I=f*m-d*g,C=f*v-h*g,D=d*v-h*m,N=y*D-b*C+E*I+_*R-T*A+w*S;return N?(N=1/N,e[0]=(s*D-u*C+l*I)*N,e[1]=(i*C-n*D-a*I)*N,e[2]=(g*w-m*T+v*_)*N,e[3]=(d*T-f*w-h*_)*N,e[4]=(u*R-o*D-l*A)*N,e[5]=(r*D-i*R+a*A)*N,e[6]=(m*E-p*w-v*b)*N,e[7]=(c*w-d*E+h*b)*N,e[8]=(o*C-s*R+l*S)*N,e[9]=(n*R-r*C-a*S)*N,e[10]=(p*T-g*E+v*y)*N,e[11]=(f*E-c*T-h*y)*N,e[12]=(s*A-o*I-u*S)*N,e[13]=(r*I-n*A+i*S)*N,e[14]=(g*b-p*_-m*y)*N,e[15]=(c*_-f*b+d*y)*N,e):null}function h(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=r[0],E=r[1],_=r[2],T=r[3];return e[0]=b*n+E*s+_*f+T*g,e[1]=b*i+E*u+_*d+T*m,e[2]=b*a+E*l+_*h+T*v,e[3]=b*o+E*c+_*p+T*y,b=r[4],E=r[5],_=r[6],T=r[7],e[4]=b*n+E*s+_*f+T*g,e[5]=b*i+E*u+_*d+T*m,e[6]=b*a+E*l+_*h+T*v,e[7]=b*o+E*c+_*p+T*y,b=r[8],E=r[9],_=r[10],T=r[11],e[8]=b*n+E*s+_*f+T*g,e[9]=b*i+E*u+_*d+T*m,e[10]=b*a+E*l+_*h+T*v,e[11]=b*o+E*c+_*p+T*y,b=r[12],E=r[13],_=r[14],T=r[15],e[12]=b*n+E*s+_*f+T*g,e[13]=b*i+E*u+_*d+T*m,e[14]=b*a+E*l+_*h+T*v,e[15]=b*o+E*c+_*p+T*y,e}function p(e,t,r){var n,i,a,o,s,u,l,c,f,d,h,p,g=r[0],m=r[1],v=r[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=n*g+s*m+f*v+t[12],e[13]=i*g+u*m+d*v+t[13],e[14]=a*g+l*m+h*v+t[14],e[15]=o*g+c*m+p*v+t[15]),e}function g(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function m(e,t,r,n){var i,a,s,u,l,c,f,d,h,p,g,m,v,y,b,E,_,T,w,S,A,R,I,C,D=n[0],N=n[1],x=n[2],M=Math.hypot(D,N,x);return M<o?null:(M=1/M,D*=M,N*=M,x*=M,i=Math.sin(r),a=Math.cos(r),s=1-a,u=t[0],l=t[1],c=t[2],f=t[3],d=t[4],h=t[5],p=t[6],g=t[7],m=t[8],v=t[9],y=t[10],b=t[11],E=D*D*s+a,_=N*D*s+x*i,T=x*D*s-N*i,w=D*N*s-x*i,S=N*N*s+a,A=x*N*s+D*i,R=D*x*s+N*i,I=N*x*s-D*i,C=x*x*s+a,e[0]=u*E+d*_+m*T,e[1]=l*E+h*_+v*T,e[2]=c*E+p*_+y*T,e[3]=f*E+g*_+b*T,e[4]=u*w+d*S+m*A,e[5]=l*w+h*S+v*A,e[6]=c*w+p*S+y*A,e[7]=f*w+g*S+b*A,e[8]=u*R+d*I+m*C,e[9]=l*R+h*I+v*C,e[10]=c*R+p*I+y*C,e[11]=f*R+g*I+b*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function v(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*n,e[5]=o*i+c*n,e[6]=s*i+f*n,e[7]=u*i+d*n,e[8]=l*i-a*n,e[9]=c*i-o*n,e[10]=f*i-s*n,e[11]=d*i-u*n,e}function y(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*n,e[1]=o*i-c*n,e[2]=s*i-f*n,e[3]=u*i-d*n,e[8]=a*n+l*i,e[9]=o*n+c*i,e[10]=s*n+f*i,e[11]=u*n+d*i,e}function b(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*n,e[1]=o*i+c*n,e[2]=s*i+f*n,e[3]=u*i+d*n,e[4]=l*i-a*n,e[5]=c*i-o*n,e[6]=f*i-s*n,e[7]=d*i-u*n,e}function E(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=n+n,u=i+i,l=a+a,c=n*s,f=n*u,d=n*l,h=i*u,p=i*l,g=a*l,m=o*s,v=o*u,y=o*l;return e[0]=1-(h+g),e[1]=f+y,e[2]=d-v,e[3]=0,e[4]=f-y,e[5]=1-(c+g),e[6]=p+m,e[7]=0,e[8]=d+v,e[9]=p-m,e[10]=1-(c+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function _(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function T(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],o=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(a,o,s),e[2]=Math.hypot(u,l,c),e}function w(e,t){var r=new s(3);T(r,t);var n=1/r[0],i=1/r[1],a=1/r[2],o=t[0]*n,u=t[1]*i,l=t[2]*a,c=t[4]*n,f=t[5]*i,d=t[6]*a,h=t[8]*n,p=t[9]*i,g=t[10]*a,m=o+f+g,v=0;return m>0?(v=2*Math.sqrt(m+1),e[3]=.25*v,e[0]=(d-p)/v,e[1]=(h-l)/v,e[2]=(u-c)/v):o>f&&o>g?(v=2*Math.sqrt(1+o-f-g),e[3]=(d-p)/v,e[0]=.25*v,e[1]=(u+c)/v,e[2]=(h+l)/v):f>g?(v=2*Math.sqrt(1+f-o-g),e[3]=(h-l)/v,e[0]=(u+c)/v,e[1]=.25*v,e[2]=(d+p)/v):(v=2*Math.sqrt(1+g-o-f),e[3]=(u-c)/v,e[0]=(h+l)/v,e[1]=(d+p)/v,e[2]=.25*v),e}function S(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e}Math.hypot||(Math.hypot=function(){var e=arguments,t=0,r=arguments.length;while(r--)t+=e[r]*e[r];return Math.sqrt(t)});var A=S;function R(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=n[0],u=n[1],l=n[2],c=i-r[0],f=a-r[1],d=o-r[2],h=c*c+f*f+d*d;h>0&&(h=1/Math.sqrt(h),c*=h,f*=h,d*=h);var p=u*d-l*f,g=l*c-s*d,m=s*f-u*c;return h=p*p+g*g+m*m,h>0&&(h=1/Math.sqrt(h),p*=h,g*=h,m*=h),e[0]=p,e[1]=g,e[2]=m,e[3]=0,e[4]=f*m-d*g,e[5]=d*p-c*m,e[6]=c*g-f*p,e[7]=0,e[8]=c,e[9]=f,e[10]=d,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}var I=h;function C(){var e=new s(3);return s!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function D(e){var t=new s(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function N(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function x(e,t,r){var n=new s(3);return n[0]=e,n[1]=t,n[2]=r,n}function M(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function O(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function P(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function L(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function k(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function F(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function j(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],u=r[2];return e[0]=i*u-a*s,e[1]=a*o-n*u,e[2]=n*s-i*o,e}function B(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,e}function U(e,t,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=t[0],u=t[1],l=t[2],c=i*l-a*u,f=a*s-n*l,d=n*u-i*s,h=i*d-a*f,p=a*c-n*d,g=n*f-i*c,m=2*o;return c*=m,f*=m,d*=m,h*=2,p*=2,g*=2,e[0]=s+c+h,e[1]=u+f+p,e[2]=l+d+g,e}var q=P,G=N;(function(){var e=C()})();function V(){var e=new s(4);return s!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function H(e){var t=new s(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Y(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function z(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=a*o,e}function K(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}(function(){var e=V()})();function W(){var e=new s(4);return s!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function $(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function X(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],u=r[1],l=r[2],c=r[3];return e[0]=n*c+o*s+i*l-a*u,e[1]=i*c+o*u+a*s-n*l,e[2]=a*c+o*l+n*u-i*s,e[3]=o*c-n*s-i*u-a*l,e}function Q(e,t,r,n){var i,a,s,u,l,c=t[0],f=t[1],d=t[2],h=t[3],p=r[0],g=r[1],m=r[2],v=r[3];return a=c*p+f*g+d*m+h*v,a<0&&(a=-a,p=-p,g=-g,m=-m,v=-v),1-a>o?(i=Math.acos(a),s=Math.sin(i),u=Math.sin((1-n)*i)/s,l=Math.sin(n*i)/s):(u=1-n,l=n),e[0]=u*c+l*p,e[1]=u*f+l*g,e[2]=u*d+l*m,e[3]=u*h+l*v,e}function Z(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*a+o]-t[3*o+a])*r,e[a]=(t[3*a+i]+t[3*i+a])*r,e[o]=(t[3*o+i]+t[3*i+o])*r}return e}var J=H,ee=Y,te=X,re=z,ne=(function(){var e=C(),t=x(1,0,0),r=x(0,1,0)}(),function(){var e=W(),t=W()}(),function(){var e=l()}(),function(){this.children=[],this.model=c(),this.worldModel=c(),this.modelViewProjection=c(),this.worldTransformNeedsUpdate=!0,this.modelViewProjectionNeedsUpdate=!0,this.type="Element",this.scene=null,this.parent=null});ne.prototype.appendChild=function(e,t){void 0===t&&(t=!1),e.parent=this,t?this.children.unshift(e):this.children.push(e),e.bindScene&&e.bindScene(this.scene),this.scene&&this.scene.renderFrame()},ne.prototype.insertChildAfter=function(e,t){e.parent=this;var r=this.children.indexOf(t);if(r<0)throw new Error("Could not find element to insert after");this.children.splice(r+1,0,e),e.bindScene&&e.bindScene(this.scene),this.scene&&this.scene.renderFrame()},ne.prototype.bindScene=function(e){this.scene=e,this.worldTransformNeedsUpdate=!0,this.modelViewProjectionNeedsUpdate=!0},ne.prototype.traverse=function(e,t){e(this);for(var r=0;r<this.children.length;++r){var n=this.children[r];n.traverse(e,t)}t&&t(this)},ne.prototype.rotate=function(e,t){return m(this.model,this.model,e,t),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this},ne.prototype.rotateX=function(e){return v(this.model,this.model,e),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this},ne.prototype.rotateY=function(e){return y(this.model,this.model,e),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this},ne.prototype.rotateZ=function(e){return b(this.model,this.model,e),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this},ne.prototype.scale=function(e){return g(this.model,this.model,e),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this},ne.prototype.translate=function(e){return p(this.model,this.model,e),this.worldTransformNeedsUpdate=!0,this.scene&&this.scene.renderFrame(),this},ne.prototype.removeChild=function(e){var t=this.children.indexOf(e);t>-1&&(this.children.splice(t,1),e.bindScene(null)),this.scene&&this.scene.renderFrame()},ne.prototype.updateWorldTransform=function(e){void 0===e&&(e=!1),(this.worldTransformNeedsUpdate||e)&&(this.parent?h(this.worldModel,this.parent.worldModel,this.model):f(this.worldModel,this.model),this.modelViewProjectionNeedsUpdate=!0,this.worldTransformNeedsUpdate=!1,e=!0);for(var t=e,r=this.children,n=0;n<r.length;n++)t=r[n].updateWorldTransform(e)||t;return t},ne.prototype.scheduleMVPUpdate=function(){this.modelViewProjectionNeedsUpdate=!0;for(var e=this.children,t=0;t<e.length;t++)e[t].scheduleMVPUpdate()},ne.prototype.updateModelViewProjection=function(e,t){this.modelViewProjectionNeedsUpdate&&(h(this.modelViewProjection,e,t),h(this.modelViewProjection,this.modelViewProjection,this.worldModel),this.modelViewProjectionNeedsUpdate=!1)},ne.prototype.draw=function(e,t){for(var r=0;r<this.children.length;++r){var n=this.children[r];n.updateModelViewProjection(t.projection,t.view.matrix),n.draw(e,t)}},ne.prototype.dispose=function(){for(var e=0;e<this.children.length;++e){var t=this.children[e];t.dispose()}};var ie={maxSingleTouchTime:300,singleTapDistanceSquared:25};function ae(e,t,r){var n,i=Date.now();return e.addEventListener("click",u,{passive:!1}),e.addEventListener("touchend",o,{passive:!1}),e.addEventListener("touchstart",a,{passive:!1}),s;function a(e){var t=e.touches;1===t.length&&(i=Date.now(),n={x:e.touches[0].pageX,y:e.touches[0].pageY})}function o(e){if(!(e.touches.length>1)){var t=Date.now()-i;if(!(t>ie.maxSingleTouchTime)){var r=e.changedTouches[0],a=r.pageX-n.x,o=r.pageY-n.y;a*a+o*o<ie.singleTapDistanceSquared&&u(r)}}}function s(){e.removeEventListener("click",u),e.removeEventListener("touchend",o),e.removeEventListener("touchstart",a)}function u(e){t.call(r,e)}}var oe=[0,0,0],se=[1,0,0],ue=[0,1,0],le=[0,0,1],ce=function(e){this.matrix=e||c(),this.cameraWorld=d(c(),this.matrix),this.position=[0,0,0],this.orientation=[0,0,0,1],this.center=[0,0,0],this.deconstructPositionRotation()};ce.prototype.lookAt=function(e,t,r){return R(this.cameraWorld,e,t,r),d(this.matrix,this.cameraWorld),this.deconstructPositionRotation(),this},ce.prototype.update=function(){return E(this.cameraWorld,this.orientation,this.position),d(this.matrix,this.cameraWorld),this},ce.prototype.deconstructPositionRotation=function(){_(this.position,this.cameraWorld),w(this.orientation,this.cameraWorld)},ce.prototype.translateOnAxis=function(e,t){var r=U(oe,e,this.orientation);return L(this.position,this.position,r,t),this},ce.prototype.translateX=function(e){return this.translateOnAxis(se,e)},ce.prototype.translateY=function(e){return this.translateOnAxis(ue,e)},ce.prototype.translateZ=function(e){return this.translateOnAxis(le,e)};var fe=4,de=.001,he=1e-7,pe=10,ge=11,me=1/(ge-1),ve="function"===typeof Float32Array;function ye(e,t){return 1-3*t+3*e}function be(e,t){return 3*t-6*e}function Ee(e){return 3*e}function _e(e,t,r){return((ye(t,r)*e+be(t,r))*e+Ee(t))*e}function Te(e,t,r){return 3*ye(t,r)*e*e+2*be(t,r)*e+Ee(t)}function we(e,t,r,n,i){var a,o,s=0;do{o=t+(r-t)/2,a=_e(o,n,i)-e,a>0?r=o:t=o}while(Math.abs(a)>he&&++s<pe);return o}function Se(e,t,r,n){for(var i=0;i<fe;++i){var a=Te(t,r,n);if(0===a)return t;var o=_e(t,r,n)-e;t-=o/a}return t}function Ae(e){return e}var Re=function(e,t,r,n){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===n)return Ae;for(var i=ve?new Float32Array(ge):new Array(ge),a=0;a<ge;++a)i[a]=_e(a*me,e,r);function o(t){for(var n=0,a=1,o=ge-1;a!==o&&i[a]<=t;++a)n+=me;--a;var s=(t-i[a])/(i[a+1]-i[a]),u=n+s*me,l=Te(u,e,r);return l>=de?Se(t,u,e,r):0===l?u:we(t,n,n+me,e,r)}return function(e){return 0===e?0:1===e?1:_e(o(e),t,n)}},Ie={ease:Re(.25,.1,.25,1),easeIn:Re(.42,0,1,1),easeOut:Re(0,0,.58,1),easeInOut:Re(.42,0,.58,1),linear:Re(0,0,1,1)},Ce=xe,De=ke,Ne=ke();function xe(e,t,r){var n=Object.create(null),i=Object.create(null);r=r||{};var a="function"===typeof r.easing?r.easing:Ie[r.easing];a||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),a=Ie.ease);var o="function"===typeof r.step?r.step:Me,s="function"===typeof r.done?r.done:Me,u=Oe(r.scheduler),l=Object.keys(t);l.forEach((function(r){n[r]=e[r],i[r]=t[r]-e[r]}));var c,f="number"===typeof r.duration?r.duration:400,d=Math.max(1,.06*f),h=0;return c=u.next(g),{cancel:p};function p(){u.cancel(c),c=0}function g(){var t=a(h/d);h+=1,m(t),h<=d?(c=u.next(g),o(e)):(c=0,setTimeout((function(){s(e)}),0))}function m(t){l.forEach((function(r){e[r]=i[r]*t+n[r]}))}}function Me(){}function Oe(e){if(!e){var t="undefined"!==typeof window&&window.requestAnimationFrame;return t?Pe():Le()}if("function"!==typeof e.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!==typeof e.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function Pe(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function Le(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function ke(){var e=new Set,t=new Set,r=0;return{next:i,cancel:i,clearAll:n};function n(){e.clear(),t.clear(),cancelAnimationFrame(r),r=0}function i(e){t.add(e),a()}function a(){r||(r=requestAnimationFrame(o))}function o(){r=0;var n=t;t=e,e=n,e.forEach((function(e){e()})),e.clear()}}function Fe(e,t,r){"object"!==typeof r&&(r={});var n,i,a,o,s,u,l,c,f,d,h=.001,p="number"===typeof r.minVelocity?r.minVelocity:h,g="number"===typeof r.amplitude?r.amplitude:.01,m="function"===typeof r.cancelAnimationFrame?r.cancelAnimationFrame:je(),v="function"===typeof r.requestAnimationFrame?r.requestAnimationFrame:Be(),y=342;return{start:T,setAmplitude:b,getAmplitude:E,stop:S,impulse:A,cancel:_};function b(e){g=e}function E(){return g}function _(){m(a),m(d)}function T(){n=e(),s=l=o=u=c=0,i=new Date,m(a),m(d),a=v(w)}function w(){var t=Date.now(),r=t-i;i=t;var s=e(),l=s.x-n.x,f=s.y-n.y,d=(s.z||0)-n.z;n=s;var h=1e3/(1+r);o=.8*l*h+.2*o,u=.8*f*h+.2*u,c=.8*d*h+.2*c,a=v(w)}function S(){a&&(m(a),a=0,m(d),d=0,A(o,u,c))}function A(e,t,r){i=Date.now(),(e<-p||e>p)&&(s=g*e),(t<-p||t>p)&&(l=g*t),(r<-p||r>p)&&(f=g*r),d=v(R)}function R(){var r=Date.now()-i,n=!1,a=0,o=0,u=0,c=Math.exp(-r/y);if(s&&(a=s*c,a>h||a<-h?n=!0:a=s=0),l&&(o=l*c,o>h||o<-h?n=!0:o=l=0),f&&(u=f*c,u>h||u<-h?n=!0:u=f=0),n){var p=e();t(p.x+a,p.y+o,p.z+u),d=v(R)}}}function je(){return"function"===typeof cancelAnimationFrame?cancelAnimationFrame:clearTimeout}function Be(){return"function"===typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(e,16)}}Ce.makeAggregateRaf=De,Ce.sharedScheduler=Ne;var Ue=function(e){this.x=e.clientX,this.y=e.clientY,this.lastX=this.x,this.lastY=this.y,this.id=e.identifier,this.createdAt=Date.now()};Ue.prototype.move=function(e){this.lastX=this.x,this.lastY=this.y,this.x=e.clientX,this.y=e.clientY};var qe=0,Ge=1,Ve=2,He=3,Ye=function(e){this.allowRotation=e,this.state=qe,this.canRotate=!1,this.canScale=!1,this.canIncline=!1,this.first=void 0,this.second=void 0,this.stateChanged=!1};function ze(e,t){var r,n=!1,i=new Map,a=t.allowRotation,o=t.allowPinchRotation,s=t.panAnimation,u=t.rotateAnimation,l=new Ye(o&&a),c=Date.now(),f=c;return h(),{dispose:d};function d(){e.removeEventListener("touchstart",p,{passive:!1}),y()}function h(){e.addEventListener("touchstart",p,{passive:!1})}function p(e){n||(v(),n=!0),s.cancel(),u.cancel(),1===e.touches.length&&s.start();for(var t=0;t<e.touches.length;++t){var r=e.touches[t];i.has(r.identifier)||i.set(r.identifier,new Ue(r))}e.stopPropagation(),e.preventDefault()}function g(e){for(var r,n,a=Date.now(),o=0,d=0,h=0,p=0,g=!1,m=e.touches,v=0;v<m.length;++v){var y=m[v],b=i.get(y.identifier);b&&(b.move(y),h+=b.x,p+=b.y,o+=b.x-b.lastX,d+=b.y-b.lastY,r?n||(n=b):r=b)}var E=m.length;if(o/=E,d/=E,h/=E,p/=E,n||l.reset(),r&&n){f=a;var _=n.x-r.x,T=n.y-r.y,w=n.lastX-r.lastX,S=n.lastY-r.lastY,A=Math.hypot(_,T)/Math.hypot(w,S)-1,R=Math.atan2(T,_)-Math.atan2(S,w);if(l.track(r,n),l.stateChanged&&(u.start(),s.cancel()),l.canScale&&(t.zoomToClientCoordinates(h,p,A),g=!0),l.canRotate&&(t.rotateByAngle(R,0),g=!0),l.canIncline){var I=n.y-n.lastY+r.y-r.lastY;t.rotateByAbsoluteOffset(0,I),g=!0}e.preventDefault(),e.stopPropagation()}var C=a-c,D=l.canIncline||C<300||e.touches.length>1&&l.isUnknown();0===o&&0===d||D||(t.panByAbsoluteOffset(o,d),g=!0),g&&t.redraw()}function m(e){var a=Date.now(),o=a-c;c=a;for(var d=e.changedTouches,h=0;h<d.length;++h){var p=d[h];i.delete(p.identifier)}if(e.touches.length<2&&(l.reset(),u.stop(),s.stop()),0===e.touches.length&&i.clear(),0===i.size&&1===e.changedTouches.length){if(n=!1,y(),s.stop(),o<350&&a-f>350){var g=e.changedTouches[0],m=Math.abs(g.clientX-r.clientX),v=Math.abs(g.clientY-r.clientY);Math.hypot(m,v)<30&&t.zoomToClientCoordinates(r.clientX,r.clientY,.5,!0)}r=e.changedTouches[0]}}function v(){document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("touchend",m,{passive:!1}),document.addEventListener("touchcancel ",m,{passive:!1})}function y(){document.removeEventListener("touchmove",g),document.removeEventListener("touchend",m),document.removeEventListener("touchcancel ",m)}}function Ke(e,t,r){var n=e*Math.cos(t),i=e*Math.sin(t)*Math.cos(r),a=e*Math.sin(t)*Math.sin(r);return[i,a,n]}function We(e,t,r){return e<t&&(e=t),e>r&&(e=r),e}function $e(e,t){return void 0===e?t:e}function Xe(e,t,r){return Math.abs(e)<t?r:e}function Qe(e,t){var r=0,n=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,d=0,h=0,p=0;return g(),{dispose:m};function g(){e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),e.addEventListener("keydown",b),e.addEventListener("keyup",E)}function m(){e.removeEventListener("keydown",b),e.removeEventListener("keyup",E),cancelAnimationFrame(r)}function v(){r=0;var e=.9,g=!1;if(o=Xe(o*e+n,.5,0),s=Xe(s*e+i,.5,0),u=Xe(u*e+a,.5,0),(o||s)&&(t.panByAbsoluteOffset(o,s),g=!0),u&&(t.slideCenterUpDown(u),g=!0),l=Xe(l*e+c/2,Math.PI/360,0),h=Xe(h*e+p/6,Math.PI/360,0),(l||h)&&(t.rotateByAbsoluteOffset(l,h),g=!0),f=Xe(.7*f+d,.5,0),f){var m=.025*Math.sign(f);t.zoomCenterByScaleFactor(m,0,0),g=!0}g&&(t.redraw(),y())}function y(){r||(r=requestAnimationFrame(v))}function b(e){_(e,1)}function E(e){_(e,0)}function _(e,t){if(!Ze(e)){switch(e.which){case 81:c=-t;break;case 69:c=t;break;case 187:d=t;break;case 189:d=-t;break;case 82:p=t;break;case 70:p=-t;break;case 37:case 65:n=t;break;case 39:case 68:n=-t;break;case 38:case 87:i=t;break;case 40:case 83:i=-t;break;case 71:a=-t;break;case 84:a=t;break}y()}}}function Ze(e){return e.altKey||e.ctrlKey||e.metaKey}function Je(e,t){var r,n,i,a=t.allowRotation,o=t.panAnimation,s=t.rotateAnimation;return e.addEventListener("wheel",h,{passive:!1}),e.addEventListener("mousedown",l,{passive:!1}),e.addEventListener("dblclick",d,{passive:!1}),{dispose:u};function u(){e.removeEventListener("wheel",h,{passive:!1}),e.removeEventListener("mousedown",l,{passive:!1}),e.removeEventListener("dblclick",d,{passive:!1}),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f)}function l(e){var t=1===e.button&&null!==window.event||0===e.button;t&&(document.addEventListener("mousemove",c),document.addEventListener("mouseup",f),r=e.clientX,n=e.clientY,i=e.altKey&&a,o.cancel(),s.cancel(),i?s.start():o.start())}function c(e){var a=e.clientY-n,o=e.clientX-r;i?t.rotateByAbsoluteOffset(o,a):t.panByAbsoluteOffset(o,a),r=e.clientX,n=e.clientY,t.redraw()}function f(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f),i?s.stop():o.stop()}function d(e){t.zoomToClientCoordinates(e.clientX,e.clientY,.5,!0),e.preventDefault(),e.stopPropagation()}function h(e){var r=e.deltaMode>0?100:1,n=p(-e.deltaY*r);t.zoomToClientCoordinates(e.clientX,e.clientY,n),e.preventDefault()}function p(e){return Math.sign(e)*Math.min(.25,Math.abs(e/128))}}function et(e,t){if("string"===typeof e){var r=document.querySelector(e);if(!r)throw new Error("Cannot resolve input target element: "+e);return r}return e||t}Ye.prototype.reset=function(){this.state=qe,this.canRotate=!1,this.canScale=!1,this.canIncline=!1,this.first=void 0,this.second=void 0},Ye.prototype.isUnknown=function(){return this.state===qe},Ye.prototype.track=function(e,t){if(this.stateChanged=!1,this.state===qe){if(!this.first||!this.second)return this.first={id:e.id,x:e.x,y:e.y},void(this.second={id:t.id,x:t.x,y:t.y});var r=this.first,n=this.second;if(e.id===n.id&&t.id===r.id){var i=r;r=n,n=i}var a=r.y-n.y,o=r.x-n.x,s=e.y-t.y,u=e.x-t.x,l=Math.abs(Math.hypot(a,o)-Math.hypot(s,u)),c=Math.atan2(a,o),f=Math.abs(c-Math.atan2(s,u));c=180*Math.abs(c)/Math.PI;var d=60,h=c<d||180-c<d;if(h&&this.allowRotation&&Math.abs(e.createdAt-t.createdAt)<100){var p=e.x-r.x+t.x-n.x,g=e.y-r.y+t.y-n.y;Math.abs(p)<10&&Math.abs(g)>42&&(this.canIncline=!0)}this.canIncline?(this.canRotate=!1,this.canScale=!1,this.canIncline=!0,this.state=He):f>.1&&this.allowRotation?(this.canRotate=!0,this.canScale=!0,this.canIncline=!1,this.state=Ve):l>15&&(this.canRotate=!1,this.canScale=!0,this.canIncline=!1,this.state=Ge),this.stateChanged=!0}};var tt=function(e){this.drawContext=e.getDrawContext(),this.updated=!1};function rt(e){var t=e.getDrawContext(),r=t.view,n=2*Math.PI,i=1.618*Math.PI,a=new tt(e),o=e.getOptions()||{},s=void 0===o.allowRotation||!!o.allowRotation,u=void 0===o.allowPinchRotation?s:!!o.allowPinchRotation,l=$e(o.minPhi,-1/0),c=$e(o.maxPhi,1/0),f=We(-Math.PI/2,l,c),d=$e(o.minTheta,0),h=$e(o.maxTheta,Math.PI),p=We(0,d,h),g=$e(o.minZoom,-1/0),m=$e(o.maxZoom,1/0),v=We(1,g,m),y=r.center,b=r.position,E=Fe(Y,W),_=Fe(z,K,{minVelocity:1}),T=[0,0,1],S={dispose:x,setViewBox:N,panByAbsoluteOffset:U,slideCenterUpDown:H,rotateByAngle:j,rotateByAbsoluteOffset:B,zoomCenterByScaleFactor:$,zoomToClientCoordinates:G,redraw:X,allowRotation:s,allowPinchRotation:u,rotateAnimation:_,panAnimation:E},A=et(o.inputTarget,t.canvas),I=Qe(A,S),C=ze(A,S),D=Je(A,S);return X(),S;function N(){return b=r.position,v=Math.hypot(b[2]),y[0]=b[0],y[1]=b[1],y[2]=0,p=We(0,d,h),f=We(-Math.PI/2,l,c),X(),S}function x(){_.cancel(),E.cancel(),C.dispose(),I.dispose(),D.dispose()}function P(t,r){var n=e.getSceneCoordinate(t,r),i=q(n,n,b);k(i,i);var a=F(T,i);if(Math.abs(a)>1e-7){var o=F(q([0,0,0],y,b),T)/a;return L([0,0,0],b,i,o)}}function j(e,t){f=We(f+e,l,c),p=We(p+t,d,h)}function B(e,r){if(s){var a=t.width/t.height;f-=n*e/t.width,p-=i*r/t.height*a,p=We(p,d,h),f=We(f,l,c)}}function U(e,r){var n=t.width/t.height,i=2*v*Math.tan(t.fov/2),a=n*i*e/(t.width/t.pixelRatio),o=i*r/(t.height/t.pixelRatio);V(a,-o)}function G(e,t,r,n){var i=P(e,t);if(i){var a=i[0]-y[0],o=i[1]-y[1];if(n){var s={r:v,x:y[0],y:y[1]},u={r:We(v*(1-r),g,m),x:s.x+a*r,y:s.y+o*r};Ce(s,u,{step:function(e){v=e.r,y[0]=e.x,y[1]=e.y,X()}})}else $(r,a,o),X()}}function V(e,t){var r=Math.cos(f),n=Math.sin(f);y[0]+=r*t+n*e,y[1]+=n*t-r*e}function H(e){y[2]+=e*v*.001}function Y(){return{x:y[0],y:y[1],z:y[2]}}function z(){return{x:f,y:p,z:0}}function K(e,t){p=We(t,d,h),f=We(e,l,c),X()}function W(e,t,r){M(y,e,t,r),X()}function $(e,t,r){var n=We(v*(1-e),g,m);n!==v&&(v=n,y[0]+=t*e,y[1]+=r*e)}function X(){var t=Ke(v,p,f),n=Math.hypot(v,1),i=p-Math.acos(v/n),o=Ke(n,i,f);q(o,o,t),M(b,t[0],t[1],t[2]),O(b,b,y),R(r.cameraWorld,b,y,o),w(r.orientation,r.cameraWorld),r.update(),a.updated=!1,e.fire("transform",a),a.updated?X():(e.getRoot().scheduleMVPUpdate(),e.renderFrame())}}function nt(e,t){var r,i;void 0===t&&(t={});var a=t.devicePixelRatio||window.devicePixelRatio,o=t.wglContextOptions,s=e.getContext(2===t.version?"webgl2":"webgl",o)||e.getContext("experimental-webgl",o);s.enable(s.BLEND),s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var u,l=0,f=new ne,p=!1,g=!1,m=et(t.inputTarget,e),v=new ce,y=c(),b=c(),E=void 0===t.fov?45*Math.PI/180:t.fov,_=void 0===t.near?.01:t.near,T=void 0===t.far?1/0:t.far,w={width:window.innerWidth,height:window.innerHeight,pixelRatio:a,canvas:e,projection:y,inverseProjection:b,view:v,fov:E};W();var S=n({appendChild:oe,getSceneCoordinate:Q,getClientCoordinate:Z,getTransform:U,getRoot:P,getGL:O,removeChild:se,setViewBox:J,setClearColor:G,getClearColor:V,clear:ie,dispose:Y,renderFrame:te,getPixelRatio:D,setPixelRatio:M,getCameraController:j,setCameraController:F,getDrawContext:N,getOptions:x}),R=S.on;S.on=ue,f.bindScene(S);var I,C=(t.controls||rt)(S);return H(),te(),S;function D(){return a}function N(){return w}function x(){return t}function M(e){a=e,w.pixelRatio=a,W()}function O(){return s}function P(){return f}function F(e){return C&&C.dispose(),C=e(S,w),C}function j(){return C}function U(){return f.model}function G(e,t,r,n){s.clearColor(e,t,r,n)}function V(){return s.getParameter(s.COLOR_CLEAR_VALUE)}function H(){m.addEventListener("mousemove",X),I=ae(m,$),window.addEventListener("resize",z,!0)}function Y(){m.removeEventListener("mousemove",X),I&&I(),window.removeEventListener("resize",z,!0),C.dispose(),f.dispose(),l&&(cancelAnimationFrame(l),l=0)}function z(){W()}function W(){t.size?(r=e.width=t.size.width,i=e.height=t.size.height):(r=e.width=e.offsetWidth*a,i=e.height=e.offsetHeight*a),u=e.getBoundingClientRect(),s.viewport(0,0,r,i),w.width=r,w.height=i,f.worldTransformNeedsUpdate=!0,A(y,E,r/i,_,T),d(b,y),te()}function $(e){if(p){var t=Q(e.clientX,e.clientY);t&&S.fire("click",{originalEvent:e,x:t[0],y:t[1],z:t[2]})}}function X(e){if(g){var t=Q(e.clientX,e.clientY);t&&S.fire("mousemove",{originalEvent:e,x:t[0],y:t[1],z:t[2]})}}function Q(e,t){e-=u.left,t-=u.top;var n=S.getPixelRatio(),a=n*e/r*2-1,o=2*(1-n*t/i)-1,s=[0,0,0],l=B(s,[a,o,0],b);B(l,l,v.cameraWorld),q(l,l,v.position),k(l,l);var c=0,f=(c-v.position[2])/l[2];return l[2],L(l,v.position,l,f),l}function Z(e,t,n){void 0===n&&(n=0);var a=h(c(),y,v.matrix);h(a,a,f.model);var o=K([0,0,0,0],[e,t,n,1],a),s=S.getPixelRatio(),u=r*(o[0]/o[3]+1)*.5/s,l=i*(1-.5*(o[1]/o[3]+1))/s;return{x:u,y:l}}function J(e){var t=w.pixelRatio,r=t*Math.max((e.top-e.bottom)/2,(e.right-e.left)/2),n=w.view,i=n.position,a=n.orientation;i[0]=(e.left+e.right)/2,i[1]=(e.top+e.bottom)/2,i[2]=r/Math.tan(w.fov/2),ee(a,0,0,0,1),w.view.update(),C.setViewBox&&C.setViewBox(e)}function te(e){if(void 0===e&&(e=!1),e)return re();l||(l=requestAnimationFrame(re))}function re(){s.clear(s.COLOR_BUFFER_BIT),f.updateWorldTransform(),f.draw(s,w),l=0}function ie(){s.clear(s.COLOR_BUFFER_BIT)}function oe(e,t){void 0===t&&(t=!1),f.appendChild(e,t),S.fire("append-child",e)}function se(e){f.removeChild(e),S.fire("remove-child",e)}function ue(e,t,r){return"click"===e&&(p=!0),"mousemove"===e&&(g=!0),R(e,t,r)}}u(Float64Array);function it(){var e=new Map;return{get:t,set:r,remove:n};function t(t){if(t){for(var r,n=e,i=0;i<t.length;++i){var a=t[i];if(r=n.get(a),!r)return;n=r}return r}}function r(t,r){for(var n=e,i=0;i<t.length-1;++i){var a=t[i],o=n.get(a);o||(o=new Map,n.set(a,o)),n=o}n.set(t[t.length-1],r)}function n(t){for(var r=e,n=0;n<t.length-1;++n){var i=t[n],a=r.get(i);if(!a)return;r=a}r.delete(t[t.length-1])}}it();var at=function(e,t,r){this.offset=t,this._points=e,void 0!==r&&(this.data=r)};at.prototype.update=function(e){var t=this.offset,r=this._points.positions,n=this._points.is3D;r[t]=e.x,t++,r[t]=e.y,t++,n&&(r[t]=e.z||0,t++);var i=e.size||this._points.size||1;void 0!==i&&(r[t]=i),this.setColor(e.color)},at.prototype.setColor=function(e){if(this._points.colors&&void 0!==e){var t=this.offset+(this._points.is3D?4:3);this._points.colors[t]=e}};it();it();var ot=function(e,t){this.offset=t,this._wire=e,this.update=e.is3D?this.update3D:this.update2D};function st(e){var t=Math.round(255*e.r),r=Math.round(255*e.g),n=Math.round(255*e.b),i=Math.round(255*e.a);return t<<24|r<<16|n<<8|i}ot.prototype.update2D=function(e,t){this._wire.isDirtyBuffer=!0;var r=this._wire.positions,n=this.offset;r[n+0]=e.x,r[n+1]=e.y,n+=2;var i=this._wire.allowColors;i&&(void 0!==e.color&&(this._wire.colors[n]=e.color),n+=1),r[n+0]=t.x,r[n+1]=t.y,i&&void 0!==t.color&&(this._wire.colors[n+2]=t.color)},ot.prototype.update3D=function(e,t){this._wire.isDirtyBuffer=!0;var r=this._wire.positions,n=this.offset;r[n+0]=e.x,r[n+1]=e.y,r[n+2]=e.z||0,n+=3;var i=this._wire.allowColors;i&&(void 0!==e.color?this._wire.colors[n]=e.color:this._wire.colors[n]=st(this._wire.color),n+=1),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z||0,i&&(void 0!==t.color?this._wire.colors[n+3]=t.color:this._wire.colors[n+3]=st(this._wire.color))};it();function ut(e){try{return!!window.WebGLRenderingContext&&(e||(e=document.createElement("canvas")),!(!e.getContext("webgl")&&!e.getContext("experimental-webgl")))}catch(t){return!1}}var lt=.5*Math.PI/180,ct=[0,0,-1];function ft(e,t,r,n){r||(r=Function.prototype),e.addEventListener("touchstart",m),e.addEventListener("touchend",v);var i="deviceorientationabsolute";window.addEventListener("orientationchange",h);var a=!0,o=[0,0,0,1],s=[0,0,0,1],u=[0,0,0,1];h();var l={isEnabled:!1,isAbsolute:!0,useCurrentOrientation:f,dispose:g,enable:c};return l;function c(e){l.isEnabled=e,l.isEnabled?void 0!==window.DeviceOrientationEvent&&void 0!==window.DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e?(i="deviceorientation",window.addEventListener(i,d)):l.isEnabled=!1,n&&n.fire("device-orientation",l.isEnabled)})).catch((function(e){l.isEnabled=!1,n&&n.fire("device-orientation",l.isEnabled)})):window.addEventListener(i,d):(m(),n&&n.fire("device-orientation",l.isEnabled))}function f(){a=!0}function d(e){var n=e.alpha,c=e.beta,f=e.gamma;if(e.absolute&&null===n&&null===c&&null===f)return window.removeEventListener("deviceorientationabsolute",d),window.addEventListener("deviceorientation",d),i="deviceorientation",void(l.isAbsolute=!1);if(p(n,c,f),a){a=!1;var h=U([0,0,0],ct,s),g=U([0,0,0],ct,t),m=h[0]*g[0]+h[1]*g[1],v=Math.sqrt(h[0]*h[0]+h[1]*h[1]),y=Math.sqrt(g[0]*g[0]+g[1]*g[1]),b=Math.acos(m/(v*y))/2,E=Math.sign(h[0]*g[1]-h[1]*g[0]);o[2]=E*Math.sin(b),o[3]=Math.cos(b)}te(s,s,u),te(t,o,s),r()}function h(){var e=window.orientation||0,t=-e*lt;u[2]=Math.sin(t),u[3]=Math.cos(t)}function p(e,t,r){var n=t?t*lt:0,i=r?r*lt:0,a=e?e*lt:0,o=Math.cos(n),u=Math.cos(i),l=Math.cos(a),c=Math.sin(n),f=Math.sin(i),d=Math.sin(a);s[0]=c*u*l-o*f*d,s[1]=o*f*l+c*u*d,s[2]=o*u*d+c*f*l,s[3]=o*u*l-c*f*d}function g(){e.removeEventListener("touchstart",m),e.removeEventListener("touchend",v),window.removeEventListener("deviceorientationabsolute",d),window.removeEventListener("deviceorientation",d),window.removeEventListener("orientationchange",h)}function m(e){a||(a=!0,e&&e.preventDefault(),window.removeEventListener(i,d))}function v(e){e.touches.length||(a=!0,l.isEnabled&&(window.removeEventListener(i,d),window.addEventListener(i,d)))}}var dt=[0,0,-1],ht={MOVE_FORWARD:1,MOVE_BACKWARD:2,MOVE_LEFT:3,MOVE_RIGHT:4,MOVE_UP:5,MOVE_DOWN:6,TURN_LEFT:7,TURN_RIGHT:8,TURN_UP:9,TURN_DOWN:10};function pt(e){var t,r,i=e.getDrawContext(),a=i.view,o=a.position,s=a.center,u=e.getOptions()||{},l=[0,0,1],c=Math.PI,f=1.618*Math.PI,h=$e(u.captureMouse,!1),p=[0,0,0,1],g=0,m=[0,0,0,1],v=[0,0,0,1],y=[0,0,0],b=0,E=0,_=0,T=et(u.inputTarget,i.canvas);T.style.outline="none",T.getAttribute("tabindex")||T.setAttribute("tabindex","0"),T.addEventListener("keydown",re),T.addEventListener("keyup",ne),T.addEventListener("mousedown",ie),T.addEventListener("touchmove",ue),T.addEventListener("touchstart",ae),T.addEventListener("wheel",oe),document.addEventListener("pointerlockchange",fe,!1);var S=new tt(e),A=0,C=0,N=0,x=0,O=0,P=0,L=0,F=0,j=0,G=0,V=0,H={};H[ht.MOVE_FORWARD]=!1,H[ht.MOVE_BACKWARD]=!1,H[ht.MOVE_LEFT]=!1,H[ht.MOVE_RIGHT]=!1,H[ht.MOVE_UP]=!1,H[ht.MOVE_DOWN]=!1,H[ht.TURN_LEFT]=!1,H[ht.TURN_RIGHT]=!1,H[ht.TURN_UP]=!1,H[ht.TURN_DOWN]=!1;var Y=.01,z=3,K=.01,W={dispose:Ie,handleCommand:ye,setViewBox:Ee,getUpVector:we,lookAt:Te,enableMouseCapture:pe,enableDeviceOrientation:ge,isDeviceOrientationEnabled:me,setRotationSpeed:function(e){return c=e,W},setMoveSpeed:function(e){return Y=e,W},setScrollSpeed:function(e){return z=e,W},setFlySpeed:function(e){return K=e,W},setSpeed:function(e){return Y=e,K=e,W},getRotationSpeed:function(){return c},getMoveSpeed:function(){return Y},getScrollSpeed:function(){return z},getFlySpeed:function(){return K},getKeymap:function(){return X},getMouseCapture:function(){return h}},X={87:ht.MOVE_FORWARD,65:ht.MOVE_LEFT,83:ht.MOVE_BACKWARD,68:ht.MOVE_RIGHT,81:ht.TURN_LEFT,37:ht.TURN_LEFT,69:ht.TURN_RIGHT,39:ht.TURN_RIGHT,38:ht.TURN_UP,40:ht.TURN_DOWN,16:ht.MOVE_DOWN,32:ht.MOVE_UP};n(W);var Z=ft(T,a.orientation,Se,W);return $e(u.useDeviceOrientation,!0)&&Z.enable(!0),W;function re(e){ve(e,1)}function ne(e){ve(e,0)}function ie(e){1===e.which&&(document.pointerLockElement?document.exitPointerLock():h?T.requestPointerLock():(T.focus(),document.addEventListener("mousemove",le),document.addEventListener("mouseup",ce),t=e.clientX,r=e.clientY,e.preventDefault()))}function ae(e){1===e.touches.length&&(t=e.touches[0].clientX,r=e.touches[0].clientY)}function oe(e){e.preventDefault();var t=e.deltaMode>0?100:1,r=z*se(-e.deltaY*t),n=+new Date,u=e.clientX,l=e.clientY;if(document.pointerLockElement&&(u=i.width/(2*i.pixelRatio),l=i.height/(2*i.pixelRatio)),document.pointerLockElement||n-b>200||Math.hypot(u-E,l-_)>20){var c=[0,0,-1];c[0]=2*(u*i.pixelRatio/i.width-.5),c[1]=2*(1-l*i.pixelRatio/i.height-.5),B(c,c,I([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i.view.cameraWorld,i.inverseProjection)),y=q([0,0,0],c,a.position),k(y,y);var f=D(s);m=J(a.orientation),Te(o,c),v=J(a.orientation),Te(o,f),E=u,_=l,g=0,b=n}g<1&&(Q(p,m,v,g),ee(a.orientation,p[0],p[1],p[2],p[3]),g+=.01),o[0]+=Y*r*y[0],o[1]+=Y*r*y[1],o[2]+=Y*r*y[2],Se(),e.preventDefault()}function se(e){return Math.sign(e)*Math.min(.25,Math.abs(e/128))}function ue(e){if(1===e.touches.length){var n=e.touches[0].clientY-r,i=e.touches[0].clientX-t;he(-i,n),t=e.touches[0].clientX,r=e.touches[0].clientY,e.preventDefault()}}function le(e){var n=e.clientY-r,i=e.clientX-t;he(-i,n),t=e.clientX,r=e.clientY,e.preventDefault()}function ce(e){document.removeEventListener("mousemove",le),document.removeEventListener("mouseup",ce)}function fe(e){document.pointerLockElement?document.addEventListener("mousemove",de,!1):(document.removeEventListener("mousemove",de,!1),F=0,G=0),W.fire("pointer-locked",document.pointerLockElement)}function de(e){he(e.movementX,-e.movementY)}function he(e,t){var r=c*e/i.width,n=f*t/i.height;Ae(r,n),Se()}function pe(e){return h=e,W.fire("mouse-capture",e),W}function ge(e){Z.enable(e)}function me(){return Z.isEnabled}function ve(e,t){if(gt(e))x=0;else{var r=X[e.which];r&&ye(r,t)}}function ye(e,t){switch(e){case ht.MOVE_FORWARD:N=t;break;case ht.MOVE_BACKWARD:N=-t;break;case ht.MOVE_LEFT:C=t;break;case ht.MOVE_RIGHT:C=-t;break;case ht.MOVE_UP:x=t;break;case ht.MOVE_DOWN:x=-t;break;case ht.TURN_LEFT:j=-t;break;case ht.TURN_RIGHT:j=t;break;case ht.TURN_UP:V=t;break;case ht.TURN_DOWN:V=-t;break;default:throw new Error("Unknown command "+e)}be()}function be(){A||(A=requestAnimationFrame(_e))}function Ee(t){var r=e.getPixelRatio(),n=r*Math.max((t.top-t.bottom)/2,(t.right-t.left)/2),a=(t.left+t.right)/2,o=(t.top+t.bottom)/2,s=n/Math.tan(i.fov/2);return Te([a,o,s],[a,o,0]),W}function _e(){A=0;var e=.9,t=!1;O=Xe(O*e+C,.5,0),P=Xe(P*e+N,.5,0),L=Xe(L*e+x,.5,0),F=Xe(F*e+j/2,Math.PI/360,0),G=Xe(G*e+V/6,Math.PI/360,0),(O||P)&&(Re(O*Y,P*Y),t=!0),L&&(o[2]+=L*K,t=!0),(G||F)&&(Ae(.01*F,.01*G),t=!0),t&&(Se(),be()),H[ht.MOVE_LEFT]=O>0,H[ht.MOVE_RIGHT]=O<0,H[ht.MOVE_FORWARD]=P>0,H[ht.MOVE_BACKWARD]=P<0,H[ht.MOVE_UP]=L>0,H[ht.MOVE_DOWN]=L<0,H[ht.TURN_LEFT]=F<0,H[ht.TURN_RIGHT]=F>0,W.fire("move",H)}function Te(e,t){return M(o,e[0],e[1],e[2]),M(s,t[0],t[1],t[2]),R(a.cameraWorld,o,s,l),w(a.orientation,a.cameraWorld),d(a.matrix,a.cameraWorld),Se(),W}function we(){return l}function Se(){a.update(),B(s,dt,a.cameraWorld),S.updated=!1,e.fire("transform",S),S.updated?Se():(e.getRoot().scheduleMVPUpdate(),e.renderFrame())}function Ae(e,t){e&&(te(a.orientation,$([0,0,0,0],dt,e),a.orientation),Z.useCurrentOrientation()),t&&te(a.orientation,a.orientation,$([0,0,0,0],[1,0,0],t))}function Re(e,t){var r=U([0,0,0],[-e,0,-t],a.orientation);o[0]+=r[0],o[1]+=r[1]}function Ie(){cancelAnimationFrame(A),A=0,T.removeEventListener("keydown",re),T.removeEventListener("keyup",ne),T.removeEventListener("mousedown",ie),T.removeEventListener("touchmove",ue),T.removeEventListener("touchstart",ae),T.removeEventListener("wheel",oe),document.removeEventListener("mousemove",de,!1),document.removeEventListener("pointerlockchange",fe,!1),document.removeEventListener("mousemove",le),document.removeEventListener("mouseup",ce),Z.dispose()}}function gt(e){return e.altKey||e.ctrlKey||e.metaKey}function mt(e,t){var r="navigation-controls",n=document.createElement("div");n.classList.add(r),n.innerHTML=vt();var i=document.createElement("style");i.appendChild(document.createTextNode(bt(r))),document.querySelector("head").appendChild(i),e.appendChild(n);var a=Array.from(n.querySelectorAll("a.navigation-btn")),o=a.map(c),s=n.querySelector("#capture-mouse");t.getMouseCapture()&&(s.checked=!0),s.addEventListener("change",f);var u=n.querySelector("#device-orientation");return u&&(u.checked=t.isDeviceOrientationEnabled(),u.addEventListener("change",h)),t.on("move",g),t.on("mouse-capture",d),t.on("device-orientation",p),t.on("pointer-locked",l),{dispose:v};function l(e){var t=n.querySelector(".cross");t&&(t.style.display=e?"block":"none")}function c(e){var r=m(e);return Et(e,(function(e){t.handleCommand(r,e?1:0)}))}function f(e){t.enableMouseCapture(s.checked)}function d(e){s.checked=e}function h(){t.enableDeviceOrientation(u.checked)}function p(e){u&&(u.checked=e)}function g(e){a.forEach((function(t){e[m(t)]?t.classList.add("down"):t.classList.remove("down")}))}function m(e){return Number.parseInt(e.getAttribute("data-command"),10)}function v(){t.off("move",g),t.off("mouse-capture",d),t.off("device-orientation",p),t.off("pointer-locked",l),o.forEach((function(e){return e()})),n.parentElement&&n.parentElement.removeChild(n),i.parentElement&&i.parentElement.removeChild(i)}}function vt(){return"\n  <div class='navigation-row padded'>\n    <div class='item'>\n      <a href=\"#\" class='navigation-btn secondary' data-command='"+ht.TURN_LEFT+"'>\n        <svg viewBox=\"0 0 1024 1024\">\n        <path d=\"m884.6 622.6v192c0 11.333-3.834 20.833-11.5 28.5-7.667 7.666-17 11.5-28 11.5s-20.5-3.834-28.5-11.5c-8-7.667-12-17.167-12-28.5v-192c0-61.334-21.667-113.67-65-157-43.334-43.334-95.667-65-157-65h-340l113 112c7.333 8 11 17.5 11 28.5s-3.834 20.333-11.5 28c-7.667 7.666-17 11.5-28 11.5s-20.5-4-28.5-12l-178-178c-8-8-12-17.5-12-28.5s4-20.5 12-28.5l183-183c8-8 17.5-12 28.5-12s20.5 3.833 28.5 11.5c8 7.666 12 17 12 28s-4 20.5-12 28.5l-114 114h336c83.333 0 154.5 29.5 213.5 88.5s88.5 130.17 88.5 213.5z\"/>\n        </svg>\n        <div class='nav-key-legend'>Q</div>\n      </a>\n    </div>\n    <a href='#' class='item navigation-btn' data-command='"+ht.MOVE_FORWARD+"'>\n      <svg viewBox=\"0 0 100 100\"><path d=\"M10,80 50,30 90,80z\"></path></svg>\n      <div class='nav-key-legend'>W</div>\n    </a>\n    <a href=\"#\" class='item navigation-btn secondary' data-command='"+ht.TURN_RIGHT+"'>\n      <svg viewBox=\"0 0 1024 1024\">\n        <path d=\"m108.6 622.6v192c0 11.333 3.833 20.833 11.5 28.5 7.666 7.666 17 11.5 28 11.5s20.5-3.834 28.5-11.5c8-7.667 12-17.167 12-28.5v-192c0-61.334 21.666-113.67 65-157 43.333-43.334 95.666-65 157-65h340l-113 112c-7.334 8-11 17.5-11 28.5s3.833 20.333 11.5 28c7.666 7.666 17 11.5 28 11.5s20.5-4 28.5-12l178-178c8-8 12-17.5 12-28.5s-4-20.5-12-28.5l-183-183c-8-8-17.5-12-28.5-12s-20.5 3.833-28.5 11.5c-8 7.666-12 17-12 28s4 20.5 12 28.5l114 114h-336c-83.334 0-154.5 29.5-213.5 88.5s-88.5 130.17-88.5 213.5z\"/>\n      </svg>\n      <div class='nav-key-legend'>E</div>\n    </a>\n  </div>\n  <div class='navigation-row padded'>\n    <a href='#' class='item navigation-btn' data-command='"+ht.MOVE_LEFT+"'>\n      <svg viewBox=\"0 0 100 100\" ><path d=\"M80,10 80,90 30,50z\"></path></svg>\n      <div class='nav-key-legend'>A</div>\n    </a>\n    <a href='#' class='item navigation-btn' data-command='"+ht.MOVE_BACKWARD+"'>\n      <svg viewBox=\"0 0 100 100\"><path d=\"M10,30 50,80 90,30z\"></path></svg>\n      <div class='nav-key-legend'>S</div>\n    </a>\n    <a href='#' class='item navigation-btn' data-command='"+ht.MOVE_RIGHT+"'>\n      <svg viewBox=\"0 0 100 100\" ><path d=\"M30,10 30,90 80,50z\"></path></svg>\n      <div class='nav-key-legend'>D</div>\n    </a>\n  </div>\n  <div class='navigation-row'>\n    <a href='#'  class='item navigation-btn wide' data-command='"+ht.MOVE_DOWN+'\'>\n      <svg width="100%" height="100%" viewBox="0 0 1024 1024">\n          <path d="M364,666L522,824C528,830 535.5,833 544.5,833C553.5,833 561,830 567,824L725,666C731.667,659.333 735,651.667 735,643C735,634.333 731.667,626.667 725,620C719,614 711.5,611 702.5,611C693.5,611 686,614 680,620L576,724L576,32C576,23.333 573,15.833 567,9.5C561,3.167 553.333,0 544,0C535.333,0 527.833,3.167 521.5,9.5C515.167,15.833 512,23.333 512,32L512,724L409,620C403,614 395.5,611 386.5,611C377.5,611 370,614 364,620C358,626.667 355,634.333 355,643C355,651.667 358,659.333 364,666ZM1024,992C1024,1000.67 1020.83,1008.17 1014.5,1014.5C1008.17,1020.83 1000.67,1024 992,1024L32,1024C23.333,1024 15.833,1020.83 9.5,1014.5C3.167,1008.17 0,1000.67 0,992C0,983.333 3.167,975.833 9.5,969.5C15.833,963.167 23.333,960 32,960L992,960C1000.67,960 1008.17,963.167 1014.5,969.5C1020.83,975.833 1024,983.333 1024,992Z" style="fill-rule:nonzero;"/>\n      </svg>\n      <div class=\'nav-key-legend\'>shift</div>\n    </a>\n    <a href=\'#\' class=\'item navigation-btn wide\' data-command=\''+ht.MOVE_UP+"'>\n      <svg viewBox=\"0 0 1024 1024\"><path d=\"M726 167L568 9q-9-9-22.5-9T523 9L365 167q-10 10-10 23t10 23q9 9 22.5 9t22.5-9l104-104v692q0 13 9 22.5t23 9.5q13 0 22.5-9.5T578 801V109l103 104q9 9 22.5 9t22.5-9q9-10 9-23t-9-23zm298 825q0 13-9.5 22.5T992 1024H32q-13 0-22.5-9.5T0 992t9.5-22.5T32 960h960q13 0 22.5 9.5t9.5 22.5z\"></path></svg>\n      <div class='nav-key-legend'>space</div>\n    </a>\n</div>\n  <div class='cursor-legend'>\n    <input type='checkbox' id='capture-mouse' name=\"capture-mouse\">\n    <label for='capture-mouse'>Capture mouse cursor</label>\n  </div>\n  "+yt()+"\n  <div class='cross'>+</div>\n</div>"}function yt(){return window.DeviceOrientationEvent&&"ontouchstart"in window?"<div class='device-orientation-legend'>\n    <input type='checkbox' id='device-orientation' name=\"device-orientation\">\n    <label for='device-orientation'>Use device orientation</label>\n  </div>":""}function bt(e){var t="."+e;return"\n"+t+" {\n  position: fixed;\n  bottom: 8px;\n  left: 8px;\n  font-family: 'Avenir', Helvetica, Arial, sans-serif\n}\n"+t+" * {\n  box-sizing: border-box;\n}\n"+t+" label {\n  color: white;\n}\n"+t+" .nav-key-legend {\n  text-align: center;\n  font-size: 14px;\n}\n"+t+" .navigation-row {\n  display: flex;\n}\n"+t+" .item {\n  width: 42px;\n  height: 42px;\n  margin: 2px;\n}\n"+t+" .navigation-btn {\n  background: rgba(0,0,0,0.2);\n  box-shadow: 0 2px 4px #000, 0 -1px 0 rgb(0 0 0 / 5%);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  text-decoration: none;\n  display: flex;\n  width: 42px;\n  flex-direction: column;\n  color: #cecece;\n}\n"+t+" .navigation-btn.down {\n  background: rgba(250,250,250,.2);\n}\n"+t+" .padded {\n  margin-left: 10px;\n}\n"+t+" .navigation-btn.secondary {\n  width: 42px;\n  height: 42px;\n  transform: scale(0.70);\n}\n\n"+t+" .navigation-btn.secondary svg {\n  padding: 4px;\n}\n"+t+" .navigation-btn.secondary .nav-key-legend {\n  color: #aaa;\n}\n"+t+" .navigation-btn.secondary.left {\n  transform-origin: right bottom;\n}\n"+t+" .navigation-btn.secondary.right {\n  transform-origin: left bottom;\n}\n"+t+" .navigation-btn.wide {\n  width: 75px;\n}\n"+t+" .navigation-btn svg {\n  fill: white;\n  padding-top: 4px;\n}\n"+t+" .cursor-legend {\n  margin-top: 8px;\n  display: none;\n}\n\n"+t+" .cross {\n  position: fixed;\n  pointer-events: none;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 68px;\n  color: white;\n  display: none;\n}\n@media (pointer: fine) {\n  "+t+" .cursor-legend {\n    display: block;\n  }\n}"}function Et(e,t,r){var n;return void 0===r&&(r=15),e.addEventListener("mousedown",a),e.addEventListener("touchstart",a),e.addEventListener("keydown",u),e.addEventListener("keyup",l),i;function i(){e.removeEventListener("mousedown",a),e.removeEventListener("touchstart",a),e.removeEventListener("keydown",u),e.removeEventListener("keyup",l),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",c),document.removeEventListener("touchcancel",c),clearTimeout(n)}function a(e){e.preventDefault(),document.addEventListener("mouseup",s),document.addEventListener("touchend",c),document.addEventListener("touchcancel",c),o()}function o(){t(1),n=setTimeout(o,r)}function s(){f()}function u(e){13===e.which&&(t(1),e.preventDefault())}function l(e){13===e.which&&(t(0),e.preventDefault())}function c(){f()}function f(){clearTimeout(n),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",c),document.removeEventListener("touchcancel",c),t(0)}}var _t={mat4:"uniformMatrix4fv",mat3:"uniformMatrix3fv",mat2:"uniformMatrix2fv",vec4:"uniform4fv",vec3:"uniform3fv",vec2:"uniform2fv",float:"uniform1f",bool:"uniform1i"},Tt=function(e,t){var r=_t[t];if(!r)throw new Error("Function name for uniform is required");this.name=e,this.functionName=r,this.location=this.name+"UniformLocation"};Tt.prototype.getInitBlockForDraw=function(){return"let "+this.location+" = gl.getUniformLocation(program, '"+this.name+"');"},Tt.prototype.getDraw=function(){return this.functionName.indexOf("Matrix")>-1?"gl."+this.functionName+"("+this.location+", false, uniforms."+this.name+");":"gl."+this.functionName+"("+this.location+", uniforms."+this.name+");"};var wt=function(e,t){void 0===t&&(t=0),this.name=e,this.offset=t,this.variableName=e+"Texture",this.ready=this.variableName+"Ready",this.location=this.name+"UniformLocation",this.isTexture=!0};wt.prototype.getInitBlockForDraw=function(){return"\n  let "+this.location+" = gl.getUniformLocation(program, '"+this.name+"');\n  let "+this.variableName+" = gl.createTexture();\n  let "+this.ready+" = false;\n"},wt.prototype.getTextureInitCanvasBlock=function(){return"\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n  gl.bindTexture(gl.TEXTURE_2D, "+this.variableName+");\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.bindTexture(gl.TEXTURE_2D, null);\n  "+this.ready+" = true"},wt.prototype.getDraw=function(){return"\n    gl.activeTexture(gl.TEXTURE"+this.offset+");\n    gl.bindTexture(gl.TEXTURE_2D, "+this.variableName+");\n    gl.uniform1i("+this.location+", "+this.offset+");\n"};var St=function(){this.type="gl.FLOAT",this.debug=!1,this.bufferViewType="Float32Array",this.count=1,this.name=void 0,this.bytePerElement=4};St.prototype.setName=function(e){this.name=e},St.prototype.getInitBlockForBuffer=function(e){this.ensureNameIsSet();var t=e?"let ":"";return""+t+this.name+"Array = new "+this.bufferViewType+"(buffer);"},St.prototype.getInitBlockForDraw=function(){this.ensureNameIsSet();var e=this,t=e.name;return"let "+t+"AttributeLocation = gl.getAttribLocation(program, '"+t+"');"},St.prototype.getAddBlock=function(e,t){throw new Error("Concrete types have to implement this")},St.prototype.getMoveBlock=function(e,t){throw new Error("Concrete type have to implement `getMoveBlock`")},St.prototype.getGetBlock=function(e){throw new Error("Concrete types have to implement `getGetBlock`")},St.prototype.getDivisor=function(e){this.ensureNameIsSet();var t=this.name+"AttributeLocation";return"if ("+t+" > -1) gle.vertexAttribDivisorANGLE("+t+", "+e+");"},St.prototype.getDraw=function(e,t){this.ensureNameIsSet();var r=this.name+"AttributeLocation";return"\n    gl.enableVertexAttribArray("+r+");\n    gl.vertexAttribPointer("+r+", "+this.count+", "+this.type+", false, "+e+", "+t+");"},St.prototype.ensureNameIsSet=function(){if(!this.name)throw new Error("You have to call setName() before using attributes")};var At=function(e){function t(t){e.call(this),this.count=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAddBlock=function(e,t){void 0===t&&(t="\n");var r=this.name,n=r+"Array",i=[];this.debug&&i.push("if (item."+r+" === undefined) throw new Error('Attribute \""+r+"\" is missing');\n");for(var a=0;a<this.count;++a){var o="item."+r+"["+a+"]";this.debug&&i.push("if ("+o+" === undefined) throw new Error('Attribute \""+r+'" is missing value at index '+a+"');\n"),i.push(n+"[index + "+(e+a)+"] = "+o+";")}return{code:i.join(t),offset:e+this.count}},t.prototype.getMoveBlock=function(e,t){void 0===t&&(t="\n");for(var r=this.name,n=r+"Array",i=[],a=0;a<this.count;++a)i.push(n+"[to + "+(e+a)+"] = "+n+"[from + "+(e+a)+"];");return i.join(t)},t.prototype.getGetBlock=function(e){for(var t=this.name+"Array",r=[],n=0;n<this.count;++n)r.push(t+"[index + "+(e+n)+"]");return this.name+": ["+r.join(", ")+"]"},t}(St),Rt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAddBlock=function(e){var t=this.name,r=t+"Array",n="";return this.debug&&(n="if (item."+t+" === undefined) throw new Error('Attribute \""+t+"\" is missing');"),n+=r+"[index + "+e+"] = item."+t+";",{code:n,offset:e+this.count}},t.prototype.getMoveBlock=function(e,t){void 0===t&&(t="\n");var r=this.name,n=r+"Array",i="";return i+=n+"[to + "+e+"] = "+n+"[from + "+e+"];"+t,i},t.prototype.getGetBlock=function(e){return this.name+": "+this.name+"Array[index + "+e+"]"},t}(St),It={vec4:function(){return new At(4)},vec3:function(){return new At(3)},vec2:function(){return new At(2)},float:function(){return new Rt}};function Ct(e,t){var r=[],n=[],i=Dt(e.vertex,e.fragment,t);i.attributes.forEach((function(t){var i=t.name,a=t.type,o=e.attributes&&e.attributes[i];if(o||"function"!==typeof It[a]||(o=It[a]()),!o)throw console.error("Unknown type "+a+" for "+i),new Error("Unknown type "+a+" for "+i);o.debug=e&&e.debug||!1,o.setName(i);var s=e.instanced&&e.instanced[i];s?(s.setTypeDefinition(o),n.push(s)):r.push(o)}));var a=[],o=0;i.uniforms.forEach((function(e){var t=e.name;"sampler2D"===e.type?a.push(new wt(t,o++)):a.push(new Tt(t,e.type))}));var s=0,u=0;if(r.forEach((function(e){u+=e.count,s+=e.count*e.bytePerElement})),e.attributeLayout){var l=new Map;e.attributeLayout.forEach((function(e,t){return l.set(e,t)})),r.sort((function(e,t){return l.get(e.name)-l.get(t.name)}))}return{bytePerVertex:s,itemPerVertex:u,attributes:r,instanced:n,uniforms:a}}function Dt(e,t,r){var n=r?/in\s+(.+);/:/attribute\s+(.+);/,i=/uniform\s+(.+);/,a=[],o=[];return e.split("\n").forEach((function(e){var t=e.match(n);if(!t||e.trim().startsWith("//")){var r=e.match(i);!r||e.trim().startsWith("//")||s(r[1],o)}else s(t[1],a)})),t.split("\n").forEach((function(e){var t=e.match(i);t&&s(t[1],o)})),{attributes:a,uniforms:o};function s(e,t){for(var r=e.replace(/,/g," ").split(" ").filter((function(e){return e})),n=r[0],i=function(e){var i=r[e];t.find((function(e){return e.name===i}))||t.push({type:n,name:i})},a=1;a<r.length;++a)i(a)}}var Nt=function(){this.api=[],this.init=[],this.implementation=[],this.bufferInit=[]};function xt(e){var t=e.gl,r="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,n=Ct(e,r),i=b(e.vertex,e.fragment),a=e.preDrawHook||Mt,o=e.postDrawHook||Mt,s=c(n),u=s.link(),l=new Function("gl","program",u)(t,i);return e.debug&&(console.log("Compiled code: "),console.log(u)),l.getCode=function(){return s},l.dispose=function(){t.deleteProgram(i)},l;function c(t){var r=new Nt;return g(t,r),e.sourceBuffer?f(t,r):(m(t,r),d(t,r)),h(t,r),p(t,r),r}function f(e,t){t.addToInit(["let glBuffer;",""]),t.addToAPI(["setGLBuffer: (newBuffer) => glBuffer = newBuffer,"])}function d(e,t){t.addToInit(["let glBuffer = gl.createBuffer();","if (!glBuffer) throw new Error('failed to create a WebGL buffer');",""]),t.addToAPI(["getGLBuffer: () => glBuffer,"])}function h(e,t){var r=e.uniforms,n=[];if(r.forEach((function(e){e instanceof wt&&n.push(e)})),n.length){t.addToAPI("setTextureCanvas: setTextureCanvas,");var i=n.map((function(e){return"\n      case '"+e.name+"': {\n        "+e.getTextureInitCanvasBlock()+"\n        return;\n      }\n      "}));t.addToImplementation("\n  function setTextureCanvas(textureName, textureCanvas) {\n    switch(textureName) {\n      "+i.join("\n      ")+"\n    }\n    throw new Error('Unknown texture name: ' + textureName);\n  }\n");var a=n.map((function(e){return"case '"+e.name+"': return "+e.variableName+";"}));t.addToAPI("getTextureByName: getTextureByName,"),t.addToImplementation("\n  function getTextureByName(textureName) {\n    switch(textureName) {\n      "+a.join("\n      ")+"\n    }\n    throw new Error('Unknown texture name: ' + textureName);\n  }\n")}}function p(t,r){var n=t.attributes,i=t.instanced,s=t.uniforms,u=t.bytePerVertex,l=(t.itemPerVertex,e.sourceBuffer&&e.sourceBuffer.getCode());l?(r.addToInit(l.bufferInit),r.addBufferInit(l.bufferInit)):n.forEach((function(e){var t="  "+e.getInitBlockForDraw();r.addToInit(t),r.addBufferInit(t)}));var c=[];s.forEach((function(e){r.addToInit("  "+e.getInitBlockForDraw()),e instanceof wt&&c.push(e)})),i.length&&(r.addToInit("  let gle = gl.getExtension('ANGLE_instanced_arrays');\n  if (!gle) {\n    // Not sure if this is going to be an error, given instancing is widely supported. But\n    // If you get this error please ping me so that we can find a fallback solution\n    throw new Error('Instanced collection requires instancing support. Please ping @anvaka so that we can add fallback');\n  }\n"),i.forEach((function(e){r.addToInit("  "+e.getInitBlock())})));var f=[];if(l)f=l.attributesDrawBlock;else{var d=0;n.forEach((function(e){f.push(e.getDraw(u,d)),d+=e.count*e.bytePerElement}))}function h(){var r=s.map((function(e){return e.getDraw()})),u=[],l=[],d=[];i.forEach((function(e){u.push(e.getDraw()),l.push(e.getDivisor(0)),d.push(e.getDivisor(0))}));var h=[];return i.length?(n.forEach((function(e){l.push(e.getDivisor(1)),d.push(e.getDivisor(0))})),h.push(l.join("\n    ")),h.push("gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, count)"),h.push(d.join("\n    "))):h.push("gl.drawArrays(gl.TRIANGLES, 0, count)")," \n  function draw(uniforms, from, to) {\n    "+g()+"\n    "+m()+"\n    "+a(t)+"\n\n    gl.useProgram(program);\n    "+r.join("\n    ")+"\n    "+u.join("\n    ")+"\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, glBuffer);\n    "+p()+"\n\n    "+f.join("\n    ")+"\n    "+h.join("\n    ")+"\n\n    "+o(t)+"\n  }";function p(){return e.sourceBuffer?"":"  if (isDirty) {\n          gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.DYNAMIC_DRAW);\n          isDirty = false;\n        }"}function g(){return"if (count === 0) return;"}function m(){return 0===c.length?"":c.map((function(e){return"if (!"+e.ready+") return;"})).join("\n    ")}}r.setAttributesDrawBlock(f),r.addToImplementation(h()),r.addToAPI(["draw: draw,"])}function g(e,t){t.addToInit(["  var count = 0;"]),t.addToAPI(["setCount: (newCount) => count = newCount,","getCount: () => count,"])}function m(t,r){var n=t.attributes,i=t.bytePerVertex,a=t.itemPerVertex;function o(){var e=[],t=[],r=[],i=[],a=0;return n.forEach(o),"\n  function add(item) {\n    if (count * bytePerVertex >= capacity) {\n      extend();\n    }\n\n    var index = count * itemPerVertex;\n\n    "+e.join("")+"\n\n    isDirty = true;\n    return count++;\n  }\n\n  function update(index, item) {\n    "+v()+"\n    index *= itemPerVertex;\n    "+e.join("\n    ")+"\n    isDirty = true;\n  }\n\n  function remove(index) {\n    "+y()+"\n    isDirty = true;\n    count -= 1;\n    if (count <= 0) {\n      count = 0;\n      return count; // last element removed\n    }\n    // move last element to take this element's position\n    var from = count * itemPerVertex;\n    var to = index * itemPerVertex;\n    for (var i = 0; i < itemPerVertex; ++i) {\n      "+r.join("\n")+"\n    }\n\n    return count;\n  }\n\n  function get(index) {\n    index *= itemPerVertex; \n    return {\n      "+t.join(",\n      ")+"\n    };\n  }\n\n  function extend() {\n    var oldBuffer = buffer;\n    capacity *= 2;\n    buffer = new ArrayBuffer(capacity);\n    // Copy old buffer to the new buffer\n    new Uint8Array(buffer).set(new Uint8Array(oldBuffer));\n    // And re-assign views:\n    "+i.join("\n    ")+"\n  }\n\n  function getBuffer() {\n    return buffer.slice(0, count * bytePerVertex);\n  }\n\n  function appendBuffer(uint8Collection, byteOffset) {\n    var requiredCapacity = byteOffset + uint8Collection.byteLength;\n    if (requiredCapacity > capacity) {\n      // extend the buffer to fulfill the request:\n      let oldBuffer = buffer;\n      buffer = new ArrayBuffer(requiredCapacity);\n      new Uint8Array(buffer).set(new Uint8Array(oldBuffer));\n      capacity = requiredCapacity;\n    }\n\n    var view = new Uint8Array(buffer);\n    view.set(uint8Collection, byteOffset);\n    count = Math.floor(requiredCapacity / bytePerVertex);\n\n    "+i.join("\n    ")+"\n\n    isDirty = true;\n  }\n";function o(n){var o=n.getInitBlockForBuffer(!1);o&&i.push(o);var s=n.getAddBlock(a,"\n    ");e.push(s.code),r.push(n.getMoveBlock(a,"\n    ")),t.push(n.getGetBlock(a)),a=s.offset}}r.addToInit(["var bytePerVertex = "+i+";","var itemPerVertex = "+a+";","var capacity = "+(e.capacity||1)*i+";","var buffer = new ArrayBuffer(capacity);","","var isDirty = true;","var dirtyOffset = 0;"]),n.forEach((function(e){r.addToInit(e.getInitBlockForBuffer(!0))})),r.addToAPI(["add: add,","get: get,","update: update,","remove: remove,","getBuffer: getBuffer,","appendBuffer: appendBuffer,"]),r.addToImplementation(o())}function v(){return e.debug?"\n    if (!Number.isFinite(index)) throw new Error('update() requires integer value for \"index\", got: ' + index);\n    if (index < 0 || index >= count) throw new Error('update(' + index + ') is outside of [0..' + count + ') range');\n":""}function y(){return e.debug?"\n    if (!Number.isFinite(index)) throw new Error('remove() requires integer value for \"index\", got: ' + index);\n    if (index < 0 || index >= count) throw new Error('remove(' + index + ') is outside of [0..' + count + ') range');\n":""}function b(e,r){var n=E(t.VERTEX_SHADER,e),i=E(t.FRAGMENT_SHADER,r),a=t.createProgram();if(!a)throw new Error("Failed to link a program");if(t.attachShader(a,n),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(a)||"Failed to link a program");return a}function E(e,r){var n=t.createShader(e);if(!n)throw new Error("Failed to create a shared "+r);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw console.error(t.getShaderInfoLog(n)),new Error(t.getShaderInfoLog(n)||"Failed to compile shader "+r);return n}}function Mt(){return""}Nt.prototype.addToInit=function(e){e&&this.init.push(e)},Nt.prototype.addBufferInit=function(e){e&&this.bufferInit.push(e)},Nt.prototype.addToAPI=function(e){e&&this.api.push(e)},Nt.prototype.addToImplementation=function(e){e&&this.implementation.push(e)},Nt.prototype.setAttributesDrawBlock=function(e){this.attributesDrawBlock=e},Nt.prototype.link=function(){var e=[];return this.init.forEach(t),t("  return {"),this.api.forEach(t),t("  };"),this.implementation.forEach(t),e.join("\n");function t(t){Array.isArray(t)?e.push(t.join("\n    ")):e.push(t)}};var Ot=function(e){function t(){e.call(this),this.type="gl.UNSIGNED_BYTE",this.bufferViewType="Uint32Array"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAddBlock=function(e){var t=this.name+"Array",r="";return this.debug&&(r="if (item."+this.name+" === undefined) throw new Error('Attribute \""+this.name+"\" is missing');\n"),r+=t+"[index + "+e+"] = item."+this.name+";",{code:r,offset:e+this.count}},t.prototype.getMoveBlock=function(e,t){void 0===t&&(t="\n");var r=this.name,n=r+"Array",i="";return i+=n+"[to + "+e+"] = "+n+"[from + "+e+"];"+t,i},t.prototype.getGetBlock=function(e){return this.name+": "+this.name+"Array[index + "+e+"]"},t.prototype.getDraw=function(e,t){var r=this.name+"AttributeLocation";return"\n    if ("+r+" > -1) {\n      gl.enableVertexAttribArray("+r+");\n      gl.vertexAttribPointer("+r+", 4, "+this.type+", true, "+e+", "+t+");\n    }"},t}(St),Pt=function(e){this.bufferValues=e,this.typeDef=void 0};Pt.prototype.setTypeDefinition=function(e){this.typeDef=e},Pt.prototype.getInitBlock=function(){var e=this.typeDef,t=e.name;return"\n  const "+t+"InstancedBuffer = gl.createBuffer();\n  if (!"+t+"InstancedBuffer) throw new Error('failed to create a WebGL buffer');\n  const "+t+"InstancedBufferValues = new Float32Array(["+this.bufferValues.join(",")+"]);\n  let "+t+"AttributeLocation = gl.getAttribLocation(program, '"+t+"');\n"},Pt.prototype.getDivisor=function(e){return this.typeDef.getDivisor(e)},Pt.prototype.getDraw=function(){var e=this,t=e.typeDef,r=t.name;return"\n  gl.bindBuffer(gl.ARRAY_BUFFER, "+r+"InstancedBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, "+r+"InstancedBufferValues, gl.STATIC_DRAW);\n\n  gl.enableVertexAttribArray("+r+"AttributeLocation);\n  gl.vertexAttribPointer("+r+"AttributeLocation, "+t.count+", gl.FLOAT, false, 0, 0);\n"};var Lt=function(e){function t(t){e.call(this),this.program=t,this.uniforms=void 0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getBuffer=function(){return this.program.getBuffer()},t.prototype.appendBuffer=function(e,t){this.program.appendBuffer(e,t),this.scene&&this.scene.renderFrame()},t.prototype.add=function(e){return this.program.add(e)},t.prototype.update=function(e,t){this.program.update(e,t)},t.prototype.remove=function(e){return this.program.remove(e)},t.prototype.get=function(e){return this.program.get(e)},t.prototype.draw=function(e,t){this.uniforms||(this.uniforms={projectionMatrix:t.projection,model:this.worldModel,view:t.view.matrix,modelViewProjection:this.modelViewProjection}),this.program.draw(this.uniforms)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.program&&this.program.dispose()},t}(ne);function kt(e){return Math.abs(e)<1e-10?0:e}var Ft=function(e){function t(t){var r=xt({gl:t,vertex:"\n  uniform mat4 modelViewProjection;\n  attribute vec3 point;\n\n  void main() {\n    gl_Position = modelViewProjection * vec4(point, 1.0);\n  }",fragment:"\n      precision highp float;\n      void main() {\n        gl_FragColor = vec4(0., 0., 0., 0.);\n      }",preDrawHook:function(){return"gl.disable(gl.BLEND);\n          gl.enable(gl.DEPTH_TEST);\n          gl.depthFunc(gl.LEQUAL);"},postDrawHook:function(){return"gl.enable(gl.BLEND); gl.disable(gl.DEPTH_TEST);"}});e.call(this,r),this.domElementToPoints=new Map,this.uiIDToUI=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.appendFromDomElement=function(e){var t=this,r=Number.parseFloat(e.el.style.width),n=Number.parseFloat(e.el.style.height),i=[[-r/2,-n/2,0],[r/2,-n/2,0],[r/2,n/2,0],[r/2,n/2,0],[-r/2,n/2,0],[-r/2,-n/2,0]];e.updateWorldTransform();var a=i.map((function(r){var n=B([0,0,0],r,e.worldModel),i={original:r,point:n,uiId:-1};return i.uiId=t.add(i),t.uiIDToUI.set(i.uiId,i),i}));this.domElementToPoints.set(e,a),e.on("update-transform",this.updateDOMElementTransform,this),e.on("disposed",this.disposeDomElement,this)},t.prototype.disposeDomElement=function(e){var t=this,r=this.domElementToPoints.get(e);if(!r)throw new Error("Unknown dom element requested to be disposed");r.forEach((function(e){var r=e.uiId,n=t.remove(r),i=t.uiIDToUI.get(n);if(!i)throw new Error("Cannot find moved vertex ui");t.uiIDToUI.delete(n),n!==r&&(i.uiId=r,t.uiIDToUI.set(r,i))})),e.off("update-transform",this.updateDOMElementTransform),e.off("disposed",this.disposeDomElement),this.domElementToPoints.delete(e)},t.prototype.updateDOMElementTransform=function(e){var t=this,r=this.domElementToPoints.get(e);if(!r)throw new Error("Unknown dom element requested transform update");r.forEach((function(r){B(r.point,r.original,e.worldModel),t.update(r.uiId,r)}))},t.prototype.clear=function(){this.program.setCount(0)},t}(Lt),jt=function(e){function t(t){e.call(this),this.container=document.createElement("div"),this.container.style.overflow="hidden",this.camera=document.createElement("div"),this.camera.style.transformStyle="preserve-3d",this.camera.style.pointerEvents="none",this.camera.style.position="relative",this.container.appendChild(this.camera),this.container.style.pointerEvents="none",this.bound=!1,this.lastCameraTransform="",this.seeThrough=!(!t||"undefined"===typeof t.seeThrough)&&t.seeThrough}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bindScene=function(t){if(t){var r=t.getDrawContext(),n=r.canvas.parentElement;if(!n)throw new Error("Scene does not have a parent element");this.seeThrough?n.insertBefore(this.container,r.canvas):n.append(this.container),this.bound=!0}else this.container.parentElement&&this.container.parentElement.removeChild(this.container),this.bound=!1,this.seeThroughQuads&&this.seeThroughQuads.parent&&this.seeThroughQuads.parent.removeChild(this.seeThroughQuads);e.prototype.bindScene.call(this,t)},t.prototype.acceptDomChild=function(e){if(this.camera.appendChild(e.el),this.seeThrough){if(!this.scene)throw new Error("Scene should be available at this point!");this.seeThroughQuads||(this.seeThroughQuads=new Ft(this.scene.getGL()),this.scene.appendChild(this.seeThroughQuads)),this.seeThroughQuads.appendFromDomElement(e)}},t.prototype.draw=function(t,r){this.bound&&(this._updateCameraTransforms(r),e.prototype.draw.call(this,t,r))},t.prototype._updateCameraTransforms=function(e){var t=e.projection[5]*e.height/(2*e.pixelRatio),r=e.width/e.pixelRatio,n=e.height/e.pixelRatio,i="translateZ("+t+"px)"+Bt(e.view.matrix)+"translate("+r/2+"px,"+n/2+"px)";this.lastCameraTransform!=i&&(this.lastCameraTransform=i,this.camera.style.transform=this.lastCameraTransform,this.camera.style.width=r+"px",this.camera.style.height=n+"px",this.container.style.width=r+"px",this.container.style.height=n+"px",this.container.style.perspective=t+"px")},t}(ne);function Bt(e){return"matrix3d("+kt(e[0])+","+kt(-e[1])+","+kt(e[2])+","+kt(e[3])+","+kt(e[4])+","+kt(-e[5])+","+kt(e[6])+","+kt(e[7])+","+kt(e[8])+","+kt(-e[9])+","+kt(e[10])+","+kt(e[11])+","+kt(e[12])+","+kt(-e[13])+","+kt(e[14])+","+kt(e[15])+")"}var Ut=function(e){function t(t){e.call(this),this.lastTransform="",this.el=document.createElement("div");var r=this.el.style;if(r.position="absolute",r.pointerEvents="initial",t){var i=this.el.style;Object.keys(t).forEach((function(e){i[e]=t[e]}))}n(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateWorldTransform=function(t){var r=e.prototype.updateWorldTransform.call(this,t);return r&&this.fire("update-transform",this),r},t.prototype.bindScene=function(t){if(t){var r=Gt(this);if(!r)throw new Error("DomElement should be part of DomContainer hierarchy");r.acceptDomChild(this)}else this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.fire("disposed",this));e.prototype.bindScene.call(this,t)},t.prototype.draw=function(){var e=qt(this.worldModel);e!==this.lastTransform&&(this.el.style.transform=e,this.lastTransform=e)},t.prototype.dispose=function(){this.el.parentNode&&this.el.parentNode.removeChild(this.el)},t}(ne);function qt(e){var t="matrix3d("+kt(e[0])+","+kt(e[1])+","+kt(e[2])+","+kt(e[3])+","+kt(-e[4])+","+kt(-e[5])+","+kt(-e[6])+","+kt(-e[7])+","+kt(e[8])+","+kt(e[9])+","+kt(e[10])+","+kt(e[11])+","+kt(e[12])+","+kt(e[13])+","+kt(e[14])+","+kt(e[15])+")";return"translate(-50%,-50%)"+t}function Gt(e){return e instanceof jt?e:e.parent&&Gt(e.parent)}},"9bdd":function(e,t,r){var n=r("825a"),i=r("2a62");e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(o){throw i(e),o}}},"9bf2":function(e,t,r){var n=r("83ab"),i=r("0cfb"),a=r("825a"),o=r("c04e"),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(a(e),t=o(t,!0),a(r),i)try{return s(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"9cf4":function(e,t,r){e.exports=o;var n,i=r("e4de"),a=r("1748");function o(e,t){t=t||{};var r=t.history||a(e,t);u(r),r.onChanged(m);var n=r.get()||Object.create(null),o={get:h,set:p,unset:g,setIfEmpty:v,dispose:d,onChange:l,offChange:c,getHistoryObject:f},s=i({});return o;function l(e,t){s.on("change",e,t)}function c(e,t){s.off("change",e,t)}function f(){return r}function d(){r.dispose(),s.off()}function h(e){return void 0===e?n:n[e]}function p(e,t){var i=typeof e;return"object"===i?Object.keys(e).forEach((function(t){n[t]=e[t]})):"string"===i&&(n[e]=t),r.set(n),o}function g(e){if(e in n)return delete n[e],r.set(n),o}function m(e){n=e,s.fire("change",n)}function v(e,t){if("object"===typeof e&&Object.keys(e).forEach((function(t){t in n||(n[t]=e[t])})),!(e in n))return n[e]=t,r.set(n),o}}function s(e,t){return n?e&&n.setIfEmpty(e):n=o(e,t),n}function u(e){if(!e)throw new Error("history is required");if("function"!==typeof e.dispose)throw new Error("dispose is required");if("function"!==typeof e.onChanged)throw new Error("onChanged is required")}o.instance=s},"9ed3":function(e,t,r){"use strict";var n=r("ae93").IteratorPrototype,i=r("7c73"),a=r("5c6c"),o=r("d44e"),s=r("3f8c"),u=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=i(n,{next:a(1,r)}),o(e,l,!1,!0),s[l]=u,e}},"9f7f":function(e,t,r){"use strict";var n=r("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a078:function(e,t,r){var n=r("7b0b"),i=r("50c4"),a=r("35a1"),o=r("e95a"),s=r("0366"),u=r("ebb5").aTypedArrayConstructor;e.exports=function(e){var t,r,l,c,f,d,h=n(e),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=a(h);if(void 0!=v&&!o(v)){f=v.call(h),d=f.next,h=[];while(!(c=d.call(f)).done)h.push(c.value)}for(m&&p>2&&(g=s(g,arguments[2],2)),r=i(h.length),l=new(u(this))(r),t=0;r>t;t++)l[t]=m?g(h[t],t):h[t];return l}},a15b:function(e,t,r){"use strict";var n=r("23e7"),i=r("44ad"),a=r("fc6a"),o=r("a640"),s=[].join,u=i!=Object,l=o("join",",");n({target:"Array",proto:!0,forced:u||!l},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},a258:function(e,t,r){var n=r("0366"),i=r("44ad"),a=r("7b0b"),o=r("50c4"),s=function(e){var t=6==e;return function(r,s,u){var l,c,f=a(r),d=i(f),h=n(s,u,3),p=o(d.length);while(p-- >0)if(l=d[p],c=h(l,p,f),c)switch(e){case 5:return l;case 6:return p}return t?-1:void 0}};e.exports={findLast:s(5),findLastIndex:s(6)}},a2bf:function(e,t,r){"use strict";var n=r("e8b5"),i=r("50c4"),a=r("0366"),o=function(e,t,r,s,u,l,c,f){var d,h=u,p=0,g=!!c&&a(c,f,3);while(p<s){if(p in r){if(d=g?g(r[p],p,t):r[p],l>0&&n(d))h=o(e,t,d,i(d.length),h,l-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=d}h++}p++}return h};e.exports=o},a434:function(e,t,r){"use strict";var n=r("23e7"),i=r("23cb"),a=r("a691"),o=r("50c4"),s=r("7b0b"),u=r("65f0"),l=r("8418"),c=r("1dde"),f=c("splice"),d=Math.max,h=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,n,c,f,m,v,y=s(this),b=o(y.length),E=i(e,b),_=arguments.length;if(0===_?r=n=0:1===_?(r=0,n=b-E):(r=_-2,n=h(d(a(t),0),b-E)),b+r-n>p)throw TypeError(g);for(c=u(y,n),f=0;f<n;f++)m=E+f,m in y&&l(c,f,y[m]);if(c.length=n,r<n){for(f=E;f<b-n;f++)m=f+n,v=f+r,m in y?y[v]=y[m]:delete y[v];for(f=b;f>b-n+r;f--)delete y[f-1]}else if(r>n)for(f=b-n;f>E;f--)m=f+n-1,v=f+r-1,m in y?y[v]=y[m]:delete y[v];for(f=0;f<r;f++)y[f+E]=arguments[f+2];return y.length=b-n+r,c}})},a4b4:function(e,t,r){var n=r("342f");e.exports=/web0s(?!.*chrome)/i.test(n)},a4d3:function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("d066"),o=r("c430"),s=r("83ab"),u=r("4930"),l=r("fdbf"),c=r("d039"),f=r("5135"),d=r("e8b5"),h=r("861d"),p=r("825a"),g=r("7b0b"),m=r("fc6a"),v=r("c04e"),y=r("5c6c"),b=r("7c73"),E=r("df75"),_=r("241c"),T=r("057f"),w=r("7418"),S=r("06cf"),A=r("9bf2"),R=r("d1e7"),I=r("9112"),C=r("6eeb"),D=r("5692"),N=r("f772"),x=r("d012"),M=r("90e3"),O=r("b622"),P=r("e538"),L=r("746f"),k=r("d44e"),F=r("69f3"),j=r("b727").forEach,B=N("hidden"),U="Symbol",q="prototype",G=O("toPrimitive"),V=F.set,H=F.getterFor(U),Y=Object[q],z=i.Symbol,K=a("JSON","stringify"),W=S.f,$=A.f,X=T.f,Q=R.f,Z=D("symbols"),J=D("op-symbols"),ee=D("string-to-symbol-registry"),te=D("symbol-to-string-registry"),re=D("wks"),ne=i.QObject,ie=!ne||!ne[q]||!ne[q].findChild,ae=s&&c((function(){return 7!=b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=W(Y,t);n&&delete Y[t],$(e,t,r),n&&e!==Y&&$(Y,t,n)}:$,oe=function(e,t){var r=Z[e]=b(z[q]);return V(r,{type:U,tag:e,description:t}),s||(r.description=t),r},se=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},ue=function(e,t,r){e===Y&&ue(J,t,r),p(e);var n=v(t,!0);return p(r),f(Z,n)?(r.enumerable?(f(e,B)&&e[B][n]&&(e[B][n]=!1),r=b(r,{enumerable:y(0,!1)})):(f(e,B)||$(e,B,y(1,{})),e[B][n]=!0),ae(e,n,r)):$(e,n,r)},le=function(e,t){p(e);var r=m(t),n=E(r).concat(pe(r));return j(n,(function(t){s&&!fe.call(r,t)||ue(e,t,r[t])})),e},ce=function(e,t){return void 0===t?b(e):le(b(e),t)},fe=function(e){var t=v(e,!0),r=Q.call(this,t);return!(this===Y&&f(Z,t)&&!f(J,t))&&(!(r||!f(this,t)||!f(Z,t)||f(this,B)&&this[B][t])||r)},de=function(e,t){var r=m(e),n=v(t,!0);if(r!==Y||!f(Z,n)||f(J,n)){var i=W(r,n);return!i||!f(Z,n)||f(r,B)&&r[B][n]||(i.enumerable=!0),i}},he=function(e){var t=X(m(e)),r=[];return j(t,(function(e){f(Z,e)||f(x,e)||r.push(e)})),r},pe=function(e){var t=e===Y,r=X(t?J:m(e)),n=[];return j(r,(function(e){!f(Z,e)||t&&!f(Y,e)||n.push(Z[e])})),n};if(u||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),r=function(e){this===Y&&r.call(J,e),f(this,B)&&f(this[B],t)&&(this[B][t]=!1),ae(this,t,y(1,e))};return s&&ie&&ae(Y,t,{configurable:!0,set:r}),oe(t,e)},C(z[q],"toString",(function(){return H(this).tag})),C(z,"withoutSetter",(function(e){return oe(M(e),e)})),R.f=fe,A.f=ue,S.f=de,_.f=T.f=he,w.f=pe,P.f=function(e){return oe(O(e),e)},s&&($(z[q],"description",{configurable:!0,get:function(){return H(this).description}}),o||C(Y,"propertyIsEnumerable",fe,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),j(E(re),(function(e){L(e)})),n({target:U,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var r=z(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:ce,defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:de}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:c((function(){w.f(1)}))},{getOwnPropertySymbols:function(e){return w.f(g(e))}}),K){var ge=!u||c((function(){var e=z();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}));n({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,r){var n,i=[e],a=1;while(arguments.length>a)i.push(arguments[a++]);if(n=t,(h(t)||void 0!==e)&&!se(e))return d(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!se(t))return t}),i[1]=t,K.apply(null,i)}})}z[q][G]||I(z[q],G,z[q].valueOf),k(z,U),x[B]=!0},a630:function(e,t,r){var n=r("23e7"),i=r("4df4"),a=r("1c7e"),o=!a((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:i})},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},a79d:function(e,t,r){"use strict";var n=r("23e7"),i=r("c430"),a=r("fea9"),o=r("d039"),s=r("d066"),u=r("4840"),l=r("cdf9"),c=r("6eeb"),f=!!a&&o((function(){a.prototype["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(e){var t=u(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),i||"function"!=typeof a||a.prototype["finally"]||c(a.prototype,"finally",s("Promise").prototype["finally"])},a975:function(e,t,r){"use strict";var n=r("ebb5"),i=r("b727").every,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},a981:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},a9e3:function(e,t,r){"use strict";var n=r("83ab"),i=r("da84"),a=r("94ca"),o=r("6eeb"),s=r("5135"),u=r("c6b6"),l=r("7156"),c=r("c04e"),f=r("d039"),d=r("7c73"),h=r("241c").f,p=r("06cf").f,g=r("9bf2").f,m=r("58a8").trim,v="Number",y=i[v],b=y.prototype,E=u(d(b))==v,_=function(e){var t,r,n,i,a,o,s,u,l=c(e,!1);if("string"==typeof l&&l.length>2)if(l=m(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(a=l.slice(2),o=a.length,s=0;s<o;s++)if(u=a.charCodeAt(s),u<48||u>i)return NaN;return parseInt(a,n)}return+l};if(a(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var T,w=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof w&&(E?f((function(){b.valueOf.call(r)})):u(r)!=v)?l(new y(_(t)),r,w):_(t)},S=n?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),A=0;S.length>A;A++)s(y,T=S[A])&&!s(w,T)&&g(w,T,p(y,T));w.prototype=b,b.constructor=w,o(i,v,w)}},ac1f:function(e,t,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ace4:function(e,t,r){"use strict";var n=r("23e7"),i=r("d039"),a=r("621a"),o=r("825a"),s=r("23cb"),u=r("50c4"),l=r("4840"),c=a.ArrayBuffer,f=a.DataView,d=c.prototype.slice,h=i((function(){return!new c(2).slice(1,void 0).byteLength}));n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:h},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(o(this),e);var r=o(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),a=new(l(this,c))(u(i-n)),h=new f(this),p=new f(a),g=0;while(n<i)p.setUint8(g++,h.getUint8(n++));return a}})},acef:function(e,t,r){"use strict";var n=r("ebb5"),i=r("50c4"),a=r("a691"),o=n.aTypedArray,s=n.exportTypedArrayMethod;s("at",(function(e){var t=o(this),r=i(t.length),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae93:function(e,t,r){"use strict";var n,i,a,o=r("d039"),s=r("e163"),u=r("9112"),l=r("5135"),c=r("b622"),f=r("c430"),d=c("iterator"),h=!1,p=function(){return this};[].keys&&(a=[].keys(),"next"in a?(i=s(s(a)),i!==Object.prototype&&(n=i)):h=!0);var g=void 0==n||o((function(){var e={};return n[d].call(e)!==e}));g&&(n={}),f&&!g||l(n,d)||u(n,d,p),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},b041:function(e,t,r){"use strict";var n=r("00ee"),i=r("f5df");e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,r){var n=r("83ab"),i=r("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,u="name";n&&!(u in a)&&i(a,u,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b39a:function(e,t,r){"use strict";var n=r("da84"),i=r("ebb5"),a=r("d039"),o=n.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,l=[].toLocaleString,c=[].slice,f=!!o&&a((function(){l.call(new o(1))})),d=a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return l.apply(f?c.call(s(this)):s(this),arguments)}),d)},b575:function(e,t,r){var n,i,a,o,s,u,l,c,f=r("da84"),d=r("06cf").f,h=r("2cf4").set,p=r("1cdc"),g=r("a4b4"),m=r("605d"),v=f.MutationObserver||f.WebKitMutationObserver,y=f.document,b=f.process,E=f.Promise,_=d(f,"queueMicrotask"),T=_&&_.value;T||(n=function(){var e,t;m&&(e=b.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(r){throw i?o():a=void 0,r}}a=void 0,e&&e.enter()},p||m||g||!v||!y?E&&E.resolve?(l=E.resolve(void 0),c=l.then,o=function(){c.call(l,n)}):o=m?function(){b.nextTick(n)}:function(){h.call(f,n)}:(s=!0,u=y.createTextNode(""),new v(n).observe(u,{characterData:!0}),o=function(){u.data=s=!s})),e.exports=T||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},b622:function(e,t,r){var n=r("da84"),i=r("5692"),a=r("5135"),o=r("90e3"),s=r("4930"),u=r("fdbf"),l=i("wks"),c=n.Symbol,f=u?c:c&&c.withoutSetter||o;e.exports=function(e){return a(l,e)&&(s||"string"==typeof l[e])||(s&&a(c,e)?l[e]=c[e]:l[e]=f("Symbol."+e)),l[e]}},b64b:function(e,t,r){var n=r("23e7"),i=r("7b0b"),a=r("df75"),o=r("d039"),s=o((function(){a(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(e){return a(i(e))}})},b727:function(e,t,r){var n=r("0366"),i=r("44ad"),a=r("7b0b"),o=r("50c4"),s=r("65f0"),u=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,c=4==e,f=6==e,d=7==e,h=5==e||f;return function(p,g,m,v){for(var y,b,E=a(p),_=i(E),T=n(g,m,3),w=o(_.length),S=0,A=v||s,R=t?A(p,w):r||d?A(p,0):void 0;w>S;S++)if((h||S in _)&&(y=_[S],b=T(y,S,E),e))if(t)R[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:u.call(R,y)}else switch(e){case 4:return!1;case 7:u.call(R,y)}return f?-1:l||c?c:R}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},b85c:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");var n=r("06c5");function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(u)throw o}}}}},bb2f:function(e,t,r){var n=r("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bbd6:function(e,t,r){var n,i,a;(function(r,o){i=[],n=o,a="function"===typeof n?n.apply(t,i):n,void 0===a||(e.exports=a)})(0,(function(){function e(h){var p={single:function(e,t,r){if(!e)return null;if(c(e)||(e=p.getPreparedSearch(e)),!t)return null;c(t)||(t=p.getPrepared(t));var n=r&&void 0!==r.allowTypo?r.allowTypo:!h||void 0===h.allowTypo||h.allowTypo,i=n?p.algorithm:p.algorithmNoTypo;return i(e,t,e[0])},go:function(e,t,r){if(!e)return i;e=p.prepareSearch(e);var n=e[0],a=r&&r.threshold||h&&h.threshold||-9007199254740991,o=r&&r.limit||h&&h.limit||9007199254740991,s=r&&void 0!==r.allowTypo?r.allowTypo:!h||void 0===h.allowTypo||h.allowTypo,f=s?p.algorithm:p.algorithmNoTypo,g=0,m=0,v=t.length;if(r&&r.keys)for(var y=r.scoreFn||u,b=r.keys,E=b.length,_=v-1;_>=0;--_){for(var T=t[_],w=new Array(E),S=E-1;S>=0;--S){var A=b[S],R=l(T,A);R?(c(R)||(R=p.getPrepared(R)),w[S]=f(e,R,n)):w[S]=null}w.obj=T;var I=y(w);null!==I&&(I<a||(w.score=I,g<o?(d.add(w),++g):(++m,I>d.peek().score&&d.replaceTop(w))))}else if(r&&r.key)for(A=r.key,_=v-1;_>=0;--_){T=t[_],R=l(T,A);if(R){c(R)||(R=p.getPrepared(R));var C=f(e,R,n);null!==C&&(C.score<a||(C={target:C.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:C.score,indexes:C.indexes,obj:T},g<o?(d.add(C),++g):(++m,C.score>d.peek().score&&d.replaceTop(C))))}}else for(_=v-1;_>=0;--_){R=t[_];if(R){c(R)||(R=p.getPrepared(R));C=f(e,R,n);null!==C&&(C.score<a||(g<o?(d.add(C),++g):(++m,C.score>d.peek().score&&d.replaceTop(C))))}}if(0===g)return i;var D=new Array(g);for(_=g-1;_>=0;--_)D[_]=d.poll();return D.total=g+m,D},goAsync:function(e,r,n){var a=!1,o=new Promise((function(o,s){if(!e)return o(i);e=p.prepareSearch(e);var d=e[0],g=f(),m=r.length-1,v=n&&n.threshold||h&&h.threshold||-9007199254740991,y=n&&n.limit||h&&h.limit||9007199254740991,b=n&&void 0!==n.allowTypo?n.allowTypo:!h||void 0===h.allowTypo||h.allowTypo,E=b?p.algorithm:p.algorithmNoTypo,_=0,T=0;function w(){if(a)return s("canceled");var f=Date.now();if(n&&n.keys)for(var h=n.scoreFn||u,b=n.keys,S=b.length;m>=0;--m){for(var A=r[m],R=new Array(S),I=S-1;I>=0;--I){var C=b[I],D=l(A,C);D?(c(D)||(D=p.getPrepared(D)),R[I]=E(e,D,d)):R[I]=null}R.obj=A;var N=h(R);if(null!==N&&(!(N<v)&&(R.score=N,_<y?(g.add(R),++_):(++T,N>g.peek().score&&g.replaceTop(R)),m%1e3===0&&Date.now()-f>=10)))return void(t?setImmediate(w):setTimeout(w))}else if(n&&n.key)for(C=n.key;m>=0;--m){A=r[m],D=l(A,C);if(D){c(D)||(D=p.getPrepared(D));var x=E(e,D,d);if(null!==x&&!(x.score<v)&&(x={target:x.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:x.score,indexes:x.indexes,obj:A},_<y?(g.add(x),++_):(++T,x.score>g.peek().score&&g.replaceTop(x)),m%1e3===0&&Date.now()-f>=10))return void(t?setImmediate(w):setTimeout(w))}}else for(;m>=0;--m){D=r[m];if(D){c(D)||(D=p.getPrepared(D));x=E(e,D,d);if(null!==x&&!(x.score<v)&&(_<y?(g.add(x),++_):(++T,x.score>g.peek().score&&g.replaceTop(x)),m%1e3===0&&Date.now()-f>=10))return void(t?setImmediate(w):setTimeout(w))}}if(0===_)return o(i);for(var M=new Array(_),O=_-1;O>=0;--O)M[O]=g.poll();M.total=_+T,o(M)}t?setImmediate(w):w()}));return o.cancel=function(){a=!0},o},highlight:function(e,t,r){if(null===e)return null;void 0===t&&(t="<b>"),void 0===r&&(r="</b>");for(var n="",i=0,a=!1,o=e.target,s=o.length,u=e.indexes,l=0;l<s;++l){var c=o[l];if(u[i]===l){if(++i,a||(a=!0,n+=t),i===u.length){n+=c+r+o.substr(l+1);break}}else a&&(a=!1,n+=r);n+=c}return n},prepare:function(e){if(e)return{target:e,_targetLowerCodes:p.prepareLowerCodes(e),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(e){if(e)return{target:e,_targetLowerCodes:p.prepareLowerCodes(e),_nextBeginningIndexes:p.prepareNextBeginningIndexes(e),score:null,indexes:null,obj:null}},prepareSearch:function(e){if(e)return p.prepareLowerCodes(e)},getPrepared:function(e){if(e.length>999)return p.prepare(e);var t=r.get(e);return void 0!==t||(t=p.prepare(e),r.set(e,t)),t},getPreparedSearch:function(e){if(e.length>999)return p.prepareSearch(e);var t=n.get(e);return void 0!==t||(t=p.prepareSearch(e),n.set(e,t)),t},algorithm:function(e,t,r){for(var n=t._targetLowerCodes,i=e.length,s=n.length,u=0,l=0,c=0,f=0;;){var d=r===n[l];if(d){if(a[f++]=l,++u,u===i)break;r=e[0===c?u:c===u?u+1:c===u-1?u-1:u]}if(++l,l>=s)for(;;){if(u<=1)return null;if(0===c){--u;var h=e[u];if(r===h)continue;c=u}else{if(1===c)return null;--c,u=c,r=e[u+1];h=e[u];if(r===h)continue}f=u,l=a[f-1]+1;break}}u=0;var g=0,m=!1,v=0,y=t._nextBeginningIndexes;null===y&&(y=t._nextBeginningIndexes=p.prepareNextBeginningIndexes(t.target));var b=l=0===a[0]?0:y[a[0]-1];if(l!==s)for(;;)if(l>=s){if(u<=0){if(++g,g>i-2)break;if(e[g]===e[g+1])continue;l=b;continue}--u;var E=o[--v];l=y[E]}else{d=e[0===g?u:g===u?u+1:g===u-1?u-1:u]===n[l];if(d){if(o[v++]=l,++u,u===i){m=!0;break}++l}else l=y[l]}if(m)var _=o,T=v;else _=a,T=f;for(var w=0,S=-1,A=0;A<i;++A){l=_[A];S!==l-1&&(w-=l),S=l}m?0!==g&&(w+=-20):(w*=1e3,0!==c&&(w+=-20)),w-=s-i,t.score=w,t.indexes=new Array(T);for(A=T-1;A>=0;--A)t.indexes[A]=_[A];return t},algorithmNoTypo:function(e,t,r){for(var n=t._targetLowerCodes,i=e.length,s=n.length,u=0,l=0,c=0;;){var f=r===n[l];if(f){if(a[c++]=l,++u,u===i)break;r=e[u]}if(++l,l>=s)return null}u=0;var d=!1,h=0,g=t._nextBeginningIndexes;null===g&&(g=t._nextBeginningIndexes=p.prepareNextBeginningIndexes(t.target));l=0===a[0]?0:g[a[0]-1];if(l!==s)for(;;)if(l>=s){if(u<=0)break;--u;var m=o[--h];l=g[m]}else{f=e[u]===n[l];if(f){if(o[h++]=l,++u,u===i){d=!0;break}++l}else l=g[l]}if(d)var v=o,y=h;else v=a,y=c;for(var b=0,E=-1,_=0;_<i;++_){l=v[_];E!==l-1&&(b-=l),E=l}d||(b*=1e3),b-=s-i,t.score=b,t.indexes=new Array(y);for(_=y-1;_>=0;--_)t.indexes[_]=v[_];return t},prepareLowerCodes:function(e){for(var t=e.length,r=[],n=e.toLowerCase(),i=0;i<t;++i)r[i]=n.charCodeAt(i);return r},prepareBeginningIndexes:function(e){for(var t=e.length,r=[],n=0,i=!1,a=!1,o=0;o<t;++o){var s=e.charCodeAt(o),u=s>=65&&s<=90,l=u||s>=97&&s<=122||s>=48&&s<=57,c=u&&!i||!a||!l;i=u,a=l,c&&(r[n++]=o)}return r},prepareNextBeginningIndexes:function(e){for(var t=e.length,r=p.prepareBeginningIndexes(e),n=[],i=r[0],a=0,o=0;o<t;++o)i>o?n[o]=i:(i=r[++a],n[o]=void 0===i?t:i);return n},cleanup:s,new:e};return p}var t="undefined"===typeof window,r=new Map,n=new Map,i=[];i.total=0;var a=[],o=[];function s(){r.clear(),n.clear(),a=[],o=[]}function u(e){for(var t=-9007199254740991,r=e.length-1;r>=0;--r){var n=e[r];if(null!==n){var i=n.score;i>t&&(t=i)}}return-9007199254740991===t?null:t}function l(e,t){var r=e[t];if(void 0!==r)return r;var n=t;Array.isArray(t)||(n=t.split("."));var i=n.length,a=-1;while(e&&++a<i)e=e[n[a]];return e}function c(e){return"object"===typeof e}var f=function(){var e=[],t=0,r={};function n(){for(var r=0,n=e[r],i=1;i<t;){var a=i+1;r=i,a<t&&e[a].score<e[i].score&&(r=a),e[r-1>>1]=e[r],i=1+(r<<1)}for(var o=r-1>>1;r>0&&n.score<e[o].score;o=(r=o)-1>>1)e[r]=e[o];e[r]=n}return r.add=function(r){var n=t;e[t++]=r;for(var i=n-1>>1;n>0&&r.score<e[i].score;i=(n=i)-1>>1)e[n]=e[i];e[n]=r},r.poll=function(){if(0!==t){var r=e[0];return e[0]=e[--t],n(),r}},r.peek=function(r){if(0!==t)return e[0]},r.replaceTop=function(t){e[0]=t,n()},r},d=f();return e()}))},bcfc:function(e,t,r){const n=r("28d9");function i(e){let t=a(e);return new Function("options","random",t)}function a(e){let t=n(e),r=`\n  if (!Number.isFinite(options.springCoeff)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${t("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}\n      var r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n      if (r === 0) {\n        ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n      }\n\n      var d = r - length;\n      var coeff = ((!spring.coeff || spring.coeff < 0) ? options.springCoeff : spring.coeff) * d / r;\n\n      ${t("body1.force.{var} += coeff * d{var}",{indent:6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${t("body2.force.{var} -= coeff * d{var}",{indent:6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`;return r}e.exports=i,e.exports.generateCreateSpringForceFunctionBody=a},bee2:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,"a",(function(){return i}))},c04e:function(e,t,r){var n=r("861d");e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c1ac:function(e,t,r){"use strict";var n=r("ebb5"),i=r("b727").filter,a=r("1448"),o=n.aTypedArray,s=n.exportTypedArrayMethod;s("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},c35a:function(e,t,r){var n=r("23e7"),i=r("7e12");n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},c6cd:function(e,t,r){var n=r("da84"),i=r("ce4e"),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},c8d2:function(e,t,r){var n=r("d039"),i=r("5899"),a="​᠎";e.exports=function(e){return n((function(){return!!i[e]()||a[e]()!=a||i[e].name!==e}))}},ca84:function(e,t,r){var n=r("5135"),i=r("fc6a"),a=r("4d64").indexOf,o=r("d012");e.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)!n(o,r)&&n(s,r)&&l.push(r);while(t.length>u)n(s,r=t[u++])&&(~a(l,r)||l.push(r));return l}},ca91:function(e,t,r){"use strict";var n=r("ebb5"),i=r("d58f").left,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("reduce",(function(e){return i(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},cc12:function(e,t,r){var n=r("da84"),i=r("861d"),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},cca6:function(e,t,r){var n=r("23e7"),i=r("60da");n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cd26:function(e,t,r){"use strict";var n=r("ebb5"),i=n.aTypedArray,a=n.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){var e,t=this,r=i(t).length,n=o(r/2),a=0;while(a<n)e=t[a],t[a++]=t[--r],t[r]=e;return t}))},cda1:function(e,t,r){(function(t,r){e.exports=r()})(0,(function(){"use strict";var e=function(e,r){if(void 0===e&&(e=[]),void 0===r&&(r=t),this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function t(e,t){return e<t?-1:e>t?1:0}return e.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},e.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},e.prototype.peek=function(){return this.data[0]},e.prototype._up=function(e){var t=this,r=t.data,n=t.compare,i=r[e];while(e>0){var a=e-1>>1,o=r[a];if(n(i,o)>=0)break;r[e]=o,e=a}r[e]=i},e.prototype._down=function(e){var t=this,r=t.data,n=t.compare,i=this.length>>1,a=r[e];while(e<i){var o=1+(e<<1),s=r[o],u=o+1;if(u<this.length&&n(r[u],s)<0&&(o=u,s=r[u]),n(s,a)>=0)break;r[e]=s,e=o}r[e]=a},e}))},cdf9:function(e,t,r){var n=r("825a"),i=r("861d"),a=r("f069");e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e),o=r.resolve;return o(t),r.promise}},ce4e:function(e,t,r){var n=r("da84"),i=r("9112");e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},cfbe:function(e,t){const r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};class n{constructor(){this.value=0,this.fractionValue=0,this.divider=1,this.exponent=0,this.isNegative=!1,this.hasValue=!1,this.hasFraction=!1,this.hasExponent=!1}getValue(){let e=this.value;return this.hasFraction&&(e+=this.fractionValue/this.divider),this.hasExponent&&(e*=Math.pow(10,this.exponent)),this.isNegative?-e:e}reset(){this.value=0,this.fractionValue=0,this.divider=1,this.exponent=0,this.isNegative=!1,this.hasValue=!1,this.hasFraction=!1,this.hasExponent=!1}addCharacter(e){if(this.hasValue=!0,"-"===e)return void(this.isNegative=!0);if("."===e){if(this.hasFraction)throw new Error("Already has fractional part!");return void(this.hasFraction=!0)}if("e"===e){if(this.hasExponent)throw new Error("Already has exponent");return this.hasExponent=!0,void(this.exponent=0)}let t=r[e];if(void 0===t)throw new Error("Not a digit: "+e);this.hasExponent?this.exponent=10*this.exponent+t:this.hasFraction?(this.fractionValue=10*this.fractionValue+t,this.divider*=10):this.value=10*this.value+t}}e.exports=n},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,r){var n=r("428f"),i=r("da84"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},d139:function(e,t,r){"use strict";var n=r("ebb5"),i=r("b727").find,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d1e7:function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},d28b:function(e,t,r){var n=r("746f");n("iterator")},d2bb:function(e,t,r){var n=r("825a"),i=r("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(a){}return function(r,a){return n(r),i(a),t?e.call(r,a):r.__proto__=a,r}}():void 0)},d3b7:function(e,t,r){var n=r("00ee"),i=r("6eeb"),a=r("b041");n||i(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(e,t,r){var n=r("9bf2").f,i=r("5135"),a=r("b622"),o=a("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},d4ec:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},d58f:function(e,t,r){var n=r("1c0b"),i=r("7b0b"),a=r("44ad"),o=r("50c4"),s=function(e){return function(t,r,s,u){n(r);var l=i(t),c=a(l),f=o(l.length),d=e?f-1:0,h=e?-1:1;if(s<2)while(1){if(d in c){u=c[d],d+=h;break}if(d+=h,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=h)d in c&&(u=r(u,c[d],d,l));return u}};e.exports={left:s(!1),right:s(!0)}},d5d6:function(e,t,r){"use strict";var n=r("ebb5"),i=r("b727").forEach,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},d65c:function(e,t,r){e.exports=i,e.exports.generateFunctionBody=a;const n=r("28d9");function i(e){let t=a(e);return new Function("bodies","settings","random",t)}function a(e){let t=n(e),r=`\n  var boundingBox = {\n    ${t("min_{var}: 0, max_{var}: 0,",{indent:4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${t("base_{var} = 0",{join:", "})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${t("base_{var} += neighborPos.{var};",{indent:10})}\n        }\n\n        ${t("base_{var} /= neighbors.length;",{indent:8})}\n      } else {\n        ${t("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${t("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${t("var max_{var} = Number.MIN_VALUE;",{indent:4})}\n    ${t("var min_{var} = Number.MAX_VALUE;",{indent:4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${t("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}\n      ${t("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}\n    }\n\n    ${t("boundingBox.min_{var} = min_{var};",{indent:4})}\n    ${t("boundingBox.max_{var} = max_{var};",{indent:4})}\n  }\n\n  function resetBoundingBox() {\n    ${t("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}\n  }\n`;return r}},d784:function(e,t,r){"use strict";r("ac1f");var n=r("6eeb"),i=r("d039"),a=r("b622"),o=r("9263"),s=r("9112"),u=a("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),f=a("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),h=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var p=a(e),g=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),m=g&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!g||!m||"replace"===e&&(!l||!c||d)||"split"===e&&!h){var v=/./[p],y=r(p,""[e],(function(e,t,r,n,i){return t.exec===o?g&&!i?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=y[0],E=y[1];n(String.prototype,e,b),n(RegExp.prototype,p,2==t?function(e,t){return E.call(e,this,t)}:function(e){return E.call(e,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},d81d:function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").map,a=r("1dde"),o=a("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d9da:function(e,t){function r(e){var t="number"===typeof e?e:+new Date;return new n(t)}function n(e){this.seed=e}function i(){var e,t,r;do{t=2*this.nextDouble()-1,r=2*this.nextDouble()-1,e=t*t+r*r}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)}function a(){var e=1.5,t=Math.pow(o(1+e)*Math.sin(Math.PI*e/2)/(o((1+e)/2)*e*Math.pow(2,(e-1)/2)),1/e);return this.gaussian()*t/Math.pow(Math.abs(this.gaussian()),1/e)}function o(e){return Math.sqrt(2*Math.PI/e)*Math.pow(1/Math.E*(e+1/(12*e-1/(10*e))),e)}function s(){var e=this.seed;return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),this.seed=e,(268435455&e)/268435456}function u(e){return Math.floor(this.nextDouble()*e)}function l(e,t){var n=t||r();if("function"!==typeof n.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:a,shuffle:i};function i(){var t,r,i;for(t=e.length-1;t>0;--t)r=n.next(t+1),i=e[r],e[r]=e[t],e[t]=i;return e}function a(t){var r,i,a;for(r=e.length-1;r>0;--r)i=n.next(r+1),a=e[i],e[i]=e[r],e[r]=a,t(a);e.length&&t(e[0])}}e.exports=r,e.exports.random=r,e.exports.randomIterator=l,n.prototype.next=u,n.prototype.nextDouble=s,n.prototype.uniform=s,n.prototype.gaussian=i,n.prototype.levy=a},da84:function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r("c8ba"))},dbb4:function(e,t,r){var n=r("23e7"),i=r("83ab"),a=r("56ef"),o=r("fc6a"),s=r("06cf"),u=r("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,r,n=o(e),i=s.f,l=a(n),c={},f=0;while(l.length>f)r=i(n,t=l[f++]),void 0!==r&&u(c,t,r);return c}})},ddb0:function(e,t,r){var n=r("da84"),i=r("fdbc"),a=r("e260"),o=r("9112"),s=r("b622"),u=s("iterator"),l=s("toStringTag"),c=a.values;for(var f in i){var d=n[f],h=d&&d.prototype;if(h){if(h[u]!==c)try{o(h,u,c)}catch(g){h[u]=c}if(h[l]||o(h,l,f),i[f])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(g){h[p]=a[p]}}}},de34:function(e,t){const r=1,n=2,i=3,a=4,o=5,s=6,u=7,l=8,c=9,f=10,d=11,h="A".charCodeAt(0),p="z".charCodeAt(0),g=/\s/;function m(e){let t=e.charCodeAt(0);return h<=t&&t<=p||"_"===e||"-"===e||":"===e}function v(e){return g.test(e)}e.exports=function(e,t,h){let p,g,y,b,E,_,T=r;return h?w:A;function w(e){return new Promise(t=>S(e,0,t))}function S(e,t,r){let n=window.performance.now(),i=0;while(t<e.length)if(I(e[t]),t+=1,i+=1,i>3e4){let i=window.performance.now()-n;if(i>32)return void setTimeout(()=>S(e,t,r),0)}r()}function A(e){return R(e,0)}function R(e,t){while(t<e.length)I(e[t]),t+=1}function I(h){switch(T){case r:"<"===h?T=n:_&&_.push(h);break;case s:">"===h&&(T=r);break;case n:"!"===h||"?"===h?(E=[h],T=o):"/"===h?(_&&(b.innerText=_.join(""),_=null),t(b),b&&(b=b.parent),T=s,_=null):(T=i,E=[h]);break;case o:{E.push(h);let e=E.length;E.length>3&&">"===E[e-1]&&"-"===E[e-2]&&"-"===E[e-3]?(T=r,_=null):"!"!==E[0]&&"?"!==E[0]||(T=s);break}case i:if(m(h))E.push(h);else if("/"===h)T=a,E=[];else{g=E.join(""),T=u;let e=b;b={tagName:g,attributes:new Map,parent:e,children:[]},e&&e.children.push(b)}break;case a:if(m(h))E.push(h);else if(">"===h){let e=E.join("");if(e!==g)throw new Error("Expected "+g+" to be closed, but got "+e)}break;case u:if(">"===h){let n=E.length;e(b),n>0&&"/"===E[n-1]&&(t(b),b&&(b=b.parent)),T=r,_=[]}else m(h)?(E=[h],T=l):E.push(h);break;case l:m(h)?E.push(h):(T="="===h?f:d,y=E.join(""));break;case d:"="===h?T=f:m(h)&&(T=l,b.attributes.set(E.join(""),!0),E=[h]);break;case f:'"'!==h&&"'"!==h&&v(h)||(E=[],T=c,p=h);break;case c:h===p?(T=u,b.attributes.set(y,E.join("")),y=null,E=[]):E.push(h);break}}}},df75:function(e,t,r){var n=r("ca84"),i=r("7839");e.exports=Object.keys||function(e){return n(e,i)}},e01a:function(e,t,r){"use strict";var n=r("23e7"),i=r("83ab"),a=r("da84"),o=r("5135"),s=r("861d"),u=r("9bf2").f,l=r("e893"),c=a.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};l(d,c);var h=d.prototype=c.prototype;h.constructor=d;var p=h.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(f,e))return"";var r=g?t.slice(7,-1):t.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},e163:function(e,t,r){var n=r("5135"),i=r("7b0b"),a=r("f772"),o=r("e177"),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},e177:function(e,t,r){var n=r("d039");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,r){"use strict";var n=r("fc6a"),i=r("44d2"),a=r("3f8c"),o=r("69f3"),s=r("7dd0"),u="Array Iterator",l=o.set,c=o.getterFor(u);e.exports=s(Array,"Array",(function(e,t){l(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},e285:function(e,t,r){var n=r("da84"),i=n.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},e2cc:function(e,t,r){var n=r("6eeb");e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},e393:function(e,t){function r(e,t,r,n){this.from=e,this.to=t,this.length=r,this.coeff=n}e.exports=r},e439:function(e,t,r){var n=r("23e7"),i=r("d039"),a=r("fc6a"),o=r("06cf").f,s=r("83ab"),u=i((function(){o(1)})),l=!s||u;n({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e4de:function(e,t){function r(e){var t=Object.create(null);return{on:function(r,n,i){if("function"!==typeof n)throw new Error("callback is expected to be a function");var a=t[r];return a||(a=t[r]=[]),a.push({callback:n,ctx:i}),e},off:function(r,n){var i="undefined"===typeof r;if(i)return t=Object.create(null),e;if(t[r]){var a="function"!==typeof n;if(a)delete t[r];else for(var o=t[r],s=0;s<o.length;++s)o[s].callback===n&&o.splice(s,1)}return e},fire:function(r){var n,i=t[r];if(!i)return e;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var a=0;a<i.length;++a){var o=i[a];o.callback.apply(o.ctx,n)}return e}}}function n(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}e.exports=function(e){n(e);var t=r(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},e4e2:function(e,t){function r(e,t,r){var i="[object Array]"===Object.prototype.toString.call(r);if(i)for(var a=0;a<r.length;++a)n(e,t,r[a]);else for(var o in e)n(e,t,o)}function n(e,t,r){if(e.hasOwnProperty(r)){if("function"===typeof t[r])return;t[r]=function(n){return void 0!==n?(e[r]=n,t):e[r]}}}e.exports=r},e538:function(e,t,r){var n=r("b622");t.f=n},e58c:function(e,t,r){"use strict";var n=r("fc6a"),i=r("a691"),a=r("50c4"),o=r("a640"),s=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,c=o("lastIndexOf"),f=l||!c;e.exports=f?function(e){if(l)return u.apply(this,arguments)||0;var t=n(this),r=a(t.length),o=r-1;for(arguments.length>1&&(o=s(o,i(arguments[1]))),o<0&&(o=r+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:u},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6b8:function(e,t,r){},e6cf:function(e,t,r){"use strict";var n,i,a,o,s=r("23e7"),u=r("c430"),l=r("da84"),c=r("d066"),f=r("fea9"),d=r("6eeb"),h=r("e2cc"),p=r("d44e"),g=r("2626"),m=r("861d"),v=r("1c0b"),y=r("19aa"),b=r("8925"),E=r("2266"),_=r("1c7e"),T=r("4840"),w=r("2cf4").set,S=r("b575"),A=r("cdf9"),R=r("44de"),I=r("f069"),C=r("e667"),D=r("69f3"),N=r("94ca"),x=r("b622"),M=r("605d"),O=r("2d00"),P=x("species"),L="Promise",k=D.get,F=D.set,j=D.getterFor(L),B=f,U=l.TypeError,q=l.document,G=l.process,V=c("fetch"),H=I.f,Y=H,z=!!(q&&q.createEvent&&l.dispatchEvent),K="function"==typeof PromiseRejectionEvent,W="unhandledrejection",$="rejectionhandled",X=0,Q=1,Z=2,J=1,ee=2,te=N(L,(function(){var e=b(B)!==String(B);if(!e){if(66===O)return!0;if(!M&&!K)return!0}if(u&&!B.prototype["finally"])return!0;if(O>=51&&/native code/.test(B))return!1;var t=B.resolve(1),r=function(e){e((function(){}),(function(){}))},n=t.constructor={};return n[P]=r,!(t.then((function(){}))instanceof r)})),re=te||!_((function(e){B.all(e)["catch"]((function(){}))})),ne=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;S((function(){var n=e.value,i=e.state==Q,a=0;while(r.length>a){var o,s,u,l=r[a++],c=i?l.ok:l.fail,f=l.resolve,d=l.reject,h=l.domain;try{c?(i||(e.rejection===ee&&ue(e),e.rejection=J),!0===c?o=n:(h&&h.enter(),o=c(n),h&&(h.exit(),u=!0)),o===l.promise?d(U("Promise-chain cycle")):(s=ne(o))?s.call(o,f,d):f(o)):d(n)}catch(p){h&&!u&&h.exit(),d(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&oe(e)}))}},ae=function(e,t,r){var n,i;z?(n=q.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!K&&(i=l["on"+e])?i(n):e===W&&R("Unhandled promise rejection",r)},oe=function(e){w.call(l,(function(){var t,r=e.facade,n=e.value,i=se(e);if(i&&(t=C((function(){M?G.emit("unhandledRejection",n,r):ae(W,r,n)})),e.rejection=M||se(e)?ee:J,t.error))throw t.value}))},se=function(e){return e.rejection!==J&&!e.parent},ue=function(e){w.call(l,(function(){var t=e.facade;M?G.emit("rejectionHandled",t):ae($,t,e.value)}))},le=function(e,t,r){return function(n){e(t,n,r)}},ce=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=Z,ie(e,!0))},fe=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw U("Promise can't be resolved itself");var n=ne(t);n?S((function(){var r={done:!1};try{n.call(t,le(fe,r,e),le(ce,r,e))}catch(i){ce(r,i,e)}})):(e.value=t,e.state=Q,ie(e,!1))}catch(i){ce({done:!1},i,e)}}};te&&(B=function(e){y(this,B,L),v(e),n.call(this);var t=k(this);try{e(le(fe,t),le(ce,t))}catch(r){ce(t,r)}},n=function(e){F(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:X,value:void 0})},n.prototype=h(B.prototype,{then:function(e,t){var r=j(this),n=H(T(this,B));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=M?G.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=X&&ie(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=k(e);this.promise=e,this.resolve=le(fe,t),this.reject=le(ce,t)},I.f=H=function(e){return e===B||e===a?new i(e):Y(e)},u||"function"!=typeof f||(o=f.prototype.then,d(f.prototype,"then",(function(e,t){var r=this;return new B((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return A(B,V.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:B}),p(B,L,!1,!0),g(L),a=c(L),s({target:L,stat:!0,forced:te},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:L,stat:!0,forced:u||te},{resolve:function(e){return A(u&&this===a?B:this,e)}}),s({target:L,stat:!0,forced:re},{all:function(e){var t=this,r=H(t),n=r.resolve,i=r.reject,a=C((function(){var r=v(t.resolve),a=[],o=0,s=1;E(e,(function(e){var u=o++,l=!1;a.push(void 0),s++,r.call(t,e).then((function(e){l||(l=!0,a[u]=e,--s||n(a))}),i)})),--s||n(a)}));return a.error&&i(a.value),r.promise},race:function(e){var t=this,r=H(t),n=r.reject,i=C((function(){var i=v(t.resolve);E(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},e893:function(e,t,r){var n=r("5135"),i=r("56ef"),a=r("06cf"),o=r("9bf2");e.exports=function(e,t){for(var r=i(t),s=o.f,u=a.f,l=0;l<r.length;l++){var c=r[l];n(e,c)||s(e,c,u(t,c))}}},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},e91f:function(e,t,r){"use strict";var n=r("ebb5"),i=r("4d64").indexOf,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},e95a:function(e,t,r){var n=r("b622"),i=r("3f8c"),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},ebb5:function(e,t,r){"use strict";var n,i=r("a981"),a=r("83ab"),o=r("da84"),s=r("861d"),u=r("5135"),l=r("f5df"),c=r("9112"),f=r("6eeb"),d=r("9bf2").f,h=r("e163"),p=r("d2bb"),g=r("b622"),m=r("90e3"),v=o.Int8Array,y=v&&v.prototype,b=o.Uint8ClampedArray,E=b&&b.prototype,_=v&&h(v),T=y&&h(y),w=Object.prototype,S=w.isPrototypeOf,A=g("toStringTag"),R=m("TYPED_ARRAY_TAG"),I=i&&!!p&&"Opera"!==l(o.opera),C=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},x=function(e){if(!s(e))return!1;var t=l(e);return"DataView"===t||u(D,t)||u(N,t)},M=function(e){if(!s(e))return!1;var t=l(e);return u(D,t)||u(N,t)},O=function(e){if(M(e))return e;throw TypeError("Target is not a typed array")},P=function(e){if(p){if(S.call(_,e))return e}else for(var t in D)if(u(D,n)){var r=o[t];if(r&&(e===r||S.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},L=function(e,t,r){if(a){if(r)for(var n in D){var i=o[n];i&&u(i.prototype,e)&&delete i.prototype[e]}T[e]&&!r||f(T,e,r?t:I&&y[e]||t)}},k=function(e,t,r){var n,i;if(a){if(p){if(r)for(n in D)i=o[n],i&&u(i,e)&&delete i[e];if(_[e]&&!r)return;try{return f(_,e,r?t:I&&v[e]||t)}catch(s){}}for(n in D)i=o[n],!i||i[e]&&!r||f(i,e,t)}};for(n in D)o[n]||(I=!1);if((!I||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},I))for(n in D)o[n]&&p(o[n],_);if((!I||!T||T===w)&&(T=_.prototype,I))for(n in D)o[n]&&p(o[n].prototype,T);if(I&&h(E)!==T&&p(E,T),a&&!u(T,A))for(n in C=!0,d(T,A,{get:function(){return s(this)?this[R]:void 0}}),D)o[n]&&c(o[n],R,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:C&&R,aTypedArray:O,aTypedArrayConstructor:P,exportTypedArrayMethod:L,exportTypedArrayStaticMethod:k,isView:x,isTypedArray:M,TypedArray:_,TypedArrayPrototype:T}},f00c:function(e,t,r){var n=r("23e7"),i=r("e285");n({target:"Number",stat:!0},{isFinite:i})},f069:function(e,t,r){"use strict";var n=r("1c0b"),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},f183:function(e,t,r){var n=r("d012"),i=r("861d"),a=r("5135"),o=r("9bf2").f,s=r("90e3"),u=r("bb2f"),l=s("meta"),c=0,f=Object.isExtensible||function(){return!0},d=function(e){o(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,l)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[l].objectID},p=function(e,t){if(!a(e,l)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[l].weakData},g=function(e){return u&&m.REQUIRED&&f(e)&&!a(e,l)&&d(e),e},m=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:g};n[l]=!0},f5df:function(e,t,r){var n=r("00ee"),i=r("c6b6"),a=r("b622"),o=a("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(r){}};e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=Object(e),o))?r:s?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},f772:function(e,t,r){var n=r("5692"),i=r("90e3"),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},f8c9:function(e,t,r){var n=r("23e7"),i=r("da84"),a=r("d44e");n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},f8cd:function(e,t,r){var n=r("a691");e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},fa9e:function(e,t,r){"use strict";var n=r("ebb5"),i=r("a258").findLast,a=n.aTypedArray,o=n.exportTypedArrayMethod;o("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},fb6a:function(e,t,r){"use strict";var n=r("23e7"),i=r("861d"),a=r("e8b5"),o=r("23cb"),s=r("50c4"),u=r("fc6a"),l=r("8418"),c=r("b622"),f=r("1dde"),d=f("slice"),h=c("species"),p=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var r,n,c,f=u(this),d=s(f.length),m=o(e,d),v=o(void 0===t?d:t,d);if(a(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?i(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(f,m,v);for(n=new(void 0===r?Array:r)(g(v-m,0)),c=0;m<v;m++,c++)m in f&&l(n,c,f[m]);return n.length=c,n}})},fc6a:function(e,t,r){var n=r("44ad"),i=r("1d80");e.exports=function(e){return n(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,r){var n=r("4930");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,r){var n=r("da84");e.exports=n.Promise}}]);
//# sourceMappingURL=chunk-vendors.a9f42c7a.js.map